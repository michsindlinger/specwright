# Architecture Structure: Specwright

> Version: 1.0
> Created: 2026-02-14
> Based on: architecture-decision.md

---

## Directory Structure (Framework Repository)

```
specwright/                          # Repository root
│
├── CLAUDE.md                        # Framework development instructions
├── README.md                        # Public documentation
├── INSTALL.md                       # Installation guide
│
├── setup.sh                         # Project-level installation
├── setup-claude-code.sh             # Claude Code commands installation
├── setup-devteam-global.sh          # Global templates installation
├── setup-mcp.sh                     # MCP server installation
├── setup-market-validation-*.sh     # Market validation setup
├── update-*.sh                      # Update scripts
│
├── .claude/
│   ├── agents/                      # 26 Agent definitions
│   │   ├── context-fetcher.md       # Utility: Load documents
│   │   ├── date-checker.md          # Utility: Current date
│   │   ├── file-creator.md          # Utility: Create files
│   │   ├── git-workflow.md          # Utility: Git operations
│   │   └── [role]-*.md              # Specialist agents (templates)
│   │
│   ├── commands/specwright/         # 34 Slash command definitions
│   │   ├── plan-product.md          # /plan-product
│   │   ├── create-spec.md           # /create-spec
│   │   ├── execute-tasks.md         # /execute-tasks
│   │   └── ...                      # All other commands
│   │
│   └── skills/                      # Active skills (project-level)
│       └── [skill-name]/SKILL.md    # Generated by /build-development-team
│
├── specwright/
│   ├── config.yml                   # Framework configuration
│   │
│   ├── product/                     # Product documentation (generated)
│   │   ├── product-brief.md         # Full product brief
│   │   ├── product-brief-lite.md    # Condensed for AI context
│   │   ├── tech-stack.md            # Technology decisions
│   │   ├── roadmap.md               # Development roadmap
│   │   ├── architecture-decision.md # ADRs
│   │   └── architecture-structure.md # This file
│   │
│   ├── workflows/
│   │   ├── core/                    # Core workflows (29 files)
│   │   │   ├── plan-product.md      # Product planning workflow
│   │   │   ├── create-spec.md       # Spec creation workflow
│   │   │   ├── execute-tasks/       # Phase-based execution (12 files)
│   │   │   │   ├── entry-point.md
│   │   │   │   ├── spec-phase-*.md
│   │   │   │   ├── backlog-phase-*.md
│   │   │   │   └── shared/          # Shared execution logic
│   │   │   └── guidelines/          # Execution guidelines
│   │   ├── marketing/               # Marketing workflows
│   │   ├── meta/                    # Meta workflows (pre-flight)
│   │   ├── skill/                   # Skill creation workflows
│   │   ├── team/                    # Team management workflows
│   │   └── validation/              # Market validation workflows
│   │
│   ├── templates/
│   │   ├── docs/                    # Document templates (stories, specs, kanban)
│   │   ├── documents/               # Product document templates
│   │   ├── product/                 # Product planning templates
│   │   ├── platform/                # Platform planning templates
│   │   ├── skills/                  # Skill templates (per technology)
│   │   │   ├── frontend/            # Angular, React, Vue
│   │   │   ├── backend/             # Spring, NestJS, Rails
│   │   │   ├── devops/              # Docker, GitHub Actions
│   │   │   ├── dev-team/            # Role-based skills
│   │   │   └── [category]/          # Specialized skills
│   │   ├── agents/dev-team/         # Agent templates
│   │   ├── json/                    # JSON templates (kanban, backlog)
│   │   ├── schemas/                 # JSON schemas
│   │   ├── knowledge/               # Knowledge base templates
│   │   ├── market-validation/       # Validation templates
│   │   └── research/                # Research templates
│   │
│   ├── standards/                   # Coding standards
│   │   ├── code-style.md            # General code style
│   │   ├── code-style/              # Language-specific styles
│   │   ├── best-practices.md        # Development philosophy
│   │   ├── plan-review-guidelines.md # Plan quality standards
│   │   └── tech-stack.md            # Tech stack standards
│   │
│   ├── profiles/                    # Tech-stack profiles
│   │   ├── base.md                  # Base profile
│   │   ├── angular-frontend.md
│   │   ├── react-frontend.md
│   │   └── java-spring-boot.md
│   │
│   ├── estimations/                 # Estimation system
│   │   ├── config/                  # Estimation configuration
│   │   ├── active/                  # Active estimations
│   │   ├── completed/               # Completed estimations
│   │   ├── reports/                 # Estimation reports
│   │   └── history/                 # Estimation history
│   │
│   ├── scripts/
│   │   ├── auto-execute.sh          # Automation script
│   │   └── mcp/                     # MCP server TypeScript files
│   │
│   └── docs/                        # Framework documentation
│       ├── story-sizing-guidelines.md
│       ├── mcp-setup-guide.md
│       ├── agent-learning-guide.md
│       └── automation-guide.md
│
└── ~/.specwright/                   # Global installation (user-level)
    ├── templates/                   # Fallback templates (all categories)
    └── standards/                   # Fallback standards
```

---

## File Placement Rules

### When adding a new workflow:
1. Create workflow: `specwright/workflows/core/[name].md`
2. Create command: `.claude/commands/specwright/[name].md`
3. Add templates if needed: `specwright/templates/[category]/`
4. Update setup scripts: `setup.sh`, `setup-claude-code.sh`
5. Update global setup: `setup-devteam-global.sh` (if new templates)

### When adding a new skill template:
1. Create skill: `specwright/templates/skills/[category]/[tech]/SKILL.md`
2. Add supporting files: `dos-and-donts.md`, `[topic].md`
3. Update global setup: `setup-devteam-global.sh`

### When adding a new agent:
1. Create agent: `.claude/agents/[name].md`
2. Update `setup-claude-code.sh` to include in installation

### When adding a new template:
1. Create template: `specwright/templates/[category]/[name].md`
2. Update global setup: `setup-devteam-global.sh`
3. Reference in workflow with Hybrid Lookup block

---

## Naming Conventions

| Type | Pattern | Example |
|------|---------|---------|
| Workflow | `kebab-case.md` | `plan-product.md` |
| Command | `kebab-case.md` | `plan-product.md` |
| Template | `kebab-case-template.md` | `product-brief-template.md` |
| Skill | `SKILL.md` (always uppercase) | `frontend/angular/SKILL.md` |
| Agent | `kebab-case.md` | `context-fetcher.md` |
| Schema | `kebab-case-schema.json` | `backlog-schema.json` |
| Setup Script | `setup-[purpose].sh` | `setup-devteam-global.sh` |
| Update Script | `update-[scope].sh` | `update-all.sh` |

---

## Workflow File Structure

Each workflow follows this standard structure:

```markdown
---
description: [Brief description]
globs: [optional glob patterns]
alwaysApply: false
version: [X.Y]
encoding: UTF-8
installation: [global|project]
---

# [Workflow Name]

## What's New in v[X.Y]
[Changes from previous version]

## Overview
[What this workflow does]

<pre_flight_check>
  EXECUTE: @specwright/workflows/meta/pre-flight.md
</pre_flight_check>

<process_flow>
  <step number="N" name="step_name">
    ### Step N: [Title]
    [Instructions, skill loading, template lookup, output]
  </step>
</process_flow>

## Error Handling
## Output Files
## Execution Summary
```

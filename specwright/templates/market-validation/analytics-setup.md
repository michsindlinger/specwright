# Analytics Setup Guide

> Product: [PRODUCT_NAME]
> Created: [DATE]
> Landing Page: [URL]
> Generated by: validation-specialist

## Overview

Complete analytics setup for tracking validation campaign performance, user behavior, and conversion optimization.

**Tools Used**:
- Google Analytics 4 (traffic, conversions) - FREE
- [Heatmap Tool: Hotjar / Microsoft Clarity] - FREE
- [Optional: Email service analytics]

**Setup Time**: 30-45 minutes total

---

## 1. Google Analytics 4 Setup

### Step 1: Create GA4 Property

1. Go to [analytics.google.com](https://analytics.google.com)
2. Click "Admin" (bottom left)
3. Click "+ Create Property"
4. Property name: "[PRODUCT_NAME] Validation"
5. Time zone: [Your time zone - e.g., "Europe/Berlin"]
6. Currency: EUR
7. Click "Next"

### Step 2: Create Data Stream

1. Platform: "Web"
2. Website URL: [Your landing page URL]
3. Stream name: "[PRODUCT_NAME] Landing Page"
4. Enhanced measurement: ✅ Enable (tracks scrolls, outbound clicks, searches automatically)
5. Click "Create stream"

### Step 3: Install Tracking Code

**Copy the tracking code** (looks like this):
```html
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXXXXX"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-XXXXXXXXXX');
</script>
```

**Add to landing page**:
- Paste in `<head>` section (before closing `</head>` tag)
- Replace `G-XXXXXXXXXX` with your actual Measurement ID
- Save and deploy

**Verify Installation**:
1. Open landing page in browser
2. Install "Google Analytics Debugger" Chrome extension
3. Check console for GA4 tracking confirmation
4. Or: Use GA4 Realtime report → Should show your visit

### Step 4: Configure Enhanced Measurement

**Auto-Tracked Events** (no code needed):
- ✅ Page views
- ✅ Scrolls (90% depth)
- ✅ Outbound clicks
- ✅ Site search (if you have search)
- ✅ Video engagement (if you have video)
- ✅ File downloads

**Verify**: Admin → Data Streams → Click your stream → Enhanced measurement (toggle on)

---

## 2. Conversion Tracking Setup

### Method 1: Event-Based Conversion (Recommended)

**What to Track**: Email form submission

**Add Conversion Code** (in form submission handler):
```html
<form id="signup-form">
  <input type="email" id="email" required>
  <button type="submit">Get Early Access</button>
</form>

<script>
document.getElementById('signup-form').addEventListener('submit', function(e) {
  e.preventDefault();

  // Track conversion in GA4
  gtag('event', 'sign_up', {
    method: 'Email',
    value: [ESTIMATED_VALUE_OR_OMIT]
  });

  // Track in Meta Pixel (if using Facebook Ads)
  fbq('track', 'Lead');

  // Submit form (or show success message)
  alert('Thank you! Check your email.');
});
</script>
```

### Step 5: Mark as Conversion in GA4

1. GA4 → Admin → Events
2. Find "sign_up" event (after first form submission)
3. Toggle "Mark as conversion" → ✅ On
4. Save

**Verify**: Submit test email → Check GA4 Realtime → Conversions

### Method 2: Destination-Based Conversion (Alternative)

**If redirecting to thank-you page**:
```
Form submits → Redirect to /thank-you
Track /thank-you page view as conversion
```

**Setup**:
1. GA4 → Admin → Conversions
2. Create conversion event
3. Event name: `page_view`
4. Condition: `page_location` contains `/thank-you`

---

## 3. Custom Event Tracking

### Button Click Tracking

**Track CTA button clicks** (before form):
```html
<button id="cta-hero" onclick="trackCTAClick('hero')">Start Free Trial</button>

<script>
function trackCTAClick(location) {
  gtag('event', 'cta_click', {
    button_location: location,
    button_text: event.target.innerText
  });
}
</script>
```

**Multiple CTAs**:
```html
<button onclick="trackCTAClick('hero')">Start Free Trial</button>
<!-- Mid-page -->
<button onclick="trackCTAClick('features')">Start Free Trial</button>
<!-- Footer -->
<button onclick="trackCTAClick('footer')">Start Free Trial</button>
```

**Analysis**: See which CTA position converts best

### Scroll Depth Tracking

**Track engagement by scroll depth**:
```javascript
let scrollTracked = { 25: false, 50: false, 75: false, 90: false };

window.addEventListener('scroll', function() {
  let scrollPercent = (window.scrollY + window.innerHeight) / document.body.scrollHeight * 100;

  [25, 50, 75, 90].forEach(function(threshold) {
    if (scrollPercent >= threshold && !scrollTracked[threshold]) {
      gtag('event', 'scroll', {
        percent: threshold
      });
      scrollTracked[threshold] = true;
    }
  });
});
```

**Analysis**: If only 20% scroll to 50% → CTA should be higher on page

### Time on Page Tracking

**Track engaged users** (>30 seconds):
```javascript
setTimeout(function() {
  gtag('event', 'engaged_user', {
    time_threshold: 30
  });
}, 30000); // 30 seconds

setTimeout(function() {
  gtag('event', 'highly_engaged', {
    time_threshold: 60
  });
}, 60000); // 60 seconds
```

**Analysis**: Compare conversion rate of engaged users vs. all users

---

## 4. Heatmap Tool Setup

### Option 1: Microsoft Clarity (Recommended - Free)

**Why Clarity**:
- ✅ Completely free (no limits)
- ✅ Unlimited heatmaps and session recordings
- ✅ Easy setup (5 minutes)
- ✅ GDPR compliant

**Setup Steps**:
1. Go to [clarity.microsoft.com](https://clarity.microsoft.com)
2. Sign up with Microsoft account
3. Click "Add new project"
4. Project name: "[PRODUCT_NAME] Validation"
5. Website URL: [Your landing page]
6. Copy tracking code
7. Paste in landing page `<head>` (after GA4 code)
8. Save and deploy

**Tracking Code**:
```html
<script type="text/javascript">
  (function(c,l,a,r,i,t,y){
    c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
    t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
    y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
  })(window, document, "clarity", "script", "YOUR_PROJECT_ID");
</script>
```

**What to Analyze** (after 100+ sessions):
- **Click Heatmap**: Where users click (rage clicks = frustration)
- **Scroll Heatmap**: How far users scroll (most drop-off point?)
- **Session Recordings**: Watch 10-20 real user sessions

### Option 2: Hotjar (Free Tier)

**Limitations**: 35 sessions/day on free tier

**Setup**:
1. Go to [hotjar.com](https://www.hotjar.com)
2. Sign up
3. Add site: [Landing page URL]
4. Copy tracking code
5. Install in `<head>`

**Free Tier Includes**:
- Heatmaps (click, move, scroll)
- Session recordings (35/day)
- Basic feedback widget

---

## 5. Meta Pixel Setup (for Facebook Ads)

### Install Meta Pixel

**Step 1: Create Pixel**
1. Facebook Events Manager
2. Data Sources → Pixels
3. Click "Add" → "Create a Pixel"
4. Name: "[PRODUCT_NAME] Validation Pixel"
5. Enter website URL
6. Copy pixel base code

**Step 2: Install Base Code**
```html
<!-- Meta Pixel Code -->
<script>
!function(f,b,e,v,n,t,s)
{if(f.fbq)return;n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};
if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];
s.parentNode.insertBefore(t,s)}(window, document,'script',
'https://connect.facebook.net/en_US/fbevents.js');
fbq('init', 'YOUR_PIXEL_ID');
fbq('track', 'PageView');
</script>
<noscript><img height="1" width="1" style="display:none"
src="https://www.facebook.com/tr?id=YOUR_PIXEL_ID&ev=PageView&noscript=1"
/></noscript>
<!-- End Meta Pixel Code -->
```

**Add to `<head>`** (after GA4 code)

**Step 3: Track Conversions**
```javascript
// In form submit handler
fbq('track', 'Lead');
```

**Verify**:
- Install "Meta Pixel Helper" Chrome extension
- Visit landing page → Should show green checkmark
- Submit test form → Should show "Lead" event

---

## 6. Dashboard Design

### Key Metrics Dashboard

**Create Custom Report in GA4**:
1. Explore → Create New Exploration
2. Type: "Free Form"
3. Add metrics:
   - Users
   - Sessions
   - Conversions (sign_up)
   - Conversion rate
4. Add dimensions:
   - Source/Medium (google/cpc, facebook/cpc)
   - Campaign
   - Landing page
5. Save as "Validation Dashboard"

**Dashboard Layout** (recommended):
```
┌──────────────────────────────────────────┐
│ CONVERSION RATE: [X]%                   │
│ Target: [Y]% | Status: [✅/⚠️/❌]      │
├──────────────────────────────────────────┤
│ Traffic: [#]      | Conversions: [#]    │
│ Bounce Rate: [%]  | Avg Time: [MM:SS]   │
├──────────────────────────────────────────┤
│ Traffic by Source:                       │
│ ▓▓▓▓▓▓▓ Google: [#] ([%])              │
│ ▓▓▓▓ Facebook: [#] ([%])               │
│ ▓ Direct: [#] ([%])                     │
├──────────────────────────────────────────┤
│ Cost Per Acquisition: €[X]              │
│ Total Ad Spend: €[Y]                    │
└──────────────────────────────────────────┘
```

### Metrics to Monitor Daily

**Primary**:
- [ ] Total Visitors (are ads driving traffic?)
- [ ] Conversion Rate (are visitors signing up?)
- [ ] Ad Spend (on budget?)
- [ ] CPA (cost efficient?)

**Secondary**:
- [ ] Bounce Rate (users engaging?)
- [ ] Avg Time on Page (reading content?)
- [ ] Traffic by Source (which channel winning?)
- [ ] Top Landing Pages (if testing variants)

---

## 7. Email Collection & Management

### Email Service Options

**Option 1: Mailchimp** (Free up to 500 contacts)
- ✅ Email collection forms
- ✅ Welcome email automation
- ✅ Basic analytics
- ❌ Limited on free tier

**Option 2: ConvertKit** (Free up to 1,000 subscribers)
- ✅ Landing page builder (if not using custom)
- ✅ Email sequences
- ✅ Tagging and segmentation
- ✅ Better for creators

**Option 3: Google Sheets** (Completely free)
- ✅ Simple, no signup required
- ✅ Export to any service later
- ❌ No email automation
- ❌ Manual management

**Recommended for Validation**: Option 3 (Google Sheets) - simplest, no cost

### Google Sheets Integration

**Form Submission to Sheets**:
```html
<form id="signup-form">
  <input type="email" id="email" required>
  <button type="submit">Get Early Access</button>
</form>

<script>
document.getElementById('signup-form').addEventListener('submit', async function(e) {
  e.preventDefault();

  const email = document.getElementById('email').value;

  // Track conversion
  gtag('event', 'sign_up', { method: 'Email' });

  // Send to Google Sheets (via Google Apps Script)
  await fetch('YOUR_GOOGLE_APPS_SCRIPT_URL', {
    method: 'POST',
    body: JSON.stringify({
      email: email,
      timestamp: new Date().toISOString(),
      source: window.location.search // UTM parameters
    })
  });

  // Show success message
  alert('Thank you! Check your email for updates.');
});
</script>
```

**Google Apps Script** (in Google Sheets):
```javascript
function doPost(e) {
  var sheet = SpreadsheetApp.getActiveSheet();
  var data = JSON.parse(e.postData.contents);

  sheet.appendRow([
    new Date(),
    data.email,
    data.source
  ]);

  return ContentService.createTextOutput('Success');
}
```

**Publish as Web App**:
1. Extensions → Apps Script
2. Paste code above
3. Deploy → New deployment → Web app
4. Access: Anyone
5. Copy URL → Use in fetch() call

---

## 8. Conversion Funnel Tracking

### Funnel Steps to Track

**Step 1: Page View**
- Event: `page_view` (auto-tracked)
- Goal: Get users to landing page

**Step 2: Engagement** (scroll or time)
- Event: `scroll` (90% depth, auto-tracked)
- Event: `engaged_user` (custom, >30 sec)
- Goal: User reads content

**Step 3: CTA Click**
- Event: `cta_click` (custom)
- Goal: User clicks "Start Free Trial" button

**Step 4: Form Start**
- Event: `form_start` (auto-tracked if enhanced measurement on)
- Goal: User starts filling email field

**Step 5: Conversion**
- Event: `sign_up` (custom)
- Goal: User submits email

### Funnel Analysis

**Typical Conversion Funnel** (expected drop-offs):
```
1,000 Page Views (100%)
  ↓ (40% bounce immediately)
600 Engaged Users (60%)
  ↓ (50% don't click CTA)
300 CTA Clicks (30%)
  ↓ (20% don't start form)
240 Form Starts (24%)
  ↓ (20% don't complete)
192 Form Submissions (19.2%)
  ↓ (10% invalid emails)
173 Valid Conversions (17.3%)
```

**Optimization Opportunities**:
- High bounce (>60%): Improve headline match with ad
- Low CTA clicks (<20%): Make button more prominent
- Low form starts (<50% of clicks): Simplify form, reduce friction
- Low completion (<80%): Remove unnecessary fields

---

## 9. Dashboard & Reporting

### Daily Snapshot (5 minutes)

**Check Every Morning**:
```
Yesterday's Performance:
- Visitors: [#]
- Conversions: [#]
- Conversion Rate: [%]
- Ad Spend: €[X]
- CPA: €[Y]

Running Totals (Campaign to Date):
- Total Visitors: [#]
- Total Conversions: [#]
- Overall Conversion Rate: [%]
- Total Spend: €[X]
- Average CPA: €[Y]

Status vs. Goals:
- Conversion Rate: [✅ On track / ⚠️ Below target / ❌ Off track]
- CPA: [✅ On track / ⚠️ Above target / ❌ Off track]
```

### Weekly Report Template

**Week [X] Performance Summary**:

**Traffic**:
- Total Visitors: [#]
- Google Ads: [#] ([%])
- Facebook Ads: [#] ([%])
- Direct: [#] ([%])

**Conversions**:
- Total Email Signups: [#]
- Conversion Rate: [%]
- Target: [%] ([✅/⚠️/❌])

**Costs**:
- Total Spend: €[X]
- Cost Per Acquisition: €[Y]
- Target: €[Z] ([✅/⚠️/❌])

**Top Performers**:
- Best Ad: [Ad variant name] ([%] CTR, €[X] CPA)
- Best Channel: [Google/Facebook] (€[X] CPA)
- Best Audience: [Segment details]

**Optimizations Made**:
- [Action 1 - e.g., "Paused underperforming Display ads"]
- [Action 2 - e.g., "Increased budget on Facebook Feed (+50%)"]
- [Action 3 - e.g., "Created 2 new ad variants based on winner"]

**Next Week Plan**:
- [Action 1]
- [Action 2]

---

## 10. Heatmap Analysis

### What to Look For

**Click Heatmap**:
- **Rage Clicks**: Users clicking repeatedly (frustration) → Fix
- **Dead Clicks**: Clicks on non-clickable elements (user expects it to be clickable) → Make clickable or remove visual cue
- **CTA Clicks**: Are users clicking your button? If not, make more prominent

**Scroll Heatmap**:
- **Drop-off Point**: Where most users stop scrolling → Move important content above this line
- **Engagement Zones**: Which sections get most attention → Emphasize these

**Session Recordings** (watch 10-20 sessions):
- Hesitation before CTA click? → Add trust signal nearby
- Scrolling back and forth? → Information architecture unclear
- Leaving after reading specific section? → That section might be confusing or discouraging

### Heatmap-Driven Optimizations

**Common Findings**:
```
Finding: 60% of users don't scroll past hero section
Action: Move features summary above fold

Finding: Users click on testimonial photos (expecting detail)
Action: Make testimonials clickable → Modal with full story

Finding: High CTA clicks but low form submissions
Action: Form too complex → Reduce to email only
```

---

## 11. GDPR & Privacy Compliance

### Required Elements

**Cookie Consent Banner**:
```html
<div id="cookie-banner" style="position: fixed; bottom: 0; background: #333; color: #fff; padding: 20px; width: 100%;">
  <p>We use cookies for analytics to improve our site. By continuing, you accept our use of cookies.
  <a href="/privacy" style="color: #4a9eff;">Privacy Policy</a></p>
  <button onclick="acceptCookies()">Accept</button>
</div>

<script>
function acceptCookies() {
  localStorage.setItem('cookiesAccepted', 'true');
  document.getElementById('cookie-banner').style.display = 'none';

  // Initialize tracking after consent
  gtag('consent', 'update', {
    'analytics_storage': 'granted'
  });
}

// Check if already accepted
if (localStorage.getItem('cookiesAccepted')) {
  document.getElementById('cookie-banner').style.display = 'none';
}
</script>
```

**Privacy Policy Page**:
- What data you collect (email addresses, analytics data)
- How you use it (product updates, analytics)
- How it's stored (secure servers, encrypted)
- User rights (access, deletion, opt-out)
- Contact information

**Minimum Privacy Notice** (if no full policy yet):
```
"We collect your email to send product updates. We never share your data.
You can unsubscribe anytime. By submitting, you agree to receive emails from us."
```

---

## Analytics Setup Checklist

**Google Analytics 4**:
- [ ] GA4 property created
- [ ] Data stream configured
- [ ] Tracking code installed in landing page `<head>`
- [ ] Verified with GA4 Debugger or Realtime report
- [ ] Enhanced measurement enabled
- [ ] `sign_up` event marked as conversion
- [ ] Custom events added (cta_click, engaged_user)

**Meta Pixel** (if using Facebook Ads):
- [ ] Meta Pixel created
- [ ] Base code installed in landing page `<head>`
- [ ] `Lead` event added to form submission
- [ ] Verified with Meta Pixel Helper extension

**Heatmap Tool**:
- [ ] Microsoft Clarity (or Hotjar) account created
- [ ] Tracking code installed
- [ ] Verified recordings are captured

**Email Collection**:
- [ ] Email service configured (or Google Sheets integration)
- [ ] Form submission tested (receives email correctly)
- [ ] Confirmation message working

**GDPR Compliance**:
- [ ] Cookie consent banner added
- [ ] Privacy policy published and linked
- [ ] Data collection disclosed

**Dashboard**:
- [ ] Key metrics dashboard created in GA4
- [ ] Daily monitoring process established
- [ ] Weekly reporting template prepared

---

## Troubleshooting

### GA4 Not Tracking

**Symptoms**: No data in Realtime report

**Fixes**:
1. Check tracking code installed correctly (in `<head>` before `</head>`)
2. Replace `G-XXXXXXXXXX` with actual Measurement ID
3. Clear browser cache, test in incognito
4. Check browser console for errors (F12 → Console tab)
5. Verify no ad blockers are interfering

### Conversions Not Recording

**Symptoms**: Form submissions happen but GA4 shows 0 conversions

**Fixes**:
1. Check `sign_up` event is firing (GA4 Debugger or console)
2. Verify event is marked as conversion (Admin → Events → Toggle)
3. Wait 24 hours (conversions can take time to appear)
4. Test with DebugView (Admin → DebugView, then submit form)

### Heatmap Not Showing Data

**Symptoms**: Clarity/Hotjar shows 0 sessions

**Fixes**:
1. Verify tracking code installed correctly
2. Check project ID is correct
3. Visit page yourself (should record your session)
4. Wait 30 minutes (processing delay)
5. Disable ad blockers (they block heatmap scripts)

---

**Analytics Setup Complete**: ✅

**What You Can Now Track**:
- ✅ Total traffic (by source, campaign, device)
- ✅ Conversion rate (overall and by segment)
- ✅ User behavior (clicks, scrolls, time on page)
- ✅ Funnel drop-offs (where users leave)
- ✅ Cost per acquisition (from ad platform + GA4)
- ✅ Visual heatmaps (click, scroll patterns)

**Next Step**: Run campaigns for 2-4 weeks, monitor daily, optimize weekly, then analyze results.

**Generated by validation-specialist agent using validation-strategies skill**

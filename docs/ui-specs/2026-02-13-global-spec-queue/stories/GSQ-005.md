# GSQ-005: App Shell Integration

## User Story
Als Developer möchte ich das Bottom Panel über die Sidebar und einen Keyboard Shortcut öffnen können, damit ich schnell auf die Queue zugreifen kann.

## Akzeptanzkriterien
- GEGEBEN die Sidebar Navigation
  WENN ich auf das Queue-Icon klicke
  DANN öffnet/schließt sich das Bottom Panel

- GEGEBEN eine beliebige View
  WENN ich Cmd/Ctrl+Shift+Q drücke
  DANN togglet das Bottom Panel

- GEGEBEN eine laufende Queue
  DANN zeigt das Queue-Icon in der Sidebar einen Badge/Indikator

- GEGEBEN ein offenes Bottom Panel
  DANN hat der main-content Bereich ein passendes padding-bottom

## Technische Details

**Type:** Frontend
**Priority:** Critical
**Effort:** M (5 SP)
**Abhängigkeiten:** GSQ-004

### WAS
- `app.ts`: Bottom Panel einbinden, State-Properties, Sidebar-Icon, Keyboard Shortcut
- Queue Gateway Message Handlers aus Dashboard hochziehen

### WIE
- Presentation Layer: `aos-app` orchestriert Bottom Panel State
- Neue State-Properties: `isBottomPanelOpen`, `bottomPanelHeight`, `bottomPanelActiveTab`
- Queue-State Properties: `globalQueue: QueueItem[]`, `isQueueRunning: boolean`
- Sidebar: Neues NavItem mit Queue-Icon, unter Settings mit Divider
- Badge: Conditional rendering wenn `isQueueRunning === true`
- Keyboard: `document.addEventListener('keydown', ...)` mit Cmd/Ctrl+Shift+Q Check
- CSS: `.main-content` bekommt `padding-bottom: ${panelHeight}px` wenn Panel offen
- Gateway Handlers: `queue.state`, `queue.start.ack`, `queue.spec.start`, `queue.complete` aus dashboard-view.ts hierher migrieren

### WO
- `agent-os-ui/ui/src/app.ts` (modify)
- `agent-os-ui/ui/src/styles/theme.css` (modify - padding-bottom Logik)

### Geschätzte Komplexität: M

## DoR Checkliste
- [x] Fachliche Requirements klar
- [x] Akzeptanzkriterien spezifisch und testbar
- [x] Technischer Ansatz definiert (WAS/WIE/WO)
- [x] Abhängigkeiten identifiziert
- [x] Story angemessen dimensioniert
- [x] Alle betroffenen Layer identifiziert (Presentation)
- [x] Integrationspunkte dokumentiert

## DoD Checkliste
- [x] Code kompiliert ohne Fehler
- [x] Tests passen
- [x] Linter passt
- [x] Kein `any` Types
- [x] Keyboard Shortcut funktioniert
- [x] Badge angezeigt bei laufender Queue
- [x] padding-bottom korrekt angepasst
- [x] Self-Review completed

/* Specwright - Design System */

/* Theme-invariant tokens */
:root {
  /* Typography */
  --font-family-sans: 'Plus Jakarta Sans', system-ui, -apple-system, sans-serif;
  --font-family-mono: 'JetBrains Mono', 'Fira Code', monospace;

  --font-size-xs: 0.75rem;
  --font-size-sm: 0.875rem;
  --font-size-base: 1rem;
  --font-size-lg: 1.125rem;
  --font-size-xl: 1.25rem;
  --font-size-2xl: 1.5rem;
  --font-size-3xl: 1.875rem;

  --font-weight-normal: 400;
  --font-weight-medium: 500;
  --font-weight-semibold: 600;
  --font-weight-bold: 700;

  --line-height-tight: 1.25;
  --line-height-base: 1.5;
  --line-height-normal: 1.5;
  --line-height-relaxed: 1.75;

  /* Spacing */
  --spacing-xs: 0.25rem;
  --spacing-sm: 0.5rem;
  --spacing-md: 1rem;
  --spacing-lg: 1.5rem;
  --spacing-xl: 2rem;
  --spacing-2xl: 3rem;

  /* Border Radius */
  --radius-sm: 0.25rem;
  --radius-md: 0.5rem;
  --radius-lg: 0.75rem;
  --radius-xl: 1rem;
  --radius-2xl: 1rem;
  --radius-full: 9999px;

  /* Transitions */
  --transition-fast: 150ms ease;
  --transition-normal: 250ms ease;
  --transition-slow: 350ms ease;

  /* Layout */
  --sidebar-width: 252px;
  --header-height: 56px;

  /* Docs Panel Resize */
  --docs-panel-min-width: 200px;
  --docs-panel-max-width: 60%;
  --docs-panel-default-width: 350px;
  --docs-resize-handle-width: 6px;

  /* Attachment Panel */
  --attachment-panel-bg: var(--color-bg-secondary, #1a1a1a);
  --attachment-panel-border: var(--color-border, #333333);
  --attachment-panel-border-hover: var(--color-border-hover, #404040);
  --attachment-panel-border-drag: var(--color-accent-primary, #22c55e);
  --attachment-panel-upload-bg: var(--color-bg-tertiary, #262626);
  --attachment-panel-upload-bg-hover: var(--color-bg-elevated, #2d2d2d);
  --attachment-upload-icon-size: 2rem;
  --attachment-item-bg: var(--color-bg-tertiary, #262626);
  --attachment-delete-color: var(--color-text-muted, #737373);
  --attachment-delete-hover-bg: var(--color-accent-error, #ef4444);
}

/* Dark Theme (Navy-based, Landing Page Hero) */
html[data-theme="dark"] {
  --color-bg-primary: #0F1F33;
  --color-bg-secondary: #142840;
  --color-bg-tertiary: #1E3A5F;
  --color-bg-elevated: #2D4A6F;
  --color-bg-hover: #345880;

  --color-text-primary: #ffffff;
  --color-text-secondary: #B8C9DB;
  --color-text-muted: #7A92A9;

  --color-accent-primary: #00D4FF;
  --color-accent-secondary: #00B8E0;
  --color-accent-success: #22c55e;
  --color-accent-warning: #f59e0b;
  --color-accent-error: #ef4444;

  --color-border: #2A4A6A;
  --color-border-hover: #3A5A7A;

  --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.3);
  --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.4);
  --shadow-lg: 0 10px 15px rgba(0, 0, 0, 0.5);

  /* RGB variants for rgba() usage */
  --color-accent-primary-rgb: 0, 212, 255;
  --color-accent-success-rgb: 34, 197, 94;
  --color-accent-error-rgb: 239, 68, 68;
  --color-accent-warning-rgb: 245, 158, 11;
  --color-accent-secondary-rgb: 0, 184, 224;

  /* Bridge variables for Shadow DOM components */
  --bg-color-primary: var(--color-bg-primary);
  --bg-color-secondary: var(--color-bg-secondary);
  --bg-color-tertiary: var(--color-bg-tertiary);
  --bg-color-hover: var(--color-bg-hover);
  --border-color: var(--color-border);
  --text-color: var(--color-text-primary);
  --text-color-secondary: var(--color-text-secondary);
  --text-color-muted: var(--color-text-muted);
  --primary-color: var(--color-accent-primary);
  --accent-color: var(--color-accent-primary);
  --success-color: var(--color-accent-success);
  --font-family: var(--font-family-sans);
}

/* Light Theme (Warm off-white, Landing Page Content) */
html[data-theme="light"] {
  --color-bg-primary: #FFFBF7;
  --color-bg-secondary: #FFFFFF;
  --color-bg-tertiary: #FFF8F3;
  --color-bg-elevated: #FFFFFF;
  --color-bg-hover: #F5EDE5;

  --color-text-primary: #1e293b;
  --color-text-secondary: #475569;
  --color-text-muted: #64748b;

  --color-accent-primary: #1E3A5F;
  --color-accent-secondary: #00D4FF;
  --color-accent-success: #16a34a;
  --color-accent-warning: #d97706;
  --color-accent-error: #dc2626;

  --color-border: #E8E0D8;
  --color-border-hover: #D4C8BC;

  --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.06);
  --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.08);
  --shadow-lg: 0 10px 15px rgba(0, 0, 0, 0.1);

  /* RGB variants for rgba() usage */
  --color-accent-primary-rgb: 30, 58, 95;
  --color-accent-success-rgb: 22, 163, 74;
  --color-accent-error-rgb: 220, 38, 38;
  --color-accent-warning-rgb: 217, 119, 6;
  --color-accent-secondary-rgb: 0, 212, 255;

  /* Bridge variables for Shadow DOM components */
  --bg-color-primary: var(--color-bg-primary);
  --bg-color-secondary: var(--color-bg-secondary);
  --bg-color-tertiary: var(--color-bg-tertiary);
  --bg-color-hover: var(--color-bg-hover);
  --border-color: var(--color-border);
  --text-color: var(--color-text-primary);
  --text-color-secondary: var(--color-text-secondary);
  --text-color-muted: var(--color-text-muted);
  --primary-color: var(--color-accent-primary);
  --accent-color: var(--color-accent-primary);
  --success-color: var(--color-accent-success);
  --font-family: var(--font-family-sans);
}

/* Black Theme (Original Moltbot near-black) */
html[data-theme="black"] {
  --color-bg-primary: #0d0d0d;
  --color-bg-secondary: #1a1a1a;
  --color-bg-tertiary: #262626;
  --color-bg-elevated: #2d2d2d;
  --color-bg-hover: #333333;

  --color-text-primary: #ffffff;
  --color-text-secondary: #a3a3a3;
  --color-text-muted: #737373;

  --color-accent-primary: #22c55e;
  --color-accent-secondary: #3b82f6;
  --color-accent-success: #22c55e;
  --color-accent-warning: #f59e0b;
  --color-accent-error: #ef4444;

  --color-border: #333333;
  --color-border-hover: #404040;

  --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.3);
  --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.4);
  --shadow-lg: 0 10px 15px rgba(0, 0, 0, 0.5);

  /* RGB variants for rgba() usage */
  --color-accent-primary-rgb: 34, 197, 94;
  --color-accent-success-rgb: 34, 197, 94;
  --color-accent-error-rgb: 239, 68, 68;
  --color-accent-warning-rgb: 245, 158, 11;
  --color-accent-secondary-rgb: 59, 130, 246;

  /* Bridge variables for Shadow DOM components */
  --bg-color-primary: var(--color-bg-primary);
  --bg-color-secondary: var(--color-bg-secondary);
  --bg-color-tertiary: var(--color-bg-tertiary);
  --bg-color-hover: var(--color-bg-hover);
  --border-color: var(--color-border);
  --text-color: var(--color-text-primary);
  --text-color-secondary: var(--color-text-secondary);
  --text-color-muted: var(--color-text-muted);
  --primary-color: var(--color-accent-primary);
  --accent-color: var(--color-accent-primary);
  --success-color: var(--color-accent-success);
  --font-family: var(--font-family-sans);
}

/* Reset & Base Styles */
*,
*::before,
*::after {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

html {
  font-size: 14.4px;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

body {
  font-family: var(--font-family-sans);
  font-size: var(--font-size-base);
  line-height: var(--line-height-normal);
  color: var(--color-text-primary);
  background-color: var(--color-bg-primary);
  min-height: 100vh;
}

/* Code & Pre */
code, pre, .mono {
  font-family: var(--font-family-mono);
}

code {
  font-size: var(--font-size-sm);
  background-color: var(--color-bg-tertiary);
  padding: var(--spacing-xs) var(--spacing-sm);
  border-radius: var(--radius-sm);
}

pre {
  background-color: var(--color-bg-secondary);
  padding: var(--spacing-md);
  border-radius: var(--radius-md);
  overflow-x: auto;
}

pre code {
  background: none;
  padding: 0;
}

/* Links */
a {
  color: var(--color-accent-secondary);
  text-decoration: none;
  transition: color var(--transition-fast);
}

a:hover {
  color: var(--color-accent-primary);
}

/* Buttons */
button {
  font-family: var(--font-family-sans);
  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-medium);
  cursor: pointer;
  border: none;
  border-radius: var(--radius-md);
  padding: var(--spacing-sm) var(--spacing-md);
  transition: all var(--transition-fast);
}

button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

/* Utility Classes */
.text-muted {
  color: var(--color-text-muted);
}

.text-secondary {
  color: var(--color-text-secondary);
}

.text-accent {
  color: var(--color-accent-primary);
}

.visually-hidden {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

/* Chat View Header */
.chat-header {
  display: flex;
  justify-content: flex-end;
  padding: 0.5rem 1rem;
  border-bottom: 1px solid var(--color-border);
  background: var(--color-bg-secondary);
}

/* Chat Interface Styles */
.chat-container {
  display: flex;
  flex-direction: column;
  height: 100%;
  max-height: calc(100vh - var(--header-height) - var(--spacing-2xl));
}

.chat-messages {
  flex: 1;
  overflow-y: auto;
  padding: var(--spacing-md);
  scroll-behavior: smooth;
}

/* Chat Message Styles */
.chat-message {
  margin-bottom: var(--spacing-lg);
  max-width: 85%;
}

.chat-message.user {
  margin-left: auto;
}

.chat-message.assistant {
  margin-right: auto;
}

.message-header {
  display: flex;
  align-items: center;
  gap: var(--spacing-sm);
  margin-bottom: var(--spacing-xs);
}

.role-badge {
  font-size: var(--font-size-xs);
  font-weight: var(--font-weight-semibold);
  padding: var(--spacing-xs) var(--spacing-sm);
  border-radius: var(--radius-sm);
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.role-badge.user {
  background-color: var(--color-accent-secondary);
  color: white;
}

.role-badge.assistant {
  background-color: var(--color-accent-primary);
  color: var(--color-bg-primary);
}

.timestamp {
  font-size: var(--font-size-xs);
  color: var(--color-text-muted);
}

.message-content {
  background-color: var(--color-bg-secondary);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-lg);
  padding: var(--spacing-md);
  line-height: var(--line-height-relaxed);
}

.chat-message.user .message-content {
  background-color: var(--color-bg-tertiary);
}

.cursor {
  display: inline-block;
  width: 2px;
  height: 1.2em;
  background-color: var(--color-accent-primary);
  animation: blink 1s infinite;
  vertical-align: text-bottom;
  margin-left: 2px;
}

@keyframes blink {
  0%, 50% { opacity: 1; }
  51%, 100% { opacity: 0; }
}

/* =================================================================
   MESSAGE IMAGES (CIMG-005)
   Styles for image thumbnails in chat messages.
   ================================================================= */

.message-images {
  display: flex;
  flex-wrap: wrap;
  gap: var(--spacing-sm);
  margin-top: var(--spacing-sm);
  padding: var(--spacing-xs);
}

.message-image-thumbnail {
  position: relative;
  width: 150px;
  height: 150px;
  border-radius: var(--radius-md);
  overflow: hidden;
  cursor: pointer;
  background-color: var(--color-bg-tertiary);
  border: 1px solid var(--color-border);
  transition: all var(--transition-fast);
  display: flex;
  align-items: center;
  justify-content: center;
}

.message-image-thumbnail:hover {
  border-color: var(--color-accent-primary);
  transform: scale(1.02);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
}

.message-image-thumbnail:focus {
  outline: 2px solid var(--color-accent-primary);
  outline-offset: 2px;
}

.message-image-thumbnail__img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

/* PDF thumbnail styles */
.message-image-thumbnail--pdf {
  flex-direction: column;
  gap: var(--spacing-xs);
  padding: var(--spacing-sm);
}

.message-image-thumbnail__pdf-icon {
  color: var(--color-text-muted);
}

.message-image-thumbnail__pdf-icon svg {
  width: 48px;
  height: 48px;
}

.message-image-thumbnail__filename {
  font-size: var(--font-size-xs);
  color: var(--color-text-secondary);
  text-align: center;
  max-width: 100%;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

/* Error state for unavailable images */
.message-image-thumbnail--error {
  background-color: var(--color-bg-secondary);
}

.message-image-thumbnail__error {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: var(--spacing-xs);
  color: var(--color-text-muted);
  text-align: center;
  padding: var(--spacing-sm);
}

.message-image-thumbnail__error svg {
  opacity: 0.5;
}

.message-image-thumbnail__error span {
  font-size: var(--font-size-xs);
}

/* Responsive: smaller thumbnails on mobile */
@media (max-width: 768px) {
  .message-image-thumbnail {
    width: 100px;
    height: 100px;
  }

  .message-image-thumbnail__pdf-icon svg {
    width: 32px;
    height: 32px;
  }
}

/* =================================================================
   IMAGE LIGHTBOX (CIMG-006)
   Modal overlay for viewing images in full size.
   ================================================================= */

.lightbox-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: rgba(0, 0, 0, 0.9);
  z-index: 9999;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-direction: column;
  animation: lightbox-fade-in 0.2s ease-out;
}

@keyframes lightbox-fade-in {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

.lightbox-close-btn {
  position: absolute;
  top: var(--spacing-md);
  right: var(--spacing-md);
  width: 44px;
  height: 44px;
  background-color: rgba(255, 255, 255, 0.1);
  border: none;
  border-radius: var(--radius-full);
  color: var(--color-text-primary);
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all var(--transition-fast);
  z-index: 10000;
}

.lightbox-close-btn:hover {
  background-color: rgba(255, 255, 255, 0.2);
  transform: scale(1.1);
}

.lightbox-close-btn:focus {
  outline: 2px solid var(--color-accent-primary);
  outline-offset: 2px;
}

.lightbox-close-btn svg {
  width: 24px;
  height: 24px;
}

.lightbox-content {
  max-width: 90vw;
  max-height: 90vh;
  display: flex;
  align-items: center;
  justify-content: center;
}

.lightbox-image {
  max-width: 90vw;
  max-height: 85vh;
  object-fit: contain;
  border-radius: var(--radius-md);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5);
  animation: lightbox-image-scale-in 0.2s ease-out;
}

@keyframes lightbox-image-scale-in {
  from {
    transform: scale(0.95);
    opacity: 0;
  }
  to {
    transform: scale(1);
    opacity: 1;
  }
}

.lightbox-caption {
  margin-top: var(--spacing-md);
  padding: var(--spacing-sm) var(--spacing-md);
  background-color: rgba(0, 0, 0, 0.6);
  border-radius: var(--radius-sm);
  color: var(--color-text-secondary);
  font-size: var(--font-size-sm);
  max-width: 90vw;
  text-align: center;
  word-break: break-word;
}

/* Responsive adjustments for lightbox */
@media (max-width: 768px) {
  .lightbox-close-btn {
    top: var(--spacing-sm);
    right: var(--spacing-sm);
    width: 36px;
    height: 36px;
  }

  .lightbox-close-btn svg {
    width: 20px;
    height: 20px;
  }

  .lightbox-image {
    max-width: 95vw;
    max-height: 80vh;
  }

  .lightbox-caption {
    font-size: var(--font-size-xs);
    padding: var(--spacing-xs) var(--spacing-sm);
  }
}

/* Code Blocks */
.code-block {
  margin: var(--spacing-md) 0;
  background-color: var(--color-bg-primary);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  overflow: hidden;
}

.code-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: var(--spacing-xs) var(--spacing-sm);
  background-color: var(--color-bg-tertiary);
  border-bottom: 1px solid var(--color-border);
}

.code-language {
  font-size: var(--font-size-xs);
  color: var(--color-text-muted);
  text-transform: uppercase;
}

.copy-btn {
  font-size: var(--font-size-xs);
  padding: var(--spacing-xs) var(--spacing-sm);
  background-color: var(--color-bg-elevated);
  color: var(--color-text-secondary);
  border: 1px solid var(--color-border);
}

.copy-btn:hover {
  background-color: var(--color-accent-primary);
  color: var(--color-bg-primary);
  border-color: var(--color-accent-primary);
}

.code-block pre {
  margin: 0;
  padding: var(--spacing-md);
  overflow-x: auto;
}

.inline-code {
  background-color: var(--color-bg-tertiary);
  padding: 2px var(--spacing-xs);
  border-radius: var(--radius-sm);
  font-size: var(--font-size-sm);
}

/* Tool Call Badge */
.tool-call-container {
  margin: var(--spacing-sm) 0;
}

.tool-badge {
  display: flex;
  align-items: center;
  gap: var(--spacing-sm);
  width: 100%;
  padding: var(--spacing-sm) var(--spacing-md);
  background-color: var(--color-bg-tertiary);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  cursor: pointer;
  text-align: left;
  transition: all var(--transition-fast);
}

.tool-badge:hover {
  background-color: var(--color-bg-elevated);
  border-color: var(--color-border-hover);
}

.tool-badge.running {
  border-color: var(--color-accent-warning);
}

.tool-badge.complete {
  border-color: var(--color-accent-primary);
}

.tool-badge.error {
  border-color: var(--color-accent-error);
}

.tool-icon {
  font-size: var(--font-size-lg);
}

.tool-name {
  font-weight: var(--font-weight-semibold);
  color: var(--color-text-primary);
}

.tool-input {
  flex: 1;
  color: var(--color-text-muted);
  font-family: var(--font-family-mono);
  font-size: var(--font-size-sm);
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.tool-status {
  font-size: var(--font-size-sm);
}

.expand-icon {
  color: var(--color-text-muted);
  font-size: var(--font-size-xs);
}

.tool-details {
  margin-top: var(--spacing-xs);
  padding: var(--spacing-md);
  background-color: var(--color-bg-primary);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
}

.tool-section {
  margin-bottom: var(--spacing-md);
}

.tool-section:last-child {
  margin-bottom: 0;
}

.section-label {
  font-size: var(--font-size-xs);
  font-weight: var(--font-weight-semibold);
  color: var(--color-text-muted);
  text-transform: uppercase;
  margin-bottom: var(--spacing-xs);
}

.tool-json,
.tool-output {
  font-family: var(--font-family-mono);
  font-size: var(--font-size-sm);
  background-color: var(--color-bg-secondary);
  padding: var(--spacing-sm);
  border-radius: var(--radius-sm);
  overflow-x: auto;
  max-height: 200px;
  overflow-y: auto;
  white-space: pre-wrap;
  word-break: break-word;
}

/* Chat Input */
.chat-input-container {
  padding: var(--spacing-md);
  border-top: 1px solid var(--color-border);
  background-color: var(--color-bg-secondary);
}

.input-wrapper {
  display: flex;
  gap: var(--spacing-sm);
  align-items: flex-end;
}

.chat-input {
  flex: 1;
  min-height: 44px;
  max-height: 200px;
  padding: var(--spacing-sm) var(--spacing-md);
  font-family: var(--font-family-sans);
  font-size: var(--font-size-base);
  background-color: var(--color-bg-primary);
  color: var(--color-text-primary);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-lg);
  resize: none;
  outline: none;
  transition: border-color var(--transition-fast);
}

.chat-input:focus {
  border-color: var(--color-accent-primary);
}

.chat-input:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.chat-input::placeholder {
  color: var(--color-text-muted);
}

.send-btn {
  width: 44px;
  height: 44px;
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: var(--color-accent-primary);
  color: var(--color-bg-primary);
  border-radius: var(--radius-lg);
  font-size: var(--font-size-xl);
  font-weight: var(--font-weight-bold);
}

.send-btn:hover:not(:disabled) {
  background-color: var(--color-accent-success);
}

.send-btn:disabled {
  background-color: var(--color-bg-tertiary);
  color: var(--color-text-muted);
}

.send-icon {
  display: block;
}

.loading-spinner {
  width: 20px;
  height: 20px;
  border: 2px solid var(--color-bg-primary);
  border-top-color: transparent;
  border-radius: 50%;
  animation: spin 0.8s linear infinite;
}

@keyframes spin {
  to { transform: rotate(360deg); }
}

.clear-btn {
  margin-top: var(--spacing-sm);
  padding: var(--spacing-xs) var(--spacing-sm);
  background: none;
  color: var(--color-text-muted);
  font-size: var(--font-size-sm);
}

.clear-btn:hover {
  color: var(--color-accent-error);
}

/* Image Upload Button */
.upload-btn {
  width: 44px;
  height: 44px;
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: var(--color-bg-tertiary);
  color: var(--color-text-secondary);
  border-radius: var(--radius-lg);
  font-size: var(--font-size-lg);
  transition: all var(--transition-fast);
}

.upload-btn:hover:not(:disabled) {
  background-color: var(--color-bg-elevated);
  color: var(--color-text-primary);
}

.upload-btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.upload-icon {
  display: block;
}

/* Image Staging Area */
.image-staging-area {
  display: flex;
  flex-wrap: wrap;
  gap: var(--spacing-sm);
  padding: var(--spacing-sm);
  margin-bottom: var(--spacing-sm);
  background-color: var(--color-bg-tertiary);
  border-radius: var(--radius-md);
  border: 1px solid var(--color-border);
}

.staged-image {
  position: relative;
  width: 80px;
  height: 80px;
  border-radius: var(--radius-md);
  overflow: hidden;
  border: 1px solid var(--color-border);
  background-color: var(--color-bg-secondary);
}

.staged-image img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

/* File Staging (non-image attachments like PDF) */
.staged-file {
  position: relative;
  min-width: 80px;
  max-width: 140px;
  height: 80px;
  border-radius: var(--radius-md);
  border: 1px solid var(--color-border);
  background-color: var(--color-bg-secondary);
  display: flex;
  align-items: center;
  justify-content: center;
}

.staged-file__content {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 2px;
  padding: 4px 8px;
  overflow: hidden;
}

.staged-file__icon {
  font-size: 24px;
  line-height: 1;
}

.staged-file__name {
  font-size: var(--font-size-xs);
  color: var(--color-text-secondary);
  text-overflow: ellipsis;
  overflow: hidden;
  white-space: nowrap;
  max-width: 120px;
  text-align: center;
}

.remove-image-btn {
  position: absolute;
  top: 2px;
  right: 2px;
  width: 20px;
  height: 20px;
  padding: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: rgba(0, 0, 0, 0.7);
  color: var(--color-text-primary);
  border-radius: 50%;
  font-size: var(--font-size-xs);
  line-height: 1;
  transition: background-color var(--transition-fast);
}

.remove-image-btn:hover {
  background-color: var(--color-accent-error);
}

/* Drop Zone Overlay */
.chat-container {
  position: relative;
}

.chat-container.drag-over {
  outline: 2px dashed var(--color-accent-primary);
  outline-offset: -4px;
}

.drop-zone-overlay {
  position: absolute;
  inset: 0;
  background-color: rgba(var(--color-accent-success-rgb), 0.1);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 100;
  pointer-events: none;
}

.drop-zone-content {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: var(--spacing-sm);
  padding: var(--spacing-xl);
  background-color: var(--color-bg-elevated);
  border: 2px dashed var(--color-accent-primary);
  border-radius: var(--radius-xl);
}

.drop-zone-icon {
  font-size: 3rem;
}

.drop-zone-text {
  font-size: var(--font-size-lg);
  font-weight: var(--font-weight-medium);
  color: var(--color-text-primary);
}

/* Connection Error Banner */
.connection-error {
  display: flex;
  align-items: center;
  gap: var(--spacing-sm);
  padding: var(--spacing-sm) var(--spacing-md);
  background-color: rgba(var(--color-accent-error-rgb), 0.1);
  border: 1px solid var(--color-accent-error);
  border-radius: var(--radius-md);
  margin: var(--spacing-md);
  color: var(--color-accent-error);
}

.reconnect-btn {
  margin-left: auto;
  padding: var(--spacing-xs) var(--spacing-md);
  background-color: var(--color-accent-error);
  color: white;
}

.reconnect-btn:hover {
  background-color: var(--color-accent-error);
}

/* No Project Banner */
.no-project-banner {
  display: flex;
  align-items: center;
  gap: var(--spacing-sm);
  padding: var(--spacing-sm) var(--spacing-md);
  background-color: rgba(var(--color-accent-primary-rgb), 0.1);
  border: 1px solid var(--color-accent-secondary);
  border-radius: var(--radius-md);
  margin: var(--spacing-md);
  color: var(--color-accent-secondary);
}

/* Empty State */
.empty-state {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 100%;
  text-align: center;
  padding: var(--spacing-2xl);
  color: var(--color-text-secondary);
}

.empty-icon {
  font-size: 4rem;
  margin-bottom: var(--spacing-lg);
}

.empty-state h3 {
  color: var(--color-text-primary);
  margin-bottom: var(--spacing-sm);
}

.empty-state p {
  margin-bottom: var(--spacing-md);
}

.example-prompts {
  list-style: none;
  text-align: left;
}

.example-prompts li {
  padding: var(--spacing-sm) var(--spacing-md);
  margin-bottom: var(--spacing-xs);
  background-color: var(--color-bg-secondary);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  font-family: var(--font-family-mono);
  font-size: var(--font-size-sm);
  color: var(--color-text-muted);
}

/* Workflow Styles */
.workflow-container {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-lg);
}

/* Command Grid */
.command-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
  gap: var(--spacing-md);
}

/* Workflow Card */
.workflow-card {
  background-color: var(--color-bg-secondary);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-lg);
  padding: var(--spacing-lg);
  cursor: pointer;
  transition: all var(--transition-fast);
}

.workflow-card:hover:not(.disabled) {
  border-color: var(--color-accent-primary);
  background-color: var(--color-bg-tertiary);
}

.workflow-card.disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.workflow-card .card-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: var(--spacing-sm);
}

.workflow-card .command-name {
  font-family: var(--font-family-mono);
  font-size: var(--font-size-lg);
  font-weight: var(--font-weight-semibold);
  color: var(--color-accent-primary);
}

.workflow-card .start-icon {
  font-size: var(--font-size-sm);
  color: var(--color-text-muted);
  transition: color var(--transition-fast);
}

.workflow-card:hover:not(.disabled) .start-icon {
  color: var(--color-accent-primary);
}

.workflow-card .command-description {
  color: var(--color-text-secondary);
  font-size: var(--font-size-sm);
  line-height: var(--line-height-relaxed);
}

.workflow-model-select {
  margin-top: var(--spacing-sm);
}

/* Workflow Progress */
.progress-card {
  background-color: var(--color-bg-secondary);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-lg);
  overflow: hidden;
}

.progress-card.running {
  border-color: var(--color-accent-warning);
}

.progress-card.completed {
  border-color: var(--color-accent-primary);
}

.progress-card.failed {
  border-color: var(--color-accent-error);
}

.progress-card.cancelled {
  border-color: var(--color-text-muted);
}

.progress-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: var(--spacing-md) var(--spacing-lg);
}

.progress-info {
  display: flex;
  align-items: center;
  gap: var(--spacing-sm);
}

.status-icon {
  font-size: var(--font-size-lg);
}

.progress-info .command-name {
  font-family: var(--font-family-mono);
  font-weight: var(--font-weight-semibold);
  color: var(--color-text-primary);
}

.elapsed-time {
  font-family: var(--font-family-mono);
  font-size: var(--font-size-sm);
  color: var(--color-text-muted);
  padding: var(--spacing-xs) var(--spacing-sm);
  background-color: var(--color-bg-tertiary);
  border-radius: var(--radius-sm);
}

.progress-actions {
  display: flex;
  gap: var(--spacing-xs);
}

.progress-actions button {
  width: 32px;
  height: 32px;
  padding: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: var(--color-bg-tertiary);
  color: var(--color-text-secondary);
  border: 1px solid var(--color-border);
}

.progress-actions button:hover {
  background-color: var(--color-bg-elevated);
  color: var(--color-text-primary);
}

.cancel-btn:hover {
  background-color: var(--color-accent-error) !important;
  color: white !important;
  border-color: var(--color-accent-error) !important;
}

.background-btn:hover {
  background-color: var(--color-accent-secondary) !important;
  color: white !important;
  border-color: var(--color-accent-secondary) !important;
}

/* Progress Bar */
.progress-bar-container {
  height: 4px;
  background-color: var(--color-bg-tertiary);
}

.progress-bar {
  height: 100%;
  background-color: var(--color-accent-warning);
  transition: width var(--transition-normal);
}

.progress-card.completed .progress-bar {
  background-color: var(--color-accent-primary);
}

.progress-card.failed .progress-bar {
  background-color: var(--color-accent-error);
}

/* Progress Output */
.progress-output {
  padding: var(--spacing-md) var(--spacing-lg);
  border-top: 1px solid var(--color-border);
}

.output-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: var(--spacing-sm);
}

.output-label {
  font-size: var(--font-size-xs);
  font-weight: var(--font-weight-semibold);
  color: var(--color-text-muted);
  text-transform: uppercase;
}

.output-content {
  font-family: var(--font-family-mono);
  font-size: var(--font-size-sm);
  background-color: var(--color-bg-primary);
  padding: var(--spacing-md);
  border-radius: var(--radius-md);
  max-height: 300px;
  overflow-y: auto;
  white-space: pre-wrap;
  word-break: break-word;
  color: var(--color-text-secondary);
}

.output-content.error {
  color: var(--color-accent-error);
}

/* Background Badge */
.background-badge {
  display: flex;
  align-items: center;
  gap: var(--spacing-sm);
  padding: var(--spacing-sm) var(--spacing-md);
  background-color: rgba(245, 158, 11, 0.1);
  border: 1px solid var(--color-accent-warning);
  border-radius: var(--radius-md);
  color: var(--color-accent-warning);
}

.badge-icon {
  font-size: var(--font-size-lg);
}

.view-btn {
  margin-left: auto;
  padding: var(--spacing-xs) var(--spacing-md);
  background-color: var(--color-accent-warning);
  color: var(--color-bg-primary);
  font-weight: var(--font-weight-semibold);
}

.view-btn:hover {
  background-color: var(--color-accent-warning);
}

/* Active Execution */
.active-execution {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-md);
}

.execution-actions {
  display: flex;
  justify-content: flex-start;
}

.back-btn {
  padding: var(--spacing-sm) var(--spacing-lg);
  background-color: var(--color-bg-tertiary);
  color: var(--color-text-secondary);
  border: 1px solid var(--color-border);
}

.back-btn:hover {
  background-color: var(--color-bg-elevated);
  color: var(--color-text-primary);
}

/* Loading State */
.loading-state {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: var(--spacing-2xl);
  color: var(--color-text-secondary);
}

.loading-state .loading-spinner {
  width: 32px;
  height: 32px;
  border: 3px solid var(--color-bg-tertiary);
  border-top-color: var(--color-accent-primary);
  margin-bottom: var(--spacing-md);
}

/* Dashboard Styles */
.dashboard-container {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-lg);
}

.dashboard-header {
  display: flex;
  align-items: center;
  gap: var(--spacing-md);
}

.dashboard-header h2 {
  font-size: var(--font-size-2xl);
  font-weight: var(--font-weight-semibold);
  color: var(--color-text-primary);
  margin: 0;
}

.active-toggle {
  display: flex;
  align-items: center;
  gap: var(--spacing-sm);
  font-size: var(--font-size-sm);
  color: var(--color-text-secondary);
  cursor: pointer;
}

.active-toggle input[type="checkbox"] {
  appearance: none;
  -webkit-appearance: none;
  width: 16px;
  height: 16px;
  border: 1px solid var(--color-border-primary);
  border-radius: var(--radius-sm);
  background-color: var(--color-bg-secondary);
  cursor: pointer;
  position: relative;
  flex-shrink: 0;
  transition: all var(--transition-fast);
}

.active-toggle input[type="checkbox"]:checked {
  background-color: var(--color-accent-primary);
  border-color: var(--color-accent-primary);
}

.active-toggle input[type="checkbox"]:checked::after {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 4px;
  height: 8px;
  border: solid var(--color-bg-primary);
  border-width: 0 2px 2px 0;
  transform: translate(-50%, -60%) rotate(45deg);
}

.active-toggle input[type="checkbox"]:hover {
  border-color: var(--color-accent-primary);
}

.active-toggle input[type="checkbox"]:focus-visible {
  outline: 2px solid var(--color-accent-primary);
  outline-offset: 2px;
}

.new-spec-btn {
  margin-left: auto;
  padding: var(--spacing-sm) var(--spacing-lg);
  background-color: var(--color-accent-primary);
  border: 1px solid var(--color-accent-primary);
  border-radius: var(--radius-md);
  color: var(--color-bg-primary);
  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-semibold);
  line-height: 1;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: var(--spacing-xs);
  cursor: pointer;
  transition: all var(--transition-fast);
}

.new-spec-btn:hover {
  background-color: var(--color-accent-success);
  border-color: var(--color-accent-success);
}

.new-spec-btn:focus-visible {
  outline: 2px solid var(--color-accent-primary);
  outline-offset: 2px;
}

.spec-count {
  font-size: var(--font-size-sm);
  color: var(--color-text-muted);
  background-color: var(--color-bg-tertiary);
  padding: var(--spacing-xs) var(--spacing-md);
  border-radius: var(--radius-md);
}

/* Spec Grid */
.spec-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
  gap: var(--spacing-md);
  grid-auto-rows: 1fr;
}

aos-spec-card {
  display: contents;
}

/* Spec Card */
.spec-card {
  background-color: var(--color-bg-secondary);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-lg);
  padding: var(--spacing-lg);
  cursor: pointer;
  transition: all var(--transition-fast);
  display: flex;
  flex-direction: column;
}

.spec-card:hover {
  border-color: var(--color-accent-primary);
  background-color: var(--color-bg-tertiary);
}

.spec-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  gap: var(--spacing-sm);
  margin-bottom: var(--spacing-sm);
}

.spec-header-actions {
  display: flex;
  align-items: center;
  gap: var(--spacing-xs);
}

.spec-delete-btn, .spec-delete-btn-list {
  background: transparent;
  border: none;
  cursor: pointer;
  padding: 4px;
  border-radius: 4px;
  font-size: 14px;
  opacity: 0.6;
  transition: opacity 0.2s, background-color 0.2s;
  color: var(--color-text-muted);
}

.spec-delete-btn:hover, .spec-delete-btn-list:hover {
  opacity: 1;
  background-color: rgba(255, 0, 0, 0.1);
  color: var(--color-accent-error);
}

.spec-name {
  font-size: var(--font-size-lg);
  font-weight: var(--font-weight-semibold);
  color: var(--color-text-primary);
  margin: 0;
}

.kanban-badge {
  font-size: var(--font-size-xs);
  padding: var(--spacing-xs) var(--spacing-sm);
  background-color: var(--color-accent-primary);
  color: var(--color-bg-primary);
  border-radius: var(--radius-sm);
  font-weight: var(--font-weight-semibold);
}

.no-kanban-badge {
  font-size: var(--font-size-xs);
  padding: var(--spacing-xs) var(--spacing-sm);
  background-color: var(--color-bg-tertiary);
  color: var(--color-text-muted);
  border-radius: var(--radius-sm);
  white-space: nowrap;
}

.spec-date {
  font-size: var(--font-size-sm);
  color: var(--color-text-muted);
  margin-bottom: var(--spacing-md);
}

.spec-progress {
  display: flex;
  align-items: center;
  gap: var(--spacing-sm);
  margin-bottom: var(--spacing-md);
}

.progress-bar-bg {
  flex: 1;
  height: 6px;
  background-color: var(--color-bg-tertiary);
  border-radius: var(--radius-sm);
  overflow: hidden;
}

.progress-bar-fill {
  height: 100%;
  background-color: var(--color-accent-primary);
  transition: width var(--transition-normal);
}

.progress-text {
  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-semibold);
  color: var(--color-accent-primary);
  min-width: 40px;
  text-align: right;
}

.spec-stats {
  display: flex;
  justify-content: space-between;
  gap: var(--spacing-sm);
  margin-top: auto;
}

.stat {
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
}

.stat-value {
  font-size: var(--font-size-lg);
  font-weight: var(--font-weight-semibold);
  color: var(--color-text-primary);
}

.stat-value.stat-done {
  color: var(--color-accent-primary);
}

.stat-value.stat-progress {
  color: var(--color-accent-warning);
}

.stat-value.stat-backlog {
  color: var(--color-text-muted);
}

.stat-label {
  font-size: var(--font-size-xs);
  color: var(--color-text-muted);
}

/* Spec List View */
.spec-list {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-xs);
}

.spec-list-header {
  display: grid;
  grid-template-columns: 1fr 150px 100px 40px;
  gap: var(--spacing-md);
  padding: var(--spacing-sm) var(--spacing-md);
  background-color: var(--color-bg-tertiary);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-semibold);
  color: var(--color-text-secondary);
}

.spec-list-header-name,
.spec-list-header-date,
.spec-list-header-progress,
.spec-list-header-actions {
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.spec-list-header-date,
.spec-list-header-progress,
.spec-list-header-actions {
  text-align: center;
}

.spec-list-row {
  display: grid;
  grid-template-columns: 1fr 150px 100px 40px;
  gap: var(--spacing-md);
  padding: var(--spacing-md);
  background-color: var(--color-bg-secondary);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  cursor: pointer;
  transition: all var(--transition-fast);
  align-items: center;
}

.spec-list-row-actions {
  display: flex;
  justify-content: center;
}

.spec-list-row:hover {
  border-color: var(--color-accent-primary);
  background-color: var(--color-bg-tertiary);
}

.spec-list-row-name {
  font-size: var(--font-size-base);
  font-weight: var(--font-weight-medium);
  color: var(--color-text-primary);
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.spec-list-row-date {
  font-size: var(--font-size-sm);
  color: var(--color-text-secondary);
  text-align: center;
}

.spec-list-row-progress {
  display: flex;
  justify-content: center;
  align-items: center;
}

.spec-list-row-progress .progress-text {
  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-semibold);
  color: var(--color-accent-primary);
}

/* Kanban Board */
.kanban-container {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-lg);
}

.kanban-header {
  display: flex;
  align-items: center;
  gap: var(--spacing-md);
  flex-wrap: wrap;
}

.kanban-title {
  font-size: var(--font-size-2xl);
  font-weight: var(--font-weight-semibold);
  color: var(--color-text-primary);
}

.kanban-warning {
  font-size: var(--font-size-sm);
  color: var(--color-accent-warning);
  padding: var(--spacing-xs) var(--spacing-md);
  background-color: rgba(245, 158, 11, 0.1);
  border: 1px solid var(--color-accent-warning);
  border-radius: var(--radius-md);
}

/* BKE-002: Backlog Auto-Mode Toggle */
.kanban-header.auto-mode-active {
  background-color: rgba(var(--color-accent-success-rgb), 0.1);
  border: 1px solid rgba(var(--color-accent-success-rgb), 0.3);
  border-radius: var(--radius-lg);
  padding: var(--spacing-sm) var(--spacing-md);
}

.header-actions {
  display: flex;
  align-items: center;
  gap: var(--spacing-md);
  margin-left: auto;
}

.auto-mode-toggle-container {
  display: flex;
  align-items: center;
  gap: var(--spacing-sm);
}

.auto-mode-toggle-container input[type="checkbox"] {
  width: 18px;
  height: 18px;
  cursor: pointer;
}

.auto-mode-toggle-container label {
  cursor: pointer;
  user-select: none;
  font-size: var(--font-size-sm);
  color: var(--color-text-secondary);
}

.auto-mode-progress {
  font-size: var(--font-size-xs);
  color: var(--color-accent-primary);
  padding: 2px 8px;
  background-color: rgba(var(--color-accent-primary-rgb), 0.1);
  border-radius: var(--radius-md);
  font-weight: var(--font-weight-medium);
}

/* CCT-002: Cloud Terminal Button */
.terminal-btn {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 36px;
  height: 36px;
  padding: 0;
  background: transparent;
  border: 1px solid var(--color-border, #404040);
  border-radius: var(--radius-md);
  color: var(--color-text-secondary, #a0a0a0);
  cursor: pointer;
  transition: all var(--transition-fast);
  position: relative;
}

.terminal-btn:hover {
  background: var(--color-bg-tertiary, #262626);
  border-color: var(--color-border-hover, #505050);
  color: var(--color-text-primary, #ffffff);
}

.terminal-btn svg {
  width: 18px;
  height: 18px;
}

.terminal-btn.has-sessions {
  border-color: var(--color-accent-primary, #22c55e);
  color: var(--color-accent-primary, #22c55e);
}

.terminal-badge {
  position: absolute;
  top: -4px;
  right: -4px;
  min-width: 16px;
  height: 16px;
  padding: 0 4px;
  background: var(--color-accent-primary, #22c55e);
  color: var(--color-bg-primary, #0d0d0d);
  font-size: 10px;
  font-weight: var(--font-weight-bold);
  border-radius: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* WTT-004: Tab-Notifications bei Input-Bedarf */
/* Styles for terminal tabs that need user input */
.tab.needs-input {
  animation: pulse-needs-input 1.5s ease-in-out infinite;
}

@keyframes pulse-needs-input {
  0%, 100% {
    background: linear-gradient(135deg, var(--color-bg-tertiary, #252526) 0%, rgba(245, 158, 11, 0.1) 100%);
  }
  50% {
    background: linear-gradient(135deg, var(--color-bg-tertiary, #252526) 0%, rgba(245, 158, 11, 0.25) 100%);
  }
}

.input-badge {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 14px;
  height: 14px;
  background: var(--color-accent-warning, #ff9800);
  border-radius: 50%;
  font-size: 9px;
  font-weight: 600;
  color: white;
  flex-shrink: 0;
  margin-left: 4px;
}

.kanban-columns {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: var(--spacing-md);
  min-height: 400px;
}

@media (max-width: 900px) {
  .kanban-columns {
    grid-template-columns: 1fr;
  }
}

.kanban-column {
  background-color: var(--color-bg-secondary);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-lg);
  display: flex;
  flex-direction: column;
}

.kanban-column.in-progress {
  border-color: rgba(245, 158, 11, 0.3);
}

.kanban-column.done {
  border-color: rgba(var(--color-accent-success-rgb), 0.3);
}

.column-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: var(--spacing-md);
  border-bottom: 1px solid var(--color-border);
}

.column-header h3 {
  font-size: var(--font-size-base);
  font-weight: var(--font-weight-semibold);
  color: var(--color-text-primary);
  margin: 0;
}

.column-count {
  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-semibold);
  padding: var(--spacing-xs) var(--spacing-sm);
  background-color: var(--color-bg-tertiary);
  border-radius: var(--radius-sm);
  color: var(--color-text-secondary);
}

.column-content {
  flex: 1;
  padding: var(--spacing-md);
  display: flex;
  flex-direction: column;
  gap: var(--spacing-sm);
  overflow-y: auto;
}

.empty-column {
  color: var(--color-text-muted);
  text-align: center;
  padding: var(--spacing-xl);
  font-size: var(--font-size-sm);
}

/* Story Card */
.story-card {
  background-color: var(--color-bg-tertiary);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  padding: var(--spacing-md);
  cursor: pointer;
  transition: all var(--transition-fast);
}

.story-card:hover {
  border-color: var(--color-accent-secondary);
  background-color: var(--color-bg-elevated);
}

/* Drag & Drop States */
.story-card.dragging {
  opacity: 0.5;
  cursor: grabbing;
  border-color: var(--color-accent-secondary);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
}

.story-card[draggable="true"] {
  cursor: grab;
}

/* BKE-003: Backlog Story Card Execution Status */
.story-card.executing {
  border-color: var(--color-accent-primary);
  background-color: rgba(var(--color-accent-primary-rgb), 0.1);
  box-shadow: 0 0 0 2px rgba(var(--color-accent-primary-rgb), 0.3);
}

.story-card.executing::before {
  content: '';
  position: absolute;
  top: var(--spacing-md);
  right: var(--spacing-md);
  width: 16px;
  height: 16px;
  border: 2px solid var(--color-accent-primary);
  border-top-color: transparent;
  border-radius: 50%;
  animation: spin 1s linear infinite;
}

@keyframes spin {
  to { transform: rotate(360deg); }
}

.kanban-column.drop-zone-active {
  background-color: var(--color-bg-tertiary);
  border-color: var(--color-accent-secondary);
  border-style: dashed;
}

.kanban-column.drop-zone-active .column-content {
  background-color: rgba(139, 92, 246, 0.05);
}

/* Drop Zone Valid State (green) */
.kanban-column.drop-zone-valid {
  border-color: var(--color-status-success);
  background-color: rgba(var(--color-accent-success-rgb), 0.08);
}

.kanban-column.drop-zone-valid .column-content {
  background-color: rgba(var(--color-accent-success-rgb), 0.05);
}

/* Drop Zone Blocked State (red) */
.kanban-column.drop-zone-blocked {
  border-color: var(--color-status-error);
  background-color: rgba(var(--color-accent-error-rgb), 0.08);
  cursor: not-allowed;
}

.kanban-column.drop-zone-blocked .column-content {
  background-color: rgba(var(--color-accent-error-rgb), 0.05);
}

/* =========================================
   GSQ-009: Dashboard Content (full width, sidebar removed)
   ========================================= */

/* Dashboard layout (full width) */
.dashboard-content {
  min-height: 400px;
}

/* Queue Items */
.queue-items {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-xs);
}

.queue-item {
  display: flex;
  align-items: center;
  gap: var(--spacing-sm);
  padding: var(--spacing-sm);
  background-color: var(--color-bg-tertiary);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  cursor: grab;
  transition: all var(--transition-fast);
}

.queue-item:hover {
  background-color: var(--color-bg-elevated);
  border-color: var(--color-border-hover);
}

.queue-item-position {
  font-family: var(--font-family-mono);
  font-size: var(--font-size-xs);
  font-weight: var(--font-weight-semibold);
  color: var(--color-text-muted);
  width: 20px;
  text-align: center;
}

.queue-item-content {
  flex: 1;
  min-width: 0;
}

.queue-item-name {
  display: block;
  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-medium);
  color: var(--color-text-primary);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.queue-item-meta {
  display: flex;
  align-items: center;
  gap: var(--spacing-xs);
  margin-top: 2px;
}

.queue-item-status-icon {
  font-size: var(--font-size-xs);
}

.queue-item-status-label {
  font-size: var(--font-size-xs);
  color: var(--color-text-muted);
}

/* SKQ-005: Queue Item Progress Display */
.queue-item-progress {
  display: flex;
  align-items: center;
  gap: var(--spacing-xs);
  margin-top: var(--spacing-xs);
}

.queue-item-progress .progress-bar {
  flex: 1;
  height: 4px;
  background-color: var(--color-bg-secondary);
  border-radius: 2px;
  overflow: hidden;
}

.queue-item-progress .progress-fill {
  height: 100%;
  background-color: var(--color-accent-primary);
  border-radius: 2px;
  transition: width 0.3s ease;
}

.queue-item-progress .progress-text {
  font-size: var(--font-size-xs);
  color: var(--color-text-muted);
  min-width: 50px;
  text-align: right;
}

/* SKQ-005: Clickable queue items for viewing kanban */
.queue-item.clickable {
  cursor: pointer;
}

.queue-item.clickable:hover {
  background-color: var(--color-bg-elevated);
}

.queue-item-remove {
  background: none;
  border: none;
  padding: var(--spacing-xs);
  font-size: var(--font-size-lg);
  color: var(--color-text-muted);
  cursor: pointer;
  opacity: 0;
  transition: opacity var(--transition-fast), color var(--transition-fast);
}

.queue-item:hover .queue-item-remove {
  opacity: 1;
}

.queue-item-remove:hover {
  color: var(--color-accent-error);
}

/* Queue Item Status Variants */
.queue-item-status-pending {
  border-left: 3px solid var(--color-text-muted);
}

.queue-item-status-running {
  border-left: 3px solid var(--color-accent-warning);
  background-color: rgba(245, 158, 11, 0.1);
}

.queue-item-status-done {
  border-left: 3px solid var(--color-accent-primary);
  opacity: 0.7;
}

.queue-item-status-failed {
  border-left: 3px solid var(--color-accent-error);
  background-color: rgba(var(--color-accent-error-rgb), 0.1);
}

.queue-item-status-skipped {
  border-left: 3px solid var(--color-text-muted);
  opacity: 0.5;
}

/* SKQ-002: Queue Item Drag & Drop Styles */
.queue-item-wrapper {
  transition: all var(--transition-fast);
}

.queue-item-wrapper.dragging {
  opacity: 0.5;
}

.queue-item-wrapper.dragging .queue-item {
  cursor: grabbing;
  border-color: var(--color-accent-secondary);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
}

.queue-item-wrapper.drop-target::before {
  content: '';
  display: block;
  height: 3px;
  background-color: var(--color-accent-secondary);
  border-radius: 2px;
  margin-bottom: var(--spacing-xs);
}

/* Disabled remove button for non-pending items */
.queue-item-remove.disabled {
  cursor: not-allowed;
  opacity: 0.3;
  pointer-events: none;
}

.queue-item-status-running .queue-item-remove,
.queue-item-status-done .queue-item-remove,
.queue-item-status-failed .queue-item-remove,
.queue-item-status-skipped .queue-item-remove {
  opacity: 0.3;
  cursor: not-allowed;
}

/* SKQ-006: Protected Queue Items (non-editable) */
.queue-item.protected {
  cursor: default;
}

.queue-item.protected .queue-item-content {
  cursor: default;
}

/* Visual indicator for protected items */
.queue-item-wrapper[draggable="false"] .queue-item {
  cursor: default;
}

.queue-item-wrapper[draggable="false"] .queue-item::after {
  content: '';
  position: absolute;
  inset: 0;
  pointer-events: none;
}

/* SKQ-002: Spec Card Drag Styles */
.spec-card[draggable="true"] {
  cursor: grab;
}

.spec-card.dragging {
  opacity: 0.5;
  cursor: grabbing;
  border-color: var(--color-accent-secondary);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
}

/* End Queue Item Styles */

/* GSQ-006: Queue Section Styles (Bottom Panel) */
.qs-section {
  display: flex;
  flex-direction: column;
  height: 100%;
  overflow: hidden;
  border-right: 1px solid var(--border-color, #404040);
  transition: background 0.2s;
}

.qs-section.qs-drop-active {
  background: rgba(0, 122, 204, 0.08);
}

.qs-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 8px 12px;
  min-height: 36px;
  border-bottom: 1px solid var(--border-color, #404040);
  background: var(--bg-color-tertiary, #252526);
}

.qs-header-left {
  display: flex;
  align-items: center;
  gap: 8px;
}

.qs-title {
  font-size: 12px;
  font-weight: 600;
  color: var(--text-color-primary, #e0e0e0);
  margin: 0;
}

.qs-count {
  font-size: 11px;
  font-weight: 600;
  background: var(--bg-color-hover, #3c3c3c);
  color: var(--text-color-secondary, #a0a0a0);
  border-radius: 10px;
  padding: 1px 7px;
  min-width: 18px;
  text-align: center;
}

.qs-running-indicator {
  color: var(--accent-color, #007acc);
  font-size: 10px;
  animation: queue-badge-pulse 2s ease-in-out infinite;
}

.qs-controls {
  display: flex;
  gap: 4px;
}

.qs-control-btn {
  display: flex;
  align-items: center;
  gap: 4px;
  padding: 4px 10px;
  border: none;
  border-radius: 4px;
  font-size: 11px;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s;
}

.qs-start-btn {
  background: var(--accent-color, #007acc);
  color: white;
}

.qs-start-btn:hover:not(:disabled) {
  background: var(--color-accent-primary);
}

.qs-start-btn:disabled {
  opacity: 0.4;
  cursor: not-allowed;
}

.qs-stop-btn {
  background: rgba(var(--color-accent-error-rgb), 0.2);
  color: var(--color-accent-error, #ef4444);
}

.qs-stop-btn:hover {
  background: rgba(var(--color-accent-error-rgb), 0.3);
}

.qs-btn-icon {
  font-size: 10px;
}

.qs-content {
  flex: 1;
  overflow-y: auto;
  padding: 4px 0;
}

.qs-empty-state {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 100%;
  min-height: 80px;
  color: var(--text-color-secondary, #a0a0a0);
  gap: 6px;
}

.qs-empty-icon {
  font-size: 24px;
  opacity: 0.5;
}

.qs-empty-text {
  font-size: 12px;
  margin: 0;
}

.qs-items {
  display: flex;
  flex-direction: column;
  gap: 2px;
  padding: 0 4px;
}

.qs-item-wrapper {
  position: relative;
  transition: opacity 0.2s;
}

.qs-item-wrapper:focus {
  outline: 2px solid var(--accent-color, #007acc);
  outline-offset: -2px;
  border-radius: 4px;
}

.qs-item-wrapper.dragging {
  opacity: 0.4;
}

.qs-item-wrapper.drop-target::before {
  content: '';
  position: absolute;
  top: -2px;
  left: 4px;
  right: 4px;
  height: 2px;
  background: var(--accent-color, #007acc);
  border-radius: 1px;
  z-index: 1;
}

/* End GSQ-006: Queue Section Styles */

/* GSQ-007: Specs Section Styles */

.ss-section {
  display: flex;
  flex-direction: column;
  height: 100%;
  overflow: hidden;
}

.ss-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 8px 12px;
  min-height: 36px;
  border-bottom: 1px solid var(--border-color, #404040);
  background: var(--bg-color-tertiary, #252526);
}

.ss-header-left {
  display: flex;
  align-items: center;
  gap: 8px;
}

.ss-title {
  font-size: 12px;
  font-weight: 600;
  color: var(--text-color-primary, #e0e0e0);
  margin: 0;
}

.ss-count {
  font-size: 11px;
  font-weight: 600;
  background: var(--bg-color-hover, #3c3c3c);
  color: var(--text-color-secondary, #a0a0a0);
  border-radius: 10px;
  padding: 1px 7px;
  min-width: 18px;
  text-align: center;
}

.ss-refresh-btn {
  background: transparent;
  border: none;
  color: var(--text-color-secondary, #a0a0a0);
  cursor: pointer;
  padding: 4px 6px;
  border-radius: 4px;
  font-size: 14px;
  line-height: 1;
  transition: all 0.2s;
}

.ss-refresh-btn:hover {
  background: var(--bg-color-hover, #3c3c3c);
  color: var(--text-color-primary, #e0e0e0);
}

.ss-header-actions {
  display: flex;
  align-items: center;
  gap: 4px;
}

.ss-toggle-completed-btn {
  background: transparent;
  border: 1px solid var(--border-color, #404040);
  color: var(--text-color-secondary, #a0a0a0);
  cursor: pointer;
  padding: 2px 8px;
  border-radius: 10px;
  font-size: 10px;
  line-height: 1.4;
  transition: all 0.2s;
}

.ss-toggle-completed-btn:hover {
  background: var(--bg-color-hover, #3c3c3c);
  color: var(--text-color-primary, #e0e0e0);
}

.ss-toggle-completed-btn.active {
  background: rgba(var(--color-accent-success-rgb), 0.15);
  border-color: rgba(var(--color-accent-success-rgb), 0.3);
  color: #22c55e;
}

.ss-content {
  flex: 1;
  overflow-y: auto;
  padding: 4px 0;
}

.ss-loading {
  display: flex;
  align-items: center;
  justify-content: center;
  height: 100%;
  min-height: 80px;
  color: var(--text-color-secondary, #a0a0a0);
}

.ss-loading-text {
  font-size: 12px;
}

.ss-empty-state {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 100%;
  min-height: 80px;
  color: var(--text-color-secondary, #a0a0a0);
  gap: 6px;
}

.ss-empty-icon {
  font-size: 24px;
  opacity: 0.5;
}

.ss-empty-text {
  font-size: 12px;
  margin: 0;
}

.ss-project-group {
  margin-bottom: 2px;
}

.ss-project-header {
  display: flex;
  align-items: center;
  gap: 6px;
  width: 100%;
  padding: 6px 12px;
  border: none;
  background: transparent;
  color: var(--text-color-secondary, #a0a0a0);
  cursor: pointer;
  font-size: 11px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  transition: all 0.2s;
  text-align: left;
}

.ss-project-header:hover {
  background: var(--bg-color-hover, #3c3c3c);
  color: var(--text-color-primary, #e0e0e0);
}

.ss-collapse-icon {
  font-size: 10px;
  width: 12px;
  text-align: center;
  flex-shrink: 0;
}

.ss-project-name {
  flex: 1;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.ss-spec-count {
  font-size: 10px;
  background: var(--bg-color-hover, #3c3c3c);
  color: var(--text-color-secondary, #a0a0a0);
  border-radius: 8px;
  padding: 0 6px;
  min-width: 16px;
  text-align: center;
}

.ss-project-specs {
  display: flex;
  flex-direction: column;
  gap: 1px;
  padding: 0 4px;
}

.ss-spec-card {
  display: flex;
  align-items: center;
  gap: 6px;
  padding: 6px 8px;
  border-radius: 4px;
  cursor: grab;
  transition: all 0.15s;
  background: transparent;
}

.ss-spec-card:hover {
  background: var(--bg-color-hover, #3c3c3c);
}

.ss-spec-card:focus {
  outline: 2px solid var(--accent-color, #007acc);
  outline-offset: -2px;
  border-radius: 4px;
}

.ss-spec-card:active {
  cursor: grabbing;
}

.ss-card-main {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 3px;
  min-width: 0;
}

.ss-spec-name {
  font-size: 12px;
  font-weight: 500;
  color: var(--text-color-primary, #e0e0e0);
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.ss-card-badges {
  display: flex;
  align-items: center;
  gap: 6px;
}

.ss-status-badge {
  font-size: 10px;
  font-weight: 600;
  padding: 1px 5px;
  border-radius: 3px;
  text-transform: uppercase;
  letter-spacing: 0.3px;
}

.ss-status-new {
  background: rgba(160, 160, 160, 0.15);
  color: var(--text-color-secondary, #a0a0a0);
}

.ss-status-ready {
  background: rgba(0, 122, 204, 0.15);
  color: var(--accent-color, #007acc);
}

.ss-status-running {
  background: rgba(234, 179, 8, 0.15);
  color: #eab308;
}

.ss-status-done {
  background: rgba(var(--color-accent-success-rgb), 0.15);
  color: #22c55e;
}

.ss-progress {
  font-size: 10px;
  color: var(--text-color-secondary, #a0a0a0);
  font-family: var(--font-family-mono, monospace);
}

.ss-git-badge {
  font-size: 9px;
  font-weight: 600;
  padding: 0 4px;
  border-radius: 3px;
  background: rgba(160, 160, 160, 0.1);
  color: var(--text-color-secondary, #a0a0a0);
}

.ss-add-btn {
  background: transparent;
  border: 1px solid var(--border-color, #404040);
  color: var(--text-color-secondary, #a0a0a0);
  cursor: pointer;
  padding: 2px 6px;
  border-radius: 3px;
  font-size: 10px;
  font-weight: 600;
  flex-shrink: 0;
  transition: all 0.2s;
  opacity: 0;
}

.ss-spec-card:hover .ss-add-btn,
.ss-spec-card:focus .ss-add-btn {
  opacity: 1;
}

.ss-add-btn:hover {
  background: var(--accent-color, #007acc);
  border-color: var(--accent-color, #007acc);
  color: white;
}

.ss-drag-ghost {
  position: absolute;
  top: -1000px;
  left: -1000px;
  padding: 4px 8px;
  background: var(--bg-color-tertiary, #252526);
  color: var(--text-color-primary, #e0e0e0);
  border: 1px solid var(--accent-color, #007acc);
  border-radius: 4px;
  font-size: 11px;
  white-space: nowrap;
  z-index: 10000;
}

/* Backlog card styling */
.ss-backlog-card {
  border-left: 2px solid var(--accent-color, #007acc);
}

.ss-backlog-badge {
  font-size: 9px;
  font-weight: 600;
  padding: 0 4px;
  border-radius: 3px;
  background: rgba(0, 122, 204, 0.15);
  color: var(--accent-color, #007acc);
}

/* Backlog badge in queue items */
.queue-item-backlog-badge {
  font-size: 9px;
  font-weight: 600;
  padding: 0 4px;
  border-radius: 3px;
  background: rgba(0, 122, 204, 0.15);
  color: var(--accent-color, #007acc);
}

/* End GSQ-007: Specs Section Styles */

/* GSQ-008: Execution Log Tab Styles */
.elt-section {
  display: flex;
  flex-direction: column;
  height: 100%;
  overflow: hidden;
}

.elt-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 8px 12px;
  border-bottom: 1px solid var(--color-border, #333);
  min-height: 36px;
  flex-shrink: 0;
}

.elt-header-left {
  display: flex;
  align-items: center;
  gap: 8px;
}

.elt-title {
  font-size: 13px;
  font-weight: 600;
  color: var(--color-text-primary, #e0e0e0);
  margin: 0;
}

.elt-count {
  font-size: 11px;
  background: var(--color-bg-elevated, #2d2d2d);
  color: var(--color-text-secondary, #a0a0a0);
  padding: 1px 6px;
  border-radius: 8px;
  min-width: 20px;
  text-align: center;
}

.elt-scroll-lock {
  font-size: 10px;
  font-weight: 600;
  color: var(--color-accent-warning, #f59e0b);
  background: rgba(245, 158, 11, 0.15);
  padding: 1px 6px;
  border-radius: 4px;
  letter-spacing: 0.5px;
}

.elt-header-actions {
  display: flex;
  gap: 4px;
}

.elt-clear-btn {
  background: transparent;
  border: 1px solid var(--color-border, #333);
  color: var(--color-text-secondary, #a0a0a0);
  cursor: pointer;
  padding: 3px 10px;
  border-radius: 4px;
  font-size: 12px;
  transition: all 0.2s;
}

.elt-clear-btn:hover:not(:disabled) {
  background: var(--color-bg-elevated, #2d2d2d);
  color: var(--color-text-primary, #e0e0e0);
  border-color: var(--color-border-hover, #404040);
}

.elt-clear-btn:disabled {
  opacity: 0.4;
  cursor: default;
}

.elt-entries {
  flex: 1;
  overflow-y: auto;
  padding: 8px 12px;
  font-family: var(--font-family-mono, 'JetBrains Mono', monospace);
  font-size: 12px;
  line-height: 1.6;
}

.elt-empty {
  display: flex;
  align-items: center;
  justify-content: center;
  height: 100%;
  color: var(--color-text-muted, #737373);
  font-family: var(--font-family-sans, system-ui, sans-serif);
  font-size: 13px;
}

.elt-entry {
  display: flex;
  gap: 6px;
  white-space: nowrap;
  padding: 2px 0;
}

.elt-time {
  color: var(--color-text-muted, #737373);
  flex-shrink: 0;
}

.elt-project {
  color: var(--color-text-secondary, #a0a0a0);
  flex-shrink: 0;
}

.elt-spec {
  color: var(--color-text-secondary, #a0a0a0);
  flex-shrink: 0;
}

.elt-story {
  color: var(--color-text-secondary, #a0a0a0);
  flex-shrink: 0;
}

.elt-message {
  color: var(--color-text-primary, #e0e0e0);
  overflow: hidden;
  text-overflow: ellipsis;
}

/* Log entry color coding */
.elt-entry-start .elt-message {
  color: var(--color-accent-secondary, #3b82f6);
}

.elt-entry-complete .elt-message {
  color: var(--color-accent-primary, #22c55e);
}

.elt-entry-error .elt-message {
  color: var(--color-accent-error, #ef4444);
}

.elt-entry-queue-complete .elt-message {
  color: var(--color-accent-warning, #f59e0b);
}
/* End GSQ-008: Execution Log Tab Styles */

.story-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: var(--spacing-xs);
}

.story-id {
  font-family: var(--font-family-mono);
  font-size: var(--font-size-xs);
  color: var(--color-accent-secondary);
  font-weight: var(--font-weight-semibold);
}

.effort-badge {
  font-size: var(--font-size-xs);
  font-weight: var(--font-weight-semibold);
  padding: 2px var(--spacing-xs);
  background-color: var(--color-bg-primary);
  color: var(--color-text-muted);
  border-radius: var(--radius-sm);
}

.story-title {
  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-medium);
  color: var(--color-text-primary);
  margin: 0 0 var(--spacing-sm) 0;
  line-height: var(--line-height-tight);
}

.story-meta {
  display: flex;
  gap: var(--spacing-xs);
  flex-wrap: wrap;
  margin-bottom: var(--spacing-sm);
}

.type-badge {
  display: flex;
  align-items: center;
  gap: var(--spacing-xs);
  font-size: var(--font-size-xs);
  padding: 2px var(--spacing-sm);
  background-color: var(--color-bg-primary);
  color: var(--color-text-secondary);
  border-radius: var(--radius-sm);
}

.type-icon {
  font-size: var(--font-size-xs);
}

.priority-badge {
  font-size: var(--font-size-xs);
  padding: 2px var(--spacing-sm);
  border-radius: var(--radius-sm);
}

.priority-high {
  background-color: rgba(var(--color-accent-error-rgb), 0.2);
  color: var(--color-accent-error);
}

.priority-medium {
  background-color: rgba(245, 158, 11, 0.2);
  color: var(--color-accent-warning);
}

.priority-low {
  background-color: rgba(var(--color-accent-success-rgb), 0.2);
  color: var(--color-accent-primary);
}

.story-deps {
  display: flex;
  align-items: center;
  gap: var(--spacing-xs);
  flex-wrap: wrap;
  font-size: var(--font-size-xs);
}

.deps-label {
  color: var(--color-text-muted);
}

.dep-tag {
  font-family: var(--font-family-mono);
  font-size: var(--font-size-xs);
  padding: 2px var(--spacing-xs);
  background-color: var(--color-bg-primary);
  color: var(--color-text-muted);
  border-radius: var(--radius-sm);
}

/* DoR Status Indicators */
.story-dor-status {
  display: flex;
  margin-top: var(--spacing-xs);
}

.dor-status-badge {
  display: flex;
  align-items: center;
  gap: var(--spacing-xs);
  font-size: var(--font-size-xs);
  font-weight: var(--font-weight-semibold);
  padding: 4px var(--spacing-sm);
  border-radius: var(--radius-sm);
  transition: all var(--transition-fast);
}

.dor-status-indicator {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  display: inline-block;
}

.dor-ready {
  background-color: rgba(var(--color-accent-success-rgb), 0.15);
  color: var(--color-accent-primary);
  border: 1px solid rgba(var(--color-accent-success-rgb), 0.3);
}

.dor-ready .dor-status-indicator {
  background-color: var(--color-accent-primary);
  box-shadow: 0 0 6px rgba(var(--color-accent-success-rgb), 0.5);
}

.dor-blocked {
  background-color: rgba(var(--color-accent-error-rgb), 0.15);
  color: var(--color-accent-error);
  border: 1px solid rgba(var(--color-accent-error-rgb), 0.3);
}

.dor-blocked .dor-status-indicator {
  background-color: var(--color-accent-error);
  box-shadow: 0 0 6px rgba(var(--color-accent-error-rgb), 0.5);
  animation: pulse-red 2s ease-in-out infinite;
}

@keyframes pulse-red {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.5;
  }
}

/* Story Status Badge (aos-story-status-badge) */
.story-status-badge {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 4px 10px;
  border-radius: 12px;
  font-size: 12px;
  font-weight: 500;
  transition: all 0.2s ease;
}

.story-status-badge .status-indicator {
  font-size: 10px;
}

.status-ready {
  background-color: rgba(var(--color-accent-success-rgb), 0.15);
  color: var(--color-accent-primary);
  border: 1px solid rgba(var(--color-accent-success-rgb), 0.3);
}

.status-ready .status-indicator {
  color: var(--color-accent-primary);
  text-shadow: 0 0 6px rgba(var(--color-accent-success-rgb), 0.5);
}

.status-blocked {
  background-color: rgba(var(--color-accent-error-rgb), 0.15);
  color: var(--color-accent-error);
  border: 1px solid rgba(var(--color-accent-error-rgb), 0.3);
}

.status-blocked .status-indicator {
  color: var(--color-accent-error);
  animation: pulse-red 2s ease-in-out infinite;
}

.status-in-progress {
  background-color: rgba(var(--color-accent-primary-rgb), 0.15);
  color: var(--color-accent-primary);
  border: 1px solid rgba(var(--color-accent-primary-rgb), 0.3);
}

.status-in-progress .status-indicator {
  color: var(--color-accent-primary);
  animation: pulse-blue 2s ease-in-out infinite;
}

.status-done {
  background-color: rgba(107, 114, 128, 0.15);
  color: #9ca3af;
  border: 1px solid rgba(107, 114, 128, 0.3);
}

.status-done .status-indicator {
  color: #9ca3af;
}

.status-unknown {
  background-color: rgba(156, 163, 175, 0.1);
  color: #9ca3af;
  border: 1px dashed rgba(156, 163, 175, 0.4);
}

.status-unknown .status-indicator {
  color: #9ca3af;
}

/* Working Status - Workflow is executing */
.status-working {
  background-color: rgba(245, 158, 11, 0.15);
  color: var(--color-accent-warning);
  border: 1px solid rgba(245, 158, 11, 0.4);
}

.status-working .status-indicator {
  color: var(--color-accent-warning);
  animation: pulse-working 1.5s ease-in-out infinite;
}

/* Error Status - Workflow failed */
.status-error {
  background-color: rgba(var(--color-accent-error-rgb), 0.15);
  color: var(--color-accent-error);
  border: 1px solid rgba(var(--color-accent-error-rgb), 0.4);
}

.status-error .status-indicator {
  color: var(--color-accent-error);
}

@keyframes pulse-working {
  0%, 100% {
    opacity: 1;
    transform: rotate(0deg);
  }
  50% {
    opacity: 0.6;
    transform: rotate(180deg);
  }
}

@keyframes pulse-blue {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.6;
  }
}

/* Story Detail */
.story-detail-container {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-lg);
}

.story-detail-header {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-md);
}

.story-title-row {
  display: flex;
  align-items: center;
  gap: var(--spacing-md);
}

.story-title-row .story-id {
  font-size: var(--font-size-base);
}

.story-title-row h2 {
  font-size: var(--font-size-2xl);
  font-weight: var(--font-weight-semibold);
  color: var(--color-text-primary);
  margin: 0;
}

.story-detail-content {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-lg);
}

.story-meta-row {
  display: flex;
  gap: var(--spacing-sm);
  flex-wrap: wrap;
}

.meta-badge {
  font-size: var(--font-size-sm);
  padding: var(--spacing-xs) var(--spacing-md);
  border-radius: var(--radius-md);
  font-weight: var(--font-weight-medium);
}

.meta-badge.type {
  background-color: var(--color-bg-tertiary);
  color: var(--color-text-secondary);
}

.meta-badge.priority {
  background-color: rgba(245, 158, 11, 0.2);
  color: var(--color-accent-warning);
}

.meta-badge.effort {
  background-color: var(--color-bg-tertiary);
  color: var(--color-text-muted);
}

.meta-badge.status {
  font-weight: var(--font-weight-semibold);
}

.meta-badge.status-backlog {
  background-color: var(--color-bg-tertiary);
  color: var(--color-text-muted);
}

.meta-badge.status-in_progress {
  background-color: rgba(245, 158, 11, 0.2);
  color: var(--color-accent-warning);
}

.meta-badge.status-done {
  background-color: rgba(var(--color-accent-success-rgb), 0.2);
  color: var(--color-accent-primary);
}

.story-section {
  background-color: var(--color-bg-secondary);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-lg);
  padding: var(--spacing-lg);
}

.story-section h3 {
  font-size: var(--font-size-base);
  font-weight: var(--font-weight-semibold);
  color: var(--color-text-primary);
  margin: 0 0 var(--spacing-md) 0;
}

.deps-list {
  display: flex;
  gap: var(--spacing-sm);
  flex-wrap: wrap;
}

.deps-list .dep-tag {
  font-size: var(--font-size-sm);
  padding: var(--spacing-xs) var(--spacing-md);
}

.gherkin-block {
  background-color: var(--color-bg-primary);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  padding: var(--spacing-md);
  font-family: var(--font-family-mono);
  font-size: var(--font-size-sm);
  color: var(--color-text-secondary);
  white-space: pre-wrap;
  word-break: break-word;
  margin: var(--spacing-sm) 0;
}

.checklist {
  list-style: none;
  padding: 0;
  margin: 0;
}

.checklist li {
  padding: var(--spacing-sm) 0;
  border-bottom: 1px solid var(--color-border);
  color: var(--color-text-secondary);
  font-size: var(--font-size-sm);
}

.checklist li:last-child {
  border-bottom: none;
}

.checklist li::before {
  content: " ";
  color: var(--color-text-muted);
}

/* Error State */
.error-state {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: var(--spacing-2xl);
  text-align: center;
}

.error-icon {
  font-size: 3rem;
  margin-bottom: var(--spacing-lg);
}

.error-state h3 {
  color: var(--color-text-primary);
  margin-bottom: var(--spacing-sm);
}

.error-state p {
  color: var(--color-text-secondary);
  margin-bottom: var(--spacing-lg);
}

.retry-btn {
  padding: var(--spacing-sm) var(--spacing-lg);
  background-color: var(--color-bg-tertiary);
  color: var(--color-text-secondary);
  border: 1px solid var(--color-border);
}

.retry-btn:hover {
  background-color: var(--color-bg-elevated);
  color: var(--color-text-primary);
}

.primary-btn {
  padding: var(--spacing-sm) var(--spacing-lg);
  background-color: var(--color-accent-primary);
  color: var(--color-bg-primary);
  font-weight: var(--font-weight-semibold);
}

.primary-btn:hover {
  background-color: var(--color-accent-success);
}

/* App Layout Styles (Light DOM - moved from app.ts static styles) */
aos-app {
  display: flex;
  min-height: 100vh;
  background-color: var(--color-bg-primary);
}

aos-app .sidebar {
  width: var(--sidebar-width);
  background-color: var(--color-bg-secondary);
  border-right: 1px solid var(--color-border);
  display: flex;
  flex-direction: column;
  position: fixed;
  top: 0;
  left: 0;
  bottom: 0;
}

aos-app .logo {
  padding: var(--spacing-md) var(--spacing-lg);
  border-bottom: 1px solid var(--color-border);
  display: flex;
  align-items: center;
}

aos-app .logo .logo-img {
  height: 32px;
  width: auto;
}

html[data-theme="light"] aos-app .logo .logo-img {
  filter: none;
}

html[data-theme="dark"] aos-app .logo .logo-img,
html[data-theme="black"] aos-app .logo .logo-img {
  filter: brightness(0) invert(1);
}

aos-app nav {
  flex: 1;
  padding: var(--spacing-md);
}

aos-app .nav-list {
  list-style: none;
  margin: 0;
  padding: 0;
  display: flex;
  flex-direction: column;
  gap: 2px;
}

aos-app .nav-item {
  margin: 0;
}

aos-app .nav-link {
  display: flex;
  align-items: center;
  gap: var(--spacing-sm);
  padding: 0.5rem 0.75rem;
  border-radius: var(--radius-md);
  color: var(--color-text-muted);
  text-decoration: none;
  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-medium);
  transition: all var(--transition-fast);
  cursor: pointer;
  border-left: 2px solid transparent;
  letter-spacing: 0.01em;
}

aos-app .nav-link:hover {
  color: var(--color-text-primary);
  background-color: var(--color-bg-hover);
}

aos-app .nav-link.active {
  color: var(--color-accent-primary);
  background-color: rgba(var(--color-accent-primary-rgb), 0.08);
  border-left-color: var(--color-accent-primary);
  font-weight: var(--font-weight-semibold);
}

aos-app .nav-icon {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 20px;
  height: 20px;
  flex-shrink: 0;
  opacity: 0.6;
}

aos-app .nav-link:hover .nav-icon,
aos-app .nav-link.active .nav-icon {
  opacity: 1;
}

aos-app .nav-label {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* GSQ-005: Nav divider and queue badge */
aos-app .nav-divider {
  height: 1px;
  background: var(--color-border);
  margin: var(--spacing-sm) 0;
}

aos-app .queue-count {
  font-size: var(--font-size-sm);
  color: var(--color-text-secondary);
}

aos-app .queue-badge {
  display: inline-block;
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: var(--color-success, #4caf50);
  margin-left: auto;
  animation: queue-badge-pulse 2s ease-in-out infinite;
}

@keyframes queue-badge-pulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.4; }
}

aos-app .main-content {
  flex: 1;
  margin-left: var(--sidebar-width);
  padding-left: max(0px, calc(var(--file-tree-open-width, 0px) - var(--sidebar-width)));
  min-height: 100vh;
  transition: padding-bottom 0.3s ease, padding-left 0.3s ease;
}

aos-app .header {
  height: var(--header-height);
  padding: 0 var(--spacing-xl);
  display: flex;
  align-items: center;
  justify-content: space-between;
  border-bottom: 1px solid var(--color-border);
  background-color: var(--color-bg-secondary);
}

aos-app .header-title {
  font-size: var(--font-size-lg);
  font-weight: var(--font-weight-semibold);
  color: var(--color-text-primary);
  margin: 0;
}

aos-app .view-container {
  padding: var(--spacing-xl);
}

/* Project Selector Styles (Light DOM - moved from project-selector.ts static styles) */
aos-project-selector {
  display: block;
  position: relative;
}

aos-project-selector .selector-button {
  display: flex;
  align-items: center;
  gap: var(--spacing-sm);
  padding: var(--spacing-sm) var(--spacing-md);
  background-color: var(--color-bg-tertiary);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  color: var(--color-text-primary);
  cursor: pointer;
  font-size: var(--font-size-sm);
  font-family: inherit;
  min-width: 200px;
  transition: all var(--transition-fast);
}

aos-project-selector .selector-button:hover {
  background-color: var(--color-bg-primary);
  border-color: var(--color-accent-primary);
}

aos-project-selector .selector-button:focus {
  outline: none;
  border-color: var(--color-accent-primary);
  box-shadow: 0 0 0 2px rgba(99, 102, 241, 0.2);
}

aos-project-selector .project-info {
  flex: 1;
  text-align: left;
  overflow: hidden;
}

aos-project-selector .project-name {
  font-weight: var(--font-weight-medium);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

aos-project-selector .project-path {
  font-size: var(--font-size-xs);
  color: var(--color-text-muted);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

aos-project-selector .chevron {
  transition: transform var(--transition-fast);
}

aos-project-selector .chevron.open {
  transform: rotate(180deg);
}

aos-project-selector .dropdown {
  position: absolute;
  top: calc(100% + var(--spacing-xs));
  left: 0;
  right: 0;
  background-color: var(--color-bg-secondary);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  box-shadow: var(--shadow-lg);
  z-index: 100;
  max-height: 300px;
  overflow-y: auto;
}

aos-project-selector .dropdown-item {
  display: flex;
  align-items: center;
  gap: var(--spacing-sm);
  padding: var(--spacing-sm) var(--spacing-md);
  cursor: pointer;
  transition: background-color var(--transition-fast);
}

aos-project-selector .dropdown-item:hover {
  background-color: var(--color-bg-tertiary);
}

aos-project-selector .dropdown-item.selected {
  background-color: var(--color-accent-primary);
  color: var(--color-bg-primary);
}

aos-project-selector .dropdown-item.selected .project-path {
  color: rgba(255, 255, 255, 0.7);
}

aos-project-selector .dropdown-item.invalid {
  opacity: 0.6;
}

aos-project-selector .dropdown-item.invalid .project-name {
  text-decoration: line-through;
}

aos-project-selector .status-indicator {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  flex-shrink: 0;
}

aos-project-selector .status-indicator.valid {
  background-color: var(--color-accent-primary);
}

aos-project-selector .status-indicator.invalid {
  background-color: var(--color-accent-error);
}

aos-project-selector .empty-state {
  padding: var(--spacing-lg);
  text-align: center;
  color: var(--color-text-muted);
}

aos-project-selector .error-message {
  padding: var(--spacing-sm) var(--spacing-md);
  background-color: rgba(var(--color-accent-error-rgb), 0.1);
  border-left: 3px solid var(--color-accent-error);
  color: var(--color-accent-error);
  font-size: var(--font-size-sm);
}

aos-project-selector .loading {
  padding: var(--spacing-md);
  text-align: center;
  color: var(--color-text-muted);
}

/* Toast Notification Styles */
.toast-container {
  position: fixed;
  top: var(--spacing-lg);
  right: var(--spacing-lg);
  z-index: 9999;
  display: flex;
  flex-direction: column;
  gap: var(--spacing-sm);
  max-width: 400px;
  pointer-events: none;
}

.toast {
  display: flex;
  align-items: center;
  gap: var(--spacing-sm);
  padding: var(--spacing-md) var(--spacing-lg);
  background-color: var(--color-bg-secondary);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-lg);
  animation: toast-slide-in 0.3s ease-out;
  pointer-events: auto;
}

@keyframes toast-slide-in {
  from {
    transform: translateX(100%);
    opacity: 0;
  }
  to {
    transform: translateX(0);
    opacity: 1;
  }
}

.toast-success {
  border-color: var(--color-accent-primary);
  background-color: rgba(var(--color-accent-success-rgb), 0.1);
}

.toast-error {
  border-color: var(--color-accent-error);
  background-color: rgba(var(--color-accent-error-rgb), 0.1);
}

.toast-warning {
  border-color: var(--color-accent-warning);
  background-color: rgba(245, 158, 11, 0.1);
}

.toast-info {
  border-color: var(--color-accent-secondary);
  background-color: rgba(var(--color-accent-primary-rgb), 0.1);
}

.toast-icon {
  font-size: var(--font-size-lg);
  font-weight: var(--font-weight-bold);
  flex-shrink: 0;
}

.toast-success .toast-icon {
  color: var(--color-accent-primary);
}

.toast-error .toast-icon {
  color: var(--color-accent-error);
}

.toast-warning .toast-icon {
  color: var(--color-accent-warning);
}

.toast-info .toast-icon {
  color: var(--color-accent-secondary);
}

.toast-message {
  flex: 1;
  font-size: var(--font-size-sm);
  color: var(--color-text-primary);
}

.toast-dismiss {
  width: 24px;
  height: 24px;
  padding: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  background: transparent;
  color: var(--color-text-muted);
  border: none;
  border-radius: var(--radius-sm);
  cursor: pointer;
  transition: all var(--transition-fast);
}

.toast-dismiss:hover {
  background-color: var(--color-bg-tertiary);
  color: var(--color-text-primary);
}

/* Loading Spinner Styles */
.spinner-container {
  display: flex;
  align-items: center;
  gap: var(--spacing-sm);
}

.spinner-svg {
  animation: spinner-rotate 1s linear infinite;
}

@keyframes spinner-rotate {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

.spinner-track {
  stroke: var(--color-bg-tertiary);
}

.spinner-progress {
  stroke: var(--color-accent-primary);
  stroke-dasharray: 126;
  stroke-dashoffset: 100;
  transform-origin: center;
}

.spinner-label {
  font-size: var(--font-size-sm);
  color: var(--color-text-secondary);
}

.spinner-small .spinner-label {
  font-size: var(--font-size-xs);
}

/* Reconnecting Indicator */
.reconnecting-indicator {
  display: flex;
  align-items: center;
  gap: var(--spacing-sm);
  padding: var(--spacing-xs) var(--spacing-md);
  background-color: rgba(245, 158, 11, 0.1);
  border: 1px solid var(--color-accent-warning);
  border-radius: var(--radius-md);
  color: var(--color-accent-warning);
  font-size: var(--font-size-sm);
}

.header-actions {
  display: flex;
  align-items: center;
  gap: var(--spacing-md);
}

/* Responsive Styles - Tablet and smaller */
@media (max-width: 900px) {
  :root {
    --sidebar-width: 240px;
  }
}

/* Responsive Styles - Mobile and narrow windows */
@media (max-width: 800px) {
  :root {
    --sidebar-width: 60px;
  }

  /* Sidebar: Icon-only on mobile */
  aos-app .sidebar .logo {
    justify-content: center;
    padding: var(--spacing-sm);
  }

  aos-app .sidebar .logo .logo-img {
    height: 24px;
  }

  aos-app .nav-link {
    padding: var(--spacing-sm);
    justify-content: center;
    border-left: none;
  }

  aos-app .nav-label,
  aos-app .queue-count {
    display: none;
  }

  aos-app .nav-icon {
    width: 22px;
    height: 22px;
  }

  /* Header adjustments */
  aos-app .header {
    padding: 0 var(--spacing-md);
  }

  aos-app .header-title {
    font-size: var(--font-size-base);
  }

  aos-app .header-actions {
    gap: var(--spacing-sm);
  }

  aos-app .reconnecting-indicator span:not(.spinner-container) {
    display: none;
  }

  /* View container padding */
  aos-app .view-container {
    padding: var(--spacing-md);
  }

  /* Dashboard grid */
  .spec-grid {
    grid-template-columns: 1fr;
  }

  .command-grid {
    grid-template-columns: 1fr;
  }

  /* Kanban columns stack vertically */
  .kanban-columns {
    grid-template-columns: 1fr;
    min-height: auto;
  }

  /* Chat message width */
  .chat-message {
    max-width: 95%;
  }

  /* Toast position */
  .toast-container {
    top: var(--spacing-md);
    right: var(--spacing-md);
    left: var(--spacing-md);
    max-width: none;
  }

  /* Project selector dropdown */
  .project-dropdown {
    right: 0;
    left: auto;
    min-width: 200px;
  }

  /* Story detail adjustments */
  .story-title-row {
    flex-direction: column;
    align-items: flex-start;
  }

  .story-meta-row {
    flex-wrap: wrap;
  }
}

/* Very narrow screens */
@media (max-width: 480px) {
  .header-title {
    display: none;
  }

  .dashboard-header {
    flex-direction: column;
    align-items: flex-start;
    gap: var(--spacing-sm);
  }

  .kanban-header {
    flex-direction: column;
    align-items: flex-start;
  }

  .spec-stats {
    flex-wrap: wrap;
    gap: var(--spacing-md);
  }

  .stat {
    flex: 1 0 40%;
  }
}

/* Docs Sidebar Styles */
.docs-sidebar {
  display: flex;
  flex-direction: column;
  height: 100%;
  background-color: var(--color-bg-secondary);
  border-right: 1px solid var(--color-border);
}

.docs-sidebar .sidebar-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: var(--spacing-md) var(--spacing-lg);
  border-bottom: 1px solid var(--color-border);
}

.docs-sidebar .sidebar-header h3 {
  margin: 0;
  font-size: var(--font-size-base);
  font-weight: var(--font-weight-semibold);
  color: var(--color-text-primary);
}

.docs-sidebar .doc-count {
  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-semibold);
  padding: var(--spacing-xs) var(--spacing-sm);
  background-color: var(--color-bg-tertiary);
  border-radius: var(--radius-sm);
  color: var(--color-text-secondary);
}

.docs-sidebar .doc-list {
  flex: 1;
  overflow-y: auto;
  padding: var(--spacing-sm);
}

.docs-sidebar .doc-item {
  display: flex;
  align-items: center;
  gap: var(--spacing-sm);
  padding: var(--spacing-sm) var(--spacing-md);
  border-radius: var(--radius-md);
  cursor: pointer;
  transition: all var(--transition-fast);
  margin-bottom: var(--spacing-xs);
}

.docs-sidebar .doc-item:hover {
  background-color: var(--color-bg-tertiary);
}

.docs-sidebar .doc-item:focus {
  outline: none;
  background-color: var(--color-bg-tertiary);
  box-shadow: 0 0 0 2px var(--color-accent-primary);
}

.docs-sidebar .doc-item.active {
  background-color: var(--color-accent-primary);
  color: var(--color-bg-primary);
}

.docs-sidebar .doc-item.active .doc-name {
  color: var(--color-bg-primary);
}

.docs-sidebar .doc-item.active .doc-date {
  color: rgba(255, 255, 255, 0.7);
}

.docs-sidebar .doc-icon {
  font-size: var(--font-size-lg);
  flex-shrink: 0;
}

.docs-sidebar .doc-info {
  flex: 1;
  min-width: 0;
  display: flex;
  flex-direction: column;
  gap: 2px;
}

.docs-sidebar .doc-name {
  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-medium);
  color: var(--color-text-primary);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.docs-sidebar .doc-date {
  font-size: var(--font-size-xs);
  color: var(--color-text-muted);
}

.docs-sidebar .unsaved-indicator {
  color: var(--color-accent-warning);
  font-size: var(--font-size-sm);
  flex-shrink: 0;
}

.docs-sidebar .doc-item.active .unsaved-indicator {
  color: rgba(255, 255, 255, 0.9);
}

.docs-sidebar .empty-state {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: var(--spacing-xl);
  text-align: center;
  color: var(--color-text-muted);
}

.docs-sidebar .empty-state .empty-icon {
  font-size: 2rem;
  margin-bottom: var(--spacing-sm);
  opacity: 0.5;
}

.docs-sidebar .empty-state p {
  margin: 0;
  font-size: var(--font-size-sm);
}

/* Docs Viewer Styles */
.docs-viewer {
  display: flex;
  flex-direction: column;
  height: 100%;
  background-color: var(--color-bg-primary);
}

.docs-viewer .viewer-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: var(--spacing-md) var(--spacing-lg);
  border-bottom: 1px solid var(--color-border);
  background-color: var(--color-bg-secondary);
}

.docs-viewer .viewer-title {
  margin: 0;
  font-size: var(--font-size-lg);
  font-weight: var(--font-weight-semibold);
  color: var(--color-text-primary);
}

.docs-viewer .edit-btn {
  display: flex;
  align-items: center;
  gap: var(--spacing-xs);
  padding: var(--spacing-sm) var(--spacing-md);
  background-color: var(--color-bg-tertiary);
  color: var(--color-text-secondary);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  font-size: var(--font-size-sm);
  cursor: pointer;
  transition: all var(--transition-fast);
}

.docs-viewer .edit-btn:hover {
  background-color: var(--color-accent-primary);
  color: var(--color-bg-primary);
  border-color: var(--color-accent-primary);
}

.docs-viewer .edit-icon {
  font-size: var(--font-size-base);
}

.docs-viewer .viewer-content {
  flex: 1;
  overflow-y: auto;
  padding: var(--spacing-lg) var(--spacing-xl);
}

/* Markdown Body Styles */
.markdown-body {
  color: var(--color-text-primary);
  font-size: var(--font-size-base);
  line-height: var(--line-height-relaxed);
}

.markdown-body h1 {
  font-size: var(--font-size-3xl);
  font-weight: var(--font-weight-bold);
  margin: 0 0 var(--spacing-lg) 0;
  padding-bottom: var(--spacing-sm);
  border-bottom: 1px solid var(--color-border);
  color: var(--color-text-primary);
}

.markdown-body h2 {
  font-size: var(--font-size-2xl);
  font-weight: var(--font-weight-semibold);
  margin: var(--spacing-xl) 0 var(--spacing-md) 0;
  color: var(--color-text-primary);
}

.markdown-body h3 {
  font-size: var(--font-size-xl);
  font-weight: var(--font-weight-semibold);
  margin: var(--spacing-lg) 0 var(--spacing-md) 0;
  color: var(--color-text-primary);
}

.markdown-body h4 {
  font-size: var(--font-size-lg);
  font-weight: var(--font-weight-semibold);
  margin: var(--spacing-md) 0 var(--spacing-sm) 0;
  color: var(--color-text-primary);
}

.markdown-body h5,
.markdown-body h6 {
  font-size: var(--font-size-base);
  font-weight: var(--font-weight-semibold);
  margin: var(--spacing-md) 0 var(--spacing-sm) 0;
  color: var(--color-text-secondary);
}

.markdown-body p {
  margin: 0 0 var(--spacing-md) 0;
}

.markdown-body ul,
.markdown-body ol {
  margin: 0 0 var(--spacing-md) 0;
  padding-left: var(--spacing-xl);
}

.markdown-body li {
  margin-bottom: var(--spacing-xs);
}

.markdown-body li > ul,
.markdown-body li > ol {
  margin: var(--spacing-xs) 0;
}

.markdown-body blockquote {
  margin: 0 0 var(--spacing-md) 0;
  padding: var(--spacing-sm) var(--spacing-md);
  border-left: 4px solid var(--color-accent-primary);
  background-color: var(--color-bg-secondary);
  color: var(--color-text-secondary);
}

.markdown-body blockquote > p:last-child {
  margin-bottom: 0;
}

.markdown-body hr {
  border: none;
  border-top: 1px solid var(--color-border);
  margin: var(--spacing-xl) 0;
}

.markdown-body table {
  width: 100%;
  border-collapse: collapse;
  margin: 0 0 var(--spacing-md) 0;
}

.markdown-body th,
.markdown-body td {
  padding: var(--spacing-sm) var(--spacing-md);
  border: 1px solid var(--color-border);
  text-align: left;
}

.markdown-body th {
  background-color: var(--color-bg-secondary);
  font-weight: var(--font-weight-semibold);
}

.markdown-body tr:nth-child(even) {
  background-color: var(--color-bg-secondary);
}

.markdown-body img {
  max-width: 480px;
  height: auto;
  border-radius: var(--radius-md);
  cursor: pointer;
  transition: opacity var(--transition-fast);
}

.markdown-body img:hover {
  opacity: 0.85;
}

/* Image Lightbox Overlay */
.image-lightbox-overlay {
  position: fixed;
  inset: 0;
  z-index: 9999;
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgba(0, 0, 0, 0.85);
  cursor: pointer;
  animation: lightbox-fade-in 0.15s ease-out;
}

.image-lightbox-overlay img {
  max-width: 90vw;
  max-height: 90vh;
  object-fit: contain;
  border-radius: var(--radius-md);
  cursor: default;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5);
}

@keyframes lightbox-fade-in {
  from { opacity: 0; }
  to { opacity: 1; }
}

.markdown-body a {
  color: var(--color-accent-secondary);
  text-decoration: underline;
}

.markdown-body a:hover {
  color: var(--color-accent-primary);
}

/* Inline code */
.markdown-body code:not(.hljs) {
  font-family: var(--font-family-mono);
  font-size: var(--font-size-sm);
  background-color: var(--color-bg-tertiary);
  padding: 2px var(--spacing-xs);
  border-radius: var(--radius-sm);
  color: var(--color-accent-primary);
}

/* Code blocks with highlight.js */
.markdown-body pre {
  margin: 0 0 var(--spacing-md) 0;
  padding: var(--spacing-md);
  background-color: var(--color-bg-secondary);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  overflow-x: auto;
}

.markdown-body pre code {
  font-family: var(--font-family-mono);
  font-size: var(--font-size-sm);
  background: none;
  padding: 0;
  color: var(--color-text-primary);
}

/* Highlight.js Theme - Dark */
.hljs {
  color: var(--color-text-primary);
}

.hljs-comment,
.hljs-quote {
  color: var(--color-text-muted);
  font-style: italic;
}

.hljs-keyword,
.hljs-selector-tag,
.hljs-addition {
  color: #c678dd;
}

.hljs-number,
.hljs-string,
.hljs-meta .hljs-meta-string,
.hljs-literal,
.hljs-doctag,
.hljs-regexp {
  color: #98c379;
}

.hljs-title,
.hljs-section,
.hljs-name,
.hljs-selector-id,
.hljs-selector-class {
  color: #e6c07b;
}

.hljs-attribute,
.hljs-attr,
.hljs-variable,
.hljs-template-variable,
.hljs-class .hljs-title,
.hljs-type {
  color: #e06c75;
}

.hljs-symbol,
.hljs-bullet,
.hljs-subst,
.hljs-meta,
.hljs-meta .hljs-keyword,
.hljs-selector-attr,
.hljs-selector-pseudo,
.hljs-link {
  color: #56b6c2;
}

.hljs-built_in,
.hljs-deletion {
  color: #e06c75;
}

.hljs-formula {
  background-color: var(--color-bg-tertiary);
}

.hljs-emphasis {
  font-style: italic;
}

.hljs-strong {
  font-weight: bold;
}

/* Highlight.js Theme - Light overrides */
html[data-theme="light"] .hljs-keyword,
html[data-theme="light"] .hljs-selector-tag,
html[data-theme="light"] .hljs-addition {
  color: #a626a4;
}

html[data-theme="light"] .hljs-number,
html[data-theme="light"] .hljs-string,
html[data-theme="light"] .hljs-meta .hljs-meta-string,
html[data-theme="light"] .hljs-literal,
html[data-theme="light"] .hljs-doctag,
html[data-theme="light"] .hljs-regexp {
  color: #50a14f;
}

html[data-theme="light"] .hljs-title,
html[data-theme="light"] .hljs-section,
html[data-theme="light"] .hljs-name,
html[data-theme="light"] .hljs-selector-id,
html[data-theme="light"] .hljs-selector-class {
  color: #c18401;
}

html[data-theme="light"] .hljs-attribute,
html[data-theme="light"] .hljs-attr,
html[data-theme="light"] .hljs-variable,
html[data-theme="light"] .hljs-template-variable,
html[data-theme="light"] .hljs-class .hljs-title,
html[data-theme="light"] .hljs-type {
  color: #e45649;
}

html[data-theme="light"] .hljs-symbol,
html[data-theme="light"] .hljs-bullet,
html[data-theme="light"] .hljs-subst,
html[data-theme="light"] .hljs-meta,
html[data-theme="light"] .hljs-meta .hljs-keyword,
html[data-theme="light"] .hljs-selector-attr,
html[data-theme="light"] .hljs-selector-pseudo,
html[data-theme="light"] .hljs-link {
  color: #0184bc;
}

html[data-theme="light"] .hljs-built_in,
html[data-theme="light"] .hljs-deletion {
  color: #e45649;
}

/* Viewer States */
.docs-viewer .viewer-loading,
.docs-viewer .viewer-error,
.docs-viewer .viewer-empty {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 100%;
  text-align: center;
  padding: var(--spacing-2xl);
  color: var(--color-text-secondary);
}

.docs-viewer .viewer-loading .loading-spinner {
  width: 40px;
  height: 40px;
  border: 3px solid var(--color-bg-tertiary);
  border-top-color: var(--color-accent-primary);
  border-radius: 50%;
  animation: spin 1s linear infinite;
  margin-bottom: var(--spacing-md);
}

.docs-viewer .viewer-loading p {
  margin: 0;
  color: var(--color-text-muted);
}

.docs-viewer .viewer-error {
  color: var(--color-text-primary);
}

.docs-viewer .viewer-error .error-icon {
  font-size: 3rem;
  margin-bottom: var(--spacing-md);
}

.docs-viewer .viewer-error h3 {
  margin: 0 0 var(--spacing-sm) 0;
  font-size: var(--font-size-lg);
  font-weight: var(--font-weight-semibold);
}

.docs-viewer .viewer-error p {
  margin: 0 0 var(--spacing-lg) 0;
  color: var(--color-text-secondary);
}

.docs-viewer .viewer-empty .empty-icon {
  font-size: 4rem;
  margin-bottom: var(--spacing-md);
  opacity: 0.5;
}

.docs-viewer .viewer-empty p {
  margin: 0;
  color: var(--color-text-muted);
}

.docs-viewer .empty-document {
  padding: var(--spacing-xl);
  text-align: center;
  color: var(--color-text-muted);
  font-style: italic;
}

.docs-viewer .empty-document p {
  margin: 0;
}

.markdown-body .markdown-error {
  color: var(--color-accent-error);
  padding: var(--spacing-md);
  background-color: rgba(var(--color-accent-error-rgb), 0.1);
  border: 1px solid var(--color-accent-error);
  border-radius: var(--radius-md);
}

/* =================================================================
   CHAT MESSAGE MARKDOWN STYLES (CMDR-002)
   Chat-specific overrides for markdown rendering in chat context.
   Scoped to .chat-message .markdown-body for isolation.
   ================================================================= */

/* Chat Markdown Container */
.chat-message .markdown-body {
  font-size: var(--font-size-base);
  line-height: var(--line-height-relaxed);
}

/* Chat Tables - Dark Theme with Zebra Stripes */
.chat-message .markdown-body table {
  width: 100%;
  border-collapse: collapse;
  margin: var(--spacing-md) 0;
  background-color: var(--color-bg-secondary);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  overflow: hidden;
}

.chat-message .markdown-body th,
.chat-message .markdown-body td {
  padding: var(--spacing-sm) var(--spacing-md);
  border: 1px solid var(--color-border);
  text-align: left;
}

.chat-message .markdown-body th {
  background-color: var(--color-bg-tertiary);
  font-weight: var(--font-weight-semibold);
  color: var(--color-text-primary);
}

.chat-message .markdown-body tr:nth-child(even) {
  background-color: rgba(38, 38, 38, 0.5);
}

.chat-message .markdown-body tr:hover {
  background-color: var(--color-bg-tertiary);
}

/* Scrollable wrapper for wide tables */
.chat-message .markdown-body .table-wrapper {
  overflow-x: auto;
  margin: var(--spacing-md) 0;
}

.chat-message .markdown-body .table-wrapper table {
  margin: 0;
  min-width: max-content;
}

/* Chat Code Blocks - Enhanced Dark Theme */
.chat-message .markdown-body .code-block {
  margin: var(--spacing-md) 0;
  background-color: var(--color-bg-secondary);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  overflow: hidden;
}

.chat-message .markdown-body .code-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: var(--spacing-xs) var(--spacing-md);
  background-color: var(--color-bg-tertiary);
  border-bottom: 1px solid var(--color-border);
}

.chat-message .markdown-body .code-language {
  font-size: var(--font-size-xs);
  font-family: var(--font-family-mono);
  color: var(--color-text-muted);
  text-transform: lowercase;
}

.chat-message .markdown-body .copy-btn {
  font-size: var(--font-size-xs);
  padding: var(--spacing-xs) var(--spacing-sm);
  background-color: transparent;
  color: var(--color-text-muted);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-sm);
  cursor: pointer;
  transition: all var(--transition-fast);
}

.chat-message .markdown-body .copy-btn:hover {
  background-color: var(--color-accent-primary);
  color: var(--color-bg-primary);
  border-color: var(--color-accent-primary);
}

.chat-message .markdown-body .copy-btn:focus {
  outline: 2px solid var(--color-accent-primary);
  outline-offset: 2px;
}

.chat-message .markdown-body .copy-btn--copied {
  background-color: var(--color-success);
  color: var(--color-bg-primary);
  border-color: var(--color-success);
}

.chat-message .markdown-body .copy-btn--copied:hover {
  background-color: var(--color-success);
  border-color: var(--color-success);
}

.chat-message .markdown-body .copy-btn--error {
  background-color: var(--color-danger);
  color: var(--color-bg-primary);
  border-color: var(--color-danger);
}

.chat-message .markdown-body .copy-btn--error:hover {
  background-color: var(--color-danger);
  border-color: var(--color-danger);
}

.chat-message .markdown-body .code-block pre {
  margin: 0;
  padding: var(--spacing-md);
  background-color: var(--color-bg-secondary);
  overflow-x: auto;
}

.chat-message .markdown-body .code-block pre code {
  font-family: var(--font-family-mono);
  font-size: var(--font-size-sm);
  line-height: var(--line-height-relaxed);
  color: var(--color-text-primary);
  background: none;
  padding: 0;
}

/* Chat Inline Code */
.chat-message .markdown-body code:not(.hljs) {
  font-family: var(--font-family-mono);
  font-size: 0.9em;
  background-color: var(--color-bg-tertiary);
  padding: 2px var(--spacing-xs);
  border-radius: var(--radius-sm);
  color: var(--color-accent-primary);
}

/* Chat Headings - Clear Visual Hierarchy */
.chat-message .markdown-body h1 {
  font-size: var(--font-size-2xl);
  font-weight: var(--font-weight-bold);
  margin: var(--spacing-lg) 0 var(--spacing-md) 0;
  padding-bottom: var(--spacing-xs);
  border-bottom: 1px solid var(--color-border);
  color: var(--color-text-primary);
}

.chat-message .markdown-body h2 {
  font-size: var(--font-size-xl);
  font-weight: var(--font-weight-semibold);
  margin: var(--spacing-md) 0 var(--spacing-sm) 0;
  color: var(--color-text-primary);
}

.chat-message .markdown-body h3 {
  font-size: var(--font-size-lg);
  font-weight: var(--font-weight-semibold);
  margin: var(--spacing-md) 0 var(--spacing-sm) 0;
  color: var(--color-text-primary);
}

.chat-message .markdown-body h4,
.chat-message .markdown-body h5,
.chat-message .markdown-body h6 {
  font-size: var(--font-size-base);
  font-weight: var(--font-weight-semibold);
  margin: var(--spacing-sm) 0;
  color: var(--color-text-secondary);
}

/* Chat Links - Visible and Secure */
.chat-message .markdown-body a {
  color: var(--color-accent-secondary);
  text-decoration: none;
  transition: color var(--transition-fast);
}

.chat-message .markdown-body a:hover {
  color: var(--color-accent-primary);
  text-decoration: underline;
}

/* External links open in new tab - styled hint */
.chat-message .markdown-body a[target="_blank"]::after {
  content: " ";
  font-size: 0.8em;
  vertical-align: super;
}

/* Chat Blockquotes - Visual Styling */
.chat-message .markdown-body blockquote {
  margin: var(--spacing-md) 0;
  padding: var(--spacing-sm) var(--spacing-md);
  border-left: 4px solid var(--color-accent-primary);
  background-color: rgba(var(--color-accent-success-rgb), 0.1);
  border-radius: 0 var(--radius-sm) var(--radius-sm) 0;
  color: var(--color-text-secondary);
}

.chat-message .markdown-body blockquote p {
  margin: 0;
}

.chat-message .markdown-body blockquote > p:last-child {
  margin-bottom: 0;
}

/* Chat Lists */
.chat-message .markdown-body ul,
.chat-message .markdown-body ol {
  margin: var(--spacing-sm) 0;
  padding-left: var(--spacing-lg);
}

.chat-message .markdown-body li {
  margin-bottom: var(--spacing-xs);
}

.chat-message .markdown-body li > ul,
.chat-message .markdown-body li > ol {
  margin: var(--spacing-xs) 0 0 0;
}

/* Chat Horizontal Rules */
.chat-message .markdown-body hr {
  border: none;
  border-top: 1px solid var(--color-border);
  margin: var(--spacing-lg) 0;
}

/* Chat Images */
.chat-message .markdown-body img {
  max-width: 100%;
  height: auto;
  border-radius: var(--radius-md);
  margin: var(--spacing-sm) 0;
}

/* Chat Strong/Bold and Emphasis/Italic */
.chat-message .markdown-body strong {
  font-weight: var(--font-weight-semibold);
  color: var(--color-text-primary);
}

.chat-message .markdown-body em {
  font-style: italic;
  color: var(--color-text-secondary);
}

/* Chat Mermaid Diagrams (CMDR-004) */
.chat-message .markdown-body .mermaid-container {
  margin: var(--spacing-md) 0;
  background-color: var(--color-bg-secondary);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-lg);
  overflow: hidden;
}

.chat-message .markdown-body .mermaid-diagram {
  padding: var(--spacing-md);
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100px;
  overflow-x: auto;
}

.chat-message .markdown-body .mermaid-diagram svg {
  max-width: 100%;
  height: auto;
}

.chat-message .markdown-body .mermaid-fallback {
  padding: var(--spacing-md);
}

.chat-message .markdown-body .mermaid-fallback pre {
  margin: 0;
  padding: var(--spacing-sm);
  background-color: var(--color-bg-tertiary);
  border-radius: var(--radius-md);
  overflow-x: auto;
}

.chat-message .markdown-body .mermaid-fallback code {
  font-family: var(--font-family-mono);
  font-size: var(--font-size-sm);
  color: var(--color-text-secondary);
}

.chat-message .markdown-body .mermaid-error {
  display: flex;
  align-items: center;
  gap: var(--spacing-sm);
  padding: var(--spacing-sm) var(--spacing-md);
  margin-bottom: var(--spacing-sm);
  background-color: rgba(var(--color-accent-error-rgb), 0.1);
  border-radius: var(--radius-md);
  color: var(--color-danger);
  font-size: var(--font-size-sm);
}

.chat-message .markdown-body .mermaid-error-icon {
  flex-shrink: 0;
}

.chat-message .markdown-body .mermaid-error-text {
  word-break: break-word;
}

/* =================================================================
   END CHAT MESSAGE MARKDOWN STYLES
   ================================================================= */

/* Docs Editor Styles */
.docs-editor {
  display: flex;
  flex-direction: column;
  height: 100%;
  background-color: var(--color-bg-primary);
}

.docs-editor .editor-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: var(--spacing-md) var(--spacing-lg);
  border-bottom: 1px solid var(--color-border);
  background-color: var(--color-bg-secondary);
}

.docs-editor .editor-title-area {
  display: flex;
  align-items: center;
  gap: var(--spacing-sm);
}

.docs-editor .editor-title {
  margin: 0;
  font-size: var(--font-size-lg);
  font-weight: var(--font-weight-semibold);
  color: var(--color-text-primary);
}

.docs-editor .unsaved-badge {
  font-size: var(--font-size-xs);
  font-weight: var(--font-weight-semibold);
  padding: var(--spacing-xs) var(--spacing-sm);
  background-color: rgba(245, 158, 11, 0.2);
  color: var(--color-accent-warning);
  border-radius: var(--radius-sm);
}

.docs-editor .editor-actions {
  display: flex;
  gap: var(--spacing-sm);
}

.docs-editor .cancel-btn {
  padding: var(--spacing-sm) var(--spacing-md);
  background-color: var(--color-bg-tertiary);
  color: var(--color-text-secondary);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  font-size: var(--font-size-sm);
  cursor: pointer;
  transition: all var(--transition-fast);
}

.docs-editor .cancel-btn:hover:not(:disabled) {
  background-color: var(--color-bg-elevated);
  color: var(--color-text-primary);
}

.docs-editor .cancel-btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.docs-editor .save-btn {
  display: flex;
  align-items: center;
  gap: var(--spacing-xs);
  padding: var(--spacing-sm) var(--spacing-md);
  background-color: var(--color-accent-primary);
  color: var(--color-bg-primary);
  border: none;
  border-radius: var(--radius-md);
  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-semibold);
  cursor: pointer;
  transition: all var(--transition-fast);
}

.docs-editor .save-btn:hover:not(:disabled) {
  background-color: var(--color-accent-success);
}

.docs-editor .save-btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.docs-editor .saving-spinner {
  display: inline-block;
  width: 14px;
  height: 14px;
  border: 2px solid rgba(255, 255, 255, 0.3);
  border-top-color: white;
  border-radius: 50%;
  animation: spin 0.8s linear infinite;
}

.docs-editor .large-file-warning {
  display: flex;
  align-items: center;
  gap: var(--spacing-sm);
  padding: var(--spacing-sm) var(--spacing-lg);
  background-color: rgba(245, 158, 11, 0.1);
  border-bottom: 1px solid var(--color-accent-warning);
  color: var(--color-accent-warning);
  font-size: var(--font-size-sm);
}

.docs-editor .large-file-warning .warning-icon {
  flex-shrink: 0;
}

.docs-editor .save-error {
  display: flex;
  align-items: center;
  gap: var(--spacing-sm);
  padding: var(--spacing-sm) var(--spacing-lg);
  background-color: rgba(var(--color-accent-error-rgb), 0.1);
  border-bottom: 1px solid var(--color-accent-error);
  color: var(--color-accent-error);
  font-size: var(--font-size-sm);
}

.docs-editor .save-error .error-icon {
  flex-shrink: 0;
}

.docs-editor .editor-codemirror {
  flex: 1;
  overflow: hidden;
}

.docs-editor .editor-codemirror .cm-editor {
  height: 100%;
}

.docs-editor .editor-codemirror .cm-focused {
  outline: none;
}

/* Docs Panel Styles */
.docs-panel {
  display: flex;
  height: calc(100vh - var(--header-height) - var(--spacing-2xl) - 60px);
  min-height: 500px;
  border: 1px solid var(--color-border);
  border-radius: var(--radius-lg);
  overflow: hidden;
  background-color: var(--color-bg-primary);
}

.docs-panel > aos-docs-sidebar {
  width: 250px;
  flex-shrink: 0;
}

.docs-panel-content {
  flex: 1;
  overflow: hidden;
}

.docs-panel-loading,
.docs-panel-empty {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 100%;
  text-align: center;
  padding: var(--spacing-2xl);
  color: var(--color-text-secondary);
}

.docs-panel-loading .loading-spinner {
  width: 40px;
  height: 40px;
  border: 3px solid var(--color-bg-tertiary);
  border-top-color: var(--color-accent-primary);
  border-radius: 50%;
  animation: spin 1s linear infinite;
  margin-bottom: var(--spacing-md);
}

.docs-panel-loading p,
.docs-panel-empty p {
  margin: 0;
  color: var(--color-text-muted);
}

.docs-panel-empty .empty-icon {
  font-size: 4rem;
  margin-bottom: var(--spacing-md);
  opacity: 0.5;
}

.docs-panel-empty h3 {
  margin: 0 0 var(--spacing-sm) 0;
  color: var(--color-text-primary);
  font-size: var(--font-size-lg);
  font-weight: var(--font-weight-semibold);
}

/* Dashboard Tabs */
.dashboard-tabs {
  display: flex;
  gap: var(--spacing-xs);
  margin-bottom: var(--spacing-lg);
  border-bottom: 1px solid var(--color-border);
  padding-bottom: var(--spacing-sm);
}

.dashboard-tab {
  padding: var(--spacing-sm) var(--spacing-lg);
  background-color: transparent;
  color: var(--color-text-secondary);
  border: none;
  border-radius: var(--radius-md) var(--radius-md) 0 0;
  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-medium);
  cursor: pointer;
  transition: all var(--transition-fast);
  position: relative;
}

.dashboard-tab:hover {
  background-color: var(--color-bg-tertiary);
  color: var(--color-text-primary);
}

.dashboard-tab.active {
  background-color: var(--color-bg-tertiary);
  color: var(--color-accent-primary);
}

.dashboard-tab.active::after {
  content: '';
  position: absolute;
  bottom: calc(-1 * var(--spacing-sm) - 1px);
  left: 0;
  right: 0;
  height: 2px;
  background-color: var(--color-accent-primary);
}

/* Dashboard Tabs Layout */
.dashboard-tabs {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.tabs-left {
  display: flex;
  gap: var(--spacing-xs);
}

/* View Toggle */
.view-toggle-container {
  display: flex;
  gap: var(--spacing-xs);
  align-items: center;
}

.view-toggle-btn {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 32px;
  height: 32px;
  padding: 0;
  background-color: transparent;
  color: var(--color-text-secondary);
  border: none;
  border-radius: var(--radius-md);
  cursor: pointer;
  transition: all var(--transition-fast);
}

.view-toggle-btn:hover {
  background-color: var(--color-bg-tertiary);
  color: var(--color-text-primary);
}

.view-toggle-btn.active {
  background-color: var(--color-bg-tertiary);
  color: var(--color-accent-primary);
}

.view-toggle-btn svg {
  width: 16px;
  height: 16px;
}

/* Responsive Docs Panel */
@media (max-width: 800px) {
  .docs-panel {
    flex-direction: column;
    height: auto;
    min-height: 0;
  }

  .docs-panel > aos-docs-sidebar {
    width: 100%;
    max-height: 200px;
    border-right: none;
    border-bottom: 1px solid var(--color-border);
  }

  .docs-panel-content {
    min-height: 400px;
  }
}

/* Interactive Workflow Chat Styles */
.interactive-workflow-area {
  display: flex;
  flex-direction: column;
  height: 100%;
  min-height: 500px;
  max-height: calc(100vh - var(--header-height) - var(--spacing-2xl));
}

.workflow-running-banner {
  display: flex;
  align-items: center;
  gap: var(--spacing-sm);
  padding: var(--spacing-sm) var(--spacing-md);
  background-color: rgba(245, 158, 11, 0.1);
  border: 1px solid var(--color-accent-warning);
  border-radius: var(--radius-md);
  color: var(--color-accent-warning);
  margin-bottom: var(--spacing-md);
}

.running-icon {
  font-size: var(--font-size-lg);
}

/* Workflow Card Enhancements */
.workflow-card.expanded {
  border-color: var(--color-accent-primary);
}

.workflow-card .card-actions {
  display: flex;
  align-items: center;
  gap: var(--spacing-xs);
}

.workflow-card .options-icon {
  width: 28px;
  height: 28px;
  padding: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: transparent;
  color: var(--color-text-muted);
  border: 1px solid transparent;
  border-radius: var(--radius-sm);
  font-size: var(--font-size-sm);
  cursor: pointer;
  transition: all var(--transition-fast);
}

.workflow-card .options-icon:hover:not(:disabled) {
  background-color: var(--color-bg-primary);
  color: var(--color-text-primary);
  border-color: var(--color-border);
}

.workflow-card .options-icon:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

/* Argument Input Area */
.argument-input-area {
  margin-top: var(--spacing-md);
  padding-top: var(--spacing-md);
  border-top: 1px solid var(--color-border);
}

.argument-input {
  width: 100%;
  padding: var(--spacing-sm) var(--spacing-md);
  font-family: var(--font-family-sans);
  font-size: var(--font-size-sm);
  background-color: var(--color-bg-primary);
  color: var(--color-text-primary);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  outline: none;
  transition: border-color var(--transition-fast);
}

.argument-input:focus {
  border-color: var(--color-accent-primary);
}

.argument-input::placeholder {
  color: var(--color-text-muted);
}

.argument-actions {
  display: flex;
  justify-content: flex-end;
  gap: var(--spacing-sm);
  margin-top: var(--spacing-sm);
}

.cancel-argument-btn {
  padding: var(--spacing-xs) var(--spacing-md);
  background-color: transparent;
  color: var(--color-text-secondary);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  font-size: var(--font-size-sm);
  cursor: pointer;
  transition: all var(--transition-fast);
}

.cancel-argument-btn:hover {
  background-color: var(--color-bg-primary);
  color: var(--color-text-primary);
}

.start-argument-btn {
  padding: var(--spacing-xs) var(--spacing-md);
  background-color: var(--color-accent-primary);
  color: var(--color-bg-primary);
  border: none;
  border-radius: var(--radius-md);
  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-semibold);
  cursor: pointer;
  transition: all var(--transition-fast);
}

.start-argument-btn:hover {
  background-color: var(--color-accent-success);
}

/* Workflow Question Component Styles */
.workflow-question {
  background-color: var(--color-bg-secondary);
  border: 1px solid var(--color-accent-secondary);
  border-radius: var(--radius-lg);
  padding: var(--spacing-lg);
  margin: var(--spacing-md) 0;
}

.workflow-question.disabled {
  opacity: 0.6;
  pointer-events: none;
}

.workflow-question-empty {
  padding: var(--spacing-md);
  color: var(--color-text-muted);
  text-align: center;
  font-size: var(--font-size-sm);
}

.question-header-chip {
  display: inline-block;
  font-size: var(--font-size-xs);
  font-weight: var(--font-weight-semibold);
  padding: var(--spacing-xs) var(--spacing-sm);
  background-color: var(--color-accent-secondary);
  color: white;
  border-radius: var(--radius-sm);
  margin-bottom: var(--spacing-sm);
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.question-text {
  font-size: var(--font-size-base);
  font-weight: var(--font-weight-medium);
  color: var(--color-text-primary);
  margin-bottom: var(--spacing-md);
  line-height: var(--line-height-relaxed);
}

.options-list {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-sm);
  margin-bottom: var(--spacing-md);
}

.option-btn {
  display: flex;
  align-items: flex-start;
  gap: var(--spacing-md);
  width: 100%;
  padding: var(--spacing-md);
  background-color: var(--color-bg-tertiary);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  cursor: pointer;
  text-align: left;
  transition: all var(--transition-fast);
}

.option-btn:hover:not(:disabled) {
  background-color: var(--color-bg-elevated);
  border-color: var(--color-border-hover);
}

.option-btn:focus {
  outline: none;
  border-color: var(--color-accent-secondary);
  box-shadow: 0 0 0 2px rgba(var(--color-accent-primary-rgb), 0.2);
}

.option-btn.selected {
  background-color: rgba(var(--color-accent-primary-rgb), 0.1);
  border-color: var(--color-accent-secondary);
}

.option-btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.option-indicator {
  flex-shrink: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 20px;
  height: 20px;
  margin-top: 2px;
}

.option-indicator .checkbox {
  width: 18px;
  height: 18px;
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: var(--color-bg-primary);
  border: 2px solid var(--color-border);
  border-radius: var(--radius-sm);
  font-size: var(--font-size-xs);
  color: transparent;
  transition: all var(--transition-fast);
}

.option-indicator .checkbox.checked {
  background-color: var(--color-accent-secondary);
  border-color: var(--color-accent-secondary);
  color: white;
}

.option-indicator .radio {
  width: 18px;
  height: 18px;
  background-color: var(--color-bg-primary);
  border: 2px solid var(--color-border);
  border-radius: 50%;
  position: relative;
  transition: all var(--transition-fast);
}

.option-indicator .radio.checked {
  border-color: var(--color-accent-secondary);
}

.option-indicator .radio.checked::after {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 8px;
  height: 8px;
  background-color: var(--color-accent-secondary);
  border-radius: 50%;
}

.option-content {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: var(--spacing-xs);
}

.option-label {
  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-semibold);
  color: var(--color-text-primary);
}

.option-description {
  font-size: var(--font-size-xs);
  color: var(--color-text-muted);
  line-height: var(--line-height-normal);
}

.other-option {
  border-style: dashed;
}

.other-input-area {
  margin-bottom: var(--spacing-md);
}

.other-text-input {
  width: 100%;
  padding: var(--spacing-sm) var(--spacing-md);
  font-family: var(--font-family-sans);
  font-size: var(--font-size-sm);
  background-color: var(--color-bg-primary);
  color: var(--color-text-primary);
  border: 1px solid var(--color-accent-secondary);
  border-radius: var(--radius-md);
  outline: none;
  transition: all var(--transition-fast);
}

.other-text-input:focus {
  box-shadow: 0 0 0 2px rgba(var(--color-accent-primary-rgb), 0.2);
}

.other-text-input::placeholder {
  color: var(--color-text-muted);
}

.other-text-input:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.question-actions {
  display: flex;
  justify-content: flex-end;
}

.submit-answer-btn {
  padding: var(--spacing-sm) var(--spacing-lg);
  background-color: var(--color-accent-primary);
  color: var(--color-bg-primary);
  border: none;
  border-radius: var(--radius-md);
  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-semibold);
  cursor: pointer;
  transition: all var(--transition-fast);
}

.submit-answer-btn:hover:not(:disabled) {
  background-color: var(--color-accent-success);
}

.submit-answer-btn:disabled {
  background-color: var(--color-bg-tertiary);
  color: var(--color-text-muted);
  cursor: not-allowed;
}

/* ============================================
   Workflow Question Batch (Multi-Tab)
   ============================================ */

.workflow-question-batch {
  background-color: var(--color-bg-secondary);
  border: 1px solid var(--color-accent-secondary);
  border-radius: var(--radius-lg);
  padding: var(--spacing-lg);
  margin: var(--spacing-md) 0;
}

.workflow-question-batch.disabled {
  opacity: 0.6;
  pointer-events: none;
}

.workflow-question-batch-empty {
  padding: var(--spacing-md);
  color: var(--color-text-muted);
  text-align: center;
  font-size: var(--font-size-sm);
}

.batch-header {
  display: flex;
  justify-content: flex-end;
  margin-bottom: var(--spacing-sm);
}

.batch-progress {
  font-size: var(--font-size-xs);
  color: var(--color-text-muted);
}

.batch-tabs {
  display: flex;
  gap: var(--spacing-xs);
  margin-bottom: var(--spacing-md);
  padding-bottom: var(--spacing-sm);
  border-bottom: 1px solid var(--color-border);
  flex-wrap: wrap;
}

.batch-tab {
  display: flex;
  align-items: center;
  gap: var(--spacing-xs);
  padding: var(--spacing-sm) var(--spacing-md);
  background-color: var(--color-bg-tertiary);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  cursor: pointer;
  font-size: var(--font-size-sm);
  color: var(--color-text-secondary);
  transition: all var(--transition-fast);
}

.batch-tab:hover:not(:disabled) {
  background-color: var(--color-bg-elevated);
  border-color: var(--color-border-hover);
}

.batch-tab:focus {
  outline: none;
  border-color: var(--color-accent-secondary);
  box-shadow: 0 0 0 2px rgba(var(--color-accent-primary-rgb), 0.2);
}

.batch-tab.active {
  background-color: var(--color-accent-secondary);
  border-color: var(--color-accent-secondary);
  color: white;
}

.batch-tab.answered:not(.active) {
  border-color: var(--color-accent-primary);
}

.tab-label {
  font-weight: var(--font-weight-medium);
}

.tab-check {
  color: var(--color-accent-primary);
  font-size: var(--font-size-xs);
}

.batch-tab.active .tab-check {
  color: white;
}

.batch-question-content {
  min-height: 200px;
}

.batch-question {
  animation: fadeIn var(--transition-fast) ease-out;
}

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(4px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.batch-navigation {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: var(--spacing-md) 0;
  border-top: 1px solid var(--color-border);
  margin-top: var(--spacing-md);
}

.batch-nav-btn {
  padding: var(--spacing-sm) var(--spacing-md);
  background-color: var(--color-bg-tertiary);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  color: var(--color-text-secondary);
  font-size: var(--font-size-sm);
  cursor: pointer;
  transition: all var(--transition-fast);
}

.batch-nav-btn:hover:not(:disabled) {
  background-color: var(--color-bg-elevated);
  border-color: var(--color-border-hover);
  color: var(--color-text-primary);
}

.batch-nav-btn:focus {
  outline: none;
  border-color: var(--color-accent-secondary);
  box-shadow: 0 0 0 2px rgba(var(--color-accent-primary-rgb), 0.2);
}

.batch-nav-btn:disabled {
  opacity: 0.4;
  cursor: not-allowed;
}

.batch-nav-indicator {
  font-size: var(--font-size-sm);
  color: var(--color-text-muted);
}

.batch-actions {
  display: flex;
  justify-content: center;
  padding-top: var(--spacing-md);
}

.batch-submit-btn {
  padding: var(--spacing-sm) var(--spacing-xl);
  background-color: var(--color-accent-primary);
  color: var(--color-bg-primary);
  border: none;
  border-radius: var(--radius-md);
  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-semibold);
  cursor: pointer;
  transition: all var(--transition-fast);
}

.batch-submit-btn:hover:not(:disabled) {
  background-color: var(--color-accent-success);
}

.batch-submit-btn:focus {
  outline: none;
  box-shadow: 0 0 0 3px rgba(var(--color-accent-success-rgb), 0.3);
}

.batch-submit-btn:disabled {
  background-color: var(--color-bg-tertiary);
  color: var(--color-text-muted);
  cursor: not-allowed;
}

/* ============================================
   Workflow Split-View with Embedded Docs Panel
   ============================================ */

/* Container with split view enabled */
.workflow-container--split {
  display: flex;
  flex-direction: row;
  gap: var(--spacing-md);
}

/* Interactive workflow area adjusts when docs panel is visible */
.interactive-workflow-area--with-docs {
  flex: 1;
  min-width: 0;
}

/* Docs panel in workflow view */
.workflow-docs-panel {
  position: relative;
  width: var(--docs-panel-default-width);
  min-width: var(--docs-panel-min-width);
  max-width: var(--docs-panel-max-width);
  flex-shrink: 0;
  display: flex;
  flex-direction: column;
  background-color: var(--color-bg-secondary);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-lg);
  overflow: hidden;
  height: 100%;
  max-height: calc(100vh - var(--header-height) - var(--spacing-2xl));
}

/* Resize handle for docs panel */
.docs-resize-handle {
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  width: var(--docs-resize-handle-width);
  cursor: col-resize;
  background: transparent;
  transition: background-color var(--transition-fast);
  z-index: 10;
}

.docs-resize-handle:hover,
.docs-resize-handle:active {
  background-color: var(--color-accent-primary);
}

.docs-panel-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: var(--spacing-sm) var(--spacing-md);
  background-color: var(--color-bg-tertiary);
  border-bottom: 1px solid var(--color-border);
}

.docs-panel-title {
  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-semibold);
  color: var(--color-text-primary);
  margin: 0;
}

.docs-close-btn {
  width: 28px;
  height: 28px;
  padding: 0;
  background: transparent;
  border: 1px solid var(--color-border);
  border-radius: var(--radius-sm);
  color: var(--color-text-secondary);
  font-size: var(--font-size-lg);
  line-height: 1;
  cursor: pointer;
  transition: all var(--transition-fast);
}

.docs-close-btn:hover {
  background-color: var(--color-bg-elevated);
  color: var(--color-text-primary);
}

/* Document list for multiple generated docs */
.docs-list {
  display: flex;
  flex-direction: column;
  padding: var(--spacing-xs);
  border-bottom: 1px solid var(--color-border);
  max-height: 150px;
  overflow-y: auto;
}

.docs-list-item {
  display: flex;
  align-items: center;
  gap: var(--spacing-sm);
  padding: var(--spacing-sm) var(--spacing-md);
  background: transparent;
  border: none;
  border-radius: var(--radius-sm);
  color: var(--color-text-secondary);
  text-align: left;
  cursor: pointer;
  transition: all var(--transition-fast);
}

.docs-list-item:hover {
  background-color: var(--color-bg-tertiary);
  color: var(--color-text-primary);
}

.docs-list-item--selected {
  background-color: var(--color-bg-elevated);
  color: var(--color-text-primary);
}

.docs-list-item .doc-icon {
  font-size: var(--font-size-sm);
}

.docs-list-item .doc-name {
  font-size: var(--font-size-sm);
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

/* Viewer container within docs panel */
.docs-viewer-container {
  flex: 1;
  overflow-y: auto;
  min-height: 0;
}

/* Embedded docs viewer modifications */
.docs-viewer--embedded {
  height: 100%;
  border: none;
  border-radius: 0;
}

.docs-viewer--embedded .viewer-header {
  padding: var(--spacing-sm) var(--spacing-md);
  background-color: var(--color-bg-primary);
  border-bottom: 1px solid var(--color-border);
}

.docs-viewer--embedded .viewer-title {
  font-size: var(--font-size-sm);
}

.docs-viewer--embedded .viewer-content {
  padding: var(--spacing-md);
}

/* Toggle button in running banner */
.docs-toggle-btn {
  display: flex;
  align-items: center;
  gap: var(--spacing-xs);
  margin-left: auto;
  padding: var(--spacing-xs) var(--spacing-sm);
  background-color: transparent;
  border: 1px solid currentColor;
  border-radius: var(--radius-sm);
  color: inherit;
  font-size: var(--font-size-sm);
  cursor: pointer;
  transition: all var(--transition-fast);
}

.docs-toggle-btn:hover {
  background-color: rgba(255, 255, 255, 0.1);
}

.docs-toggle-btn .docs-icon {
  font-size: var(--font-size-sm);
}

.docs-toggle-btn .toggle-arrow {
  font-size: var(--font-size-xs);
}

/* Docs banner for completed workflows with generated docs */
.workflow-docs-banner {
  display: flex;
  align-items: center;
  gap: var(--spacing-sm);
  padding: var(--spacing-sm) var(--spacing-md);
  background-color: rgba(var(--color-accent-success-rgb), 0.1);
  border: 1px solid var(--color-accent-primary);
  border-radius: var(--radius-md);
  color: var(--color-accent-primary);
  margin-bottom: var(--spacing-md);
}

.workflow-docs-banner .docs-icon {
  font-size: var(--font-size-lg);
}

.workflow-docs-banner .docs-toggle-btn {
  margin-left: auto;
}

/* Responsive: Docs panel as overlay on small screens */
@media (max-width: 900px) {
  .workflow-container--split {
    flex-direction: column;
    position: relative;
  }

  .workflow-docs-panel {
    position: absolute;
    top: 0;
    right: 0;
    width: 100%;
    max-width: 100%;
    height: 100%;
    max-height: 100%;
    z-index: 100;
    border-radius: 0;
  }

  .interactive-workflow-area--with-docs {
    width: 100%;
  }
}

/* ============================================
   Collapsible Text Component (WKFL-005)
   ============================================ */

aos-collapsible-text {
  display: contents;
}

.collapsible-text {
  position: relative;
  display: block;
}

.collapsible-text-content {
  white-space: normal;
  word-wrap: break-word;
  overflow: hidden;
  transition: max-height 0.3s ease-out;
  max-height: 4.5em;
}

.collapsible-text.is-collapsible:not(.is-expanded) .collapsible-text-content {
  max-height: 4.5em;
}

.collapsible-text.is-expanded .collapsible-text-content {
  max-height: none;
}

.collapsible-text-toggle {
  display: inline-flex;
  align-items: center;
  gap: var(--spacing-xs);
  margin-top: var(--spacing-xs);
  padding: var(--spacing-xs) var(--spacing-sm);
  background-color: transparent;
  border: 1px solid var(--color-border);
  border-radius: var(--radius-sm);
  color: var(--color-accent-primary);
  font-size: var(--font-size-sm);
  cursor: pointer;
  transition: all 0.2s ease;
}

.collapsible-text-toggle:hover {
  background-color: var(--color-bg-secondary);
  border-color: var(--color-accent-primary);
}

.collapsible-text-toggle:focus {
  outline: none;
  box-shadow: 0 0 0 2px var(--color-accent-primary);
}

/* Cancel Confirmation Dialog (WKFL-006) */
.cancel-confirm-overlay {
  position: absolute;
  inset: 0;
  background-color: rgba(0, 0, 0, 0.6);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 100;
  border-radius: inherit;
}

.cancel-confirm-dialog {
  background-color: var(--color-bg-secondary);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-lg);
  padding: var(--spacing-xl);
  max-width: 400px;
  text-align: center;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.cancel-confirm-icon {
  font-size: 2.5rem;
  margin-bottom: var(--spacing-md);
}

.cancel-confirm-title {
  font-size: var(--font-size-lg);
  font-weight: var(--font-weight-semibold);
  color: var(--color-text-primary);
  margin-bottom: var(--spacing-sm);
}

.cancel-confirm-message {
  font-size: var(--font-size-sm);
  color: var(--color-text-secondary);
  margin-bottom: var(--spacing-lg);
  line-height: var(--line-height-relaxed);
}

.cancel-confirm-actions {
  display: flex;
  gap: var(--spacing-md);
  justify-content: center;
}

.cancel-confirm-btn {
  padding: var(--spacing-sm) var(--spacing-lg);
  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-medium);
  border-radius: var(--radius-md);
  cursor: pointer;
  transition: all var(--transition-fast);
  border: 1px solid transparent;
}

.cancel-confirm-btn.secondary {
  background-color: var(--color-bg-primary);
  color: var(--color-text-secondary);
  border-color: var(--color-border);
}

.cancel-confirm-btn.secondary:hover {
  background-color: var(--color-bg-elevated);
  color: var(--color-text-primary);
}

.cancel-confirm-btn.primary {
  background-color: var(--color-accent-error);
  color: white;
}

.cancel-confirm-btn.primary:hover {
  background-color: var(--color-accent-error);
}

/* Cancelling Indicator (WKFL-006) */
.cancelling-indicator {
  display: flex;
  align-items: center;
  gap: var(--spacing-sm);
  padding: var(--spacing-sm) var(--spacing-md);
  background-color: var(--color-bg-tertiary);
  border-radius: var(--radius-md);
  font-size: var(--font-size-sm);
  color: var(--color-text-secondary);
}

.cancelling-indicator .loading-spinner.small {
  width: 14px;
  height: 14px;
  border: 2px solid var(--color-bg-elevated);
  border-top-color: var(--color-accent-primary);
  border-radius: 50%;
  animation: spin 1s linear infinite;
}

/* Workflow Error Inline with Retry (WKFL-006) */
.workflow-error-inline {
  background-color: rgba(var(--color-accent-error-rgb), 0.1);
  border: 1px solid var(--color-accent-error);
  border-radius: var(--radius-lg);
  padding: var(--spacing-lg);
  margin: var(--spacing-md) 0;
}

.workflow-error-inline .error-header {
  display: flex;
  align-items: center;
  gap: var(--spacing-sm);
  margin-bottom: var(--spacing-sm);
}

.workflow-error-inline .error-icon {
  font-size: var(--font-size-lg);
}

.workflow-error-inline .error-title {
  font-size: var(--font-size-base);
  font-weight: var(--font-weight-semibold);
  color: var(--color-accent-error);
}

.workflow-error-inline .error-message {
  font-size: var(--font-size-sm);
  color: var(--color-text-secondary);
  margin-bottom: var(--spacing-lg);
  line-height: var(--line-height-relaxed);
  padding: var(--spacing-md);
  background-color: var(--color-bg-primary);
  border-radius: var(--radius-md);
  font-family: var(--font-family-mono);
  white-space: pre-wrap;
  word-break: break-word;
}

.workflow-error-inline .error-actions {
  display: flex;
  gap: var(--spacing-sm);
}

.workflow-error-inline .retry-btn {
  padding: var(--spacing-sm) var(--spacing-md);
  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-medium);
  border-radius: var(--radius-md);
  cursor: pointer;
  transition: all var(--transition-fast);
  border: 1px solid transparent;
}

.workflow-error-inline .retry-btn.primary {
  background-color: var(--color-accent-primary);
  color: var(--color-bg-primary);
}

.workflow-error-inline .retry-btn.primary:hover {
  background-color: var(--color-accent-success);
}

.workflow-error-inline .retry-btn.secondary {
  background-color: var(--color-bg-primary);
  color: var(--color-text-secondary);
  border-color: var(--color-border);
}

.workflow-error-inline .retry-btn.secondary:hover {
  background-color: var(--color-bg-elevated);
  color: var(--color-text-primary);
}

/* ============================================
   Project Tabs Component (MPRO-001)
   ============================================ */

.project-tabs {
  display: flex;
  align-items: center;
  gap: var(--spacing-xs);
  padding: var(--spacing-xs) var(--spacing-md);
  background-color: var(--color-bg-secondary);
  border-bottom: 1px solid var(--color-border);
  min-height: 44px;
}

.project-tabs__container {
  display: flex;
  align-items: center;
  gap: var(--spacing-xs);
  flex: 1;
  overflow-x: auto;
  scrollbar-width: thin;
  scrollbar-color: var(--color-border) transparent;
}

.project-tabs__container::-webkit-scrollbar {
  height: 4px;
}

.project-tabs__container::-webkit-scrollbar-track {
  background: transparent;
}

.project-tabs__container::-webkit-scrollbar-thumb {
  background-color: var(--color-border);
  border-radius: 2px;
}

.project-tabs__add {
  flex-shrink: 0;
  width: 28px;
  height: 28px;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0;
  background-color: transparent;
  border: 1px dashed var(--color-border);
  border-radius: var(--radius-md);
  color: var(--color-text-muted);
  font-size: var(--font-size-lg);
  line-height: 1;
  cursor: pointer;
  transition: all var(--transition-fast);
}

.project-tabs__add:hover {
  background-color: var(--color-bg-elevated);
  border-color: var(--color-accent-primary);
  color: var(--color-accent-primary);
}

.project-tabs__add:focus {
  outline: none;
  box-shadow: 0 0 0 2px var(--color-accent-primary);
}

/* Individual Project Tab */
.project-tab {
  position: relative;
  display: flex;
  align-items: center;
  gap: var(--spacing-sm);
  padding: var(--spacing-xs) var(--spacing-md);
  background-color: var(--color-bg-primary);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  color: var(--color-text-secondary);
  font-size: var(--font-size-sm);
  cursor: pointer;
  transition: all var(--transition-fast);
  white-space: nowrap;
  max-width: 200px;
}

.project-tab:hover {
  background-color: var(--color-bg-elevated);
  border-color: var(--color-border-hover);
  color: var(--color-text-primary);
}

.project-tab:focus {
  outline: none;
  box-shadow: 0 0 0 2px var(--color-accent-primary);
}

.project-tab--active {
  background-color: var(--color-bg-tertiary);
  border-color: var(--color-accent-primary);
  color: var(--color-text-primary);
}

.project-tab__name {
  overflow: hidden;
  text-overflow: ellipsis;
  flex: 1;
  min-width: 0;
}

.project-tab__close {
  flex-shrink: 0;
  width: 18px;
  height: 18px;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0;
  background-color: transparent;
  border: none;
  border-radius: var(--radius-sm);
  color: var(--color-text-muted);
  font-size: var(--font-size-sm);
  line-height: 1;
  cursor: pointer;
  transition: all var(--transition-fast);
}

.project-tab__close:hover {
  background-color: var(--color-bg-primary);
  color: var(--color-accent-error);
}

.project-tab--active .project-tab__close:hover {
  background-color: var(--color-bg-elevated);
}

/* Empty State */
.project-tabs__empty {
  display: flex;
  align-items: center;
  gap: var(--spacing-md);
  padding: var(--spacing-xs) 0;
}

.project-tabs__empty-text {
  color: var(--color-text-muted);
  font-size: var(--font-size-sm);
}

.project-tabs__empty-button {
  padding: var(--spacing-xs) var(--spacing-md);
  background-color: var(--color-accent-primary);
  border: none;
  border-radius: var(--radius-md);
  color: var(--color-bg-primary);
  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-medium);
  cursor: pointer;
  transition: all var(--transition-fast);
}

.project-tabs__empty-button:hover {
  background-color: var(--color-accent-success);
}

.project-tabs__empty-button:focus {
  outline: none;
  box-shadow: 0 0 0 2px var(--color-accent-primary);
}

/* ============================================
   Git Status Bar (GIT-002)
   ============================================ */

.git-status-bar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: var(--spacing-xs) var(--spacing-xl);
  background-color: var(--color-bg-secondary);
  border-bottom: 1px solid var(--color-border);
  font-size: var(--font-size-sm);
  color: var(--color-text-secondary);
  min-height: 36px;
}

.git-status-bar--no-repo {
  justify-content: center;
}

.git-status-bar--loading {
  justify-content: flex-start;
}

.git-status-bar__left {
  display: flex;
  align-items: center;
  gap: var(--spacing-md);
}

.git-status-bar__branch {
  display: flex;
  align-items: center;
  gap: var(--spacing-xs);
  font-family: var(--font-family-mono);
  font-weight: var(--font-weight-medium);
  color: var(--color-accent-primary);
}

.git-status-bar__info-text {
  color: var(--color-text-muted);
  font-style: italic;
}

.git-status-bar__icon {
  width: 14px;
  height: 14px;
  flex-shrink: 0;
}

.git-status-bar__icon--spin {
  animation: git-spin 1s linear infinite;
}

@keyframes git-spin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

.git-status-bar__counter {
  display: flex;
  align-items: center;
  gap: 2px;
  font-family: var(--font-family-mono);
}

.git-status-bar__counter--ahead {
  color: var(--color-accent-primary);
}

.git-status-bar__counter--behind {
  color: var(--color-accent-warning);
}

.git-status-bar__counter--changed {
  color: var(--color-accent-secondary);
}

.git-status-bar__actions {
  display: flex;
  align-items: center;
  gap: var(--spacing-xs);
}

.git-status-bar__btn {
  display: flex;
  align-items: center;
  gap: 4px;
  padding: 4px 8px;
  background: none;
  border: 1px solid transparent;
  border-radius: 4px;
  color: var(--color-text-secondary);
  font-size: var(--font-size-xs);
  font-family: var(--font-family-sans);
  cursor: pointer;
  transition: all var(--transition-fast);
}

.git-status-bar__btn:hover:not(:disabled) {
  background-color: var(--color-bg-tertiary);
  border-color: var(--color-border);
  color: var(--color-text-primary);
}

.git-status-bar__btn:disabled {
  opacity: 0.4;
  cursor: not-allowed;
}

.git-status-bar__btn--refresh {
  padding: 4px;
}

/* Branch Dropdown (GIT-003) */

.git-status-bar__branch--clickable {
  cursor: pointer;
  border-radius: 4px;
  padding: 2px 4px;
  transition: background-color var(--transition-fast);
  position: relative;
}

.git-status-bar__branch--clickable:hover {
  background-color: var(--color-bg-tertiary);
}

.git-status-bar__chevron {
  width: 12px;
  height: 12px;
  transition: transform var(--transition-fast);
}

.git-status-bar__chevron--open {
  transform: rotate(180deg);
}

.git-status-bar__branch-dropdown {
  position: absolute;
  top: 100%;
  left: 0;
  margin-top: 4px;
  min-width: 220px;
  max-height: 300px;
  overflow-y: auto;
  background-color: var(--color-bg-secondary);
  border: 1px solid var(--color-border);
  border-radius: 6px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
  z-index: 100;
  padding: var(--spacing-xs) 0;
}

.git-status-bar__branch-item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  width: 100%;
  padding: 6px 12px;
  background: none;
  border: none;
  color: var(--color-text-secondary);
  font-family: var(--font-family-mono);
  font-size: var(--font-size-sm);
  cursor: pointer;
  text-align: left;
  transition: background-color var(--transition-fast);
}

.git-status-bar__branch-item:hover:not(:disabled) {
  background-color: var(--color-bg-tertiary);
  color: var(--color-text-primary);
}

.git-status-bar__branch-item--current {
  color: var(--color-accent-primary);
  font-weight: var(--font-weight-medium);
  cursor: default;
}

.git-status-bar__branch-item:disabled {
  cursor: default;
}

.git-status-bar__branch-name {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.git-status-bar__branch-current-badge {
  font-size: var(--font-size-xs);
  color: var(--color-text-muted);
  background-color: var(--color-bg-tertiary);
  padding: 1px 6px;
  border-radius: 4px;
  flex-shrink: 0;
  margin-left: var(--spacing-sm);
}

/* ============================================
   Project Add Modal (MPRO-002)
   ============================================ */
.project-add-modal__overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: rgba(0, 0, 0, 0.6);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
}

.project-add-modal {
  background-color: var(--color-bg-secondary);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-xl);
  width: 90%;
  max-width: 500px;
  max-height: 80vh;
  display: flex;
  flex-direction: column;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
}

.project-add-modal__header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: var(--spacing-lg);
  border-bottom: 1px solid var(--color-border);
}

.project-add-modal__title {
  font-size: var(--font-size-xl);
  font-weight: var(--font-weight-semibold);
  color: var(--color-text-primary);
  margin: 0;
}

.project-add-modal__close {
  width: 32px;
  height: 32px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: transparent;
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  color: var(--color-text-secondary);
  font-size: var(--font-size-xl);
  cursor: pointer;
  transition: all var(--transition-fast);
}

.project-add-modal__close:hover {
  background-color: var(--color-bg-tertiary);
  border-color: var(--color-border-hover);
  color: var(--color-text-primary);
}

.project-add-modal__close:focus {
  outline: none;
  box-shadow: 0 0 0 2px var(--color-accent-primary);
}

.project-add-modal__content {
  flex: 1;
  overflow-y: auto;
  padding: var(--spacing-lg);
}

.project-add-modal__section {
  margin-bottom: var(--spacing-lg);
}

.project-add-modal__section-title {
  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-medium);
  color: var(--color-text-secondary);
  text-transform: uppercase;
  letter-spacing: 0.05em;
  margin: 0 0 var(--spacing-md) 0;
}

.project-add-modal__list {
  list-style: none;
  margin: 0;
  padding: 0;
  display: flex;
  flex-direction: column;
  gap: var(--spacing-sm);
}

.project-add-modal__item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: var(--spacing-md);
  background-color: var(--color-bg-tertiary);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  cursor: pointer;
  transition: all var(--transition-fast);
}

.project-add-modal__item:hover {
  background-color: var(--color-bg-elevated);
  border-color: var(--color-accent-primary);
}

.project-add-modal__item:focus {
  outline: none;
  box-shadow: 0 0 0 2px var(--color-accent-primary);
}

.project-add-modal__item--disabled {
  opacity: 0.6;
  cursor: not-allowed;
}

.project-add-modal__item--disabled:hover {
  background-color: var(--color-bg-tertiary);
  border-color: var(--color-border);
}

.project-add-modal__item-info {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-xs);
  min-width: 0;
  flex: 1;
}

.project-add-modal__item-name {
  font-size: var(--font-size-base);
  font-weight: var(--font-weight-medium);
  color: var(--color-text-primary);
}

.project-add-modal__item-path {
  font-size: var(--font-size-sm);
  color: var(--color-text-muted);
  font-family: var(--font-family-mono);
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.project-add-modal__item-meta {
  flex-shrink: 0;
  margin-left: var(--spacing-md);
}

.project-add-modal__item-date {
  font-size: var(--font-size-sm);
  color: var(--color-text-muted);
}

.project-add-modal__item-badge {
  font-size: var(--font-size-xs);
  font-weight: var(--font-weight-medium);
  color: var(--color-accent-primary);
  background-color: rgba(var(--color-accent-success-rgb), 0.15);
  padding: var(--spacing-xs) var(--spacing-sm);
  border-radius: var(--radius-sm);
}

.project-add-modal__empty {
  padding: var(--spacing-xl);
  text-align: center;
}

.project-add-modal__empty-text {
  font-size: var(--font-size-sm);
  color: var(--color-text-muted);
}

.project-add-modal__error {
  padding: var(--spacing-md);
  background-color: rgba(var(--color-accent-error-rgb), 0.1);
  border: 1px solid var(--color-accent-error);
  border-radius: var(--radius-md);
  color: var(--color-accent-error);
  font-size: var(--font-size-sm);
  margin-top: var(--spacing-md);
}

.project-add-modal__footer {
  padding: var(--spacing-lg);
  border-top: 1px solid var(--color-border);
  display: flex;
  justify-content: center;
}

.project-add-modal__folder-button {
  padding: var(--spacing-sm) var(--spacing-xl);
  background-color: var(--color-accent-primary);
  color: var(--color-bg-primary);
  font-weight: var(--font-weight-medium);
  border: none;
  border-radius: var(--radius-md);
  cursor: pointer;
  transition: all var(--transition-fast);
}

.project-add-modal__folder-button:hover {
  background-color: var(--color-accent-success);
}

.project-add-modal__folder-button:focus {
  outline: none;
  box-shadow: 0 0 0 2px var(--color-accent-primary);
}

/* ============================================
   Command Selector Component (MCE-004)
   ============================================ */

.command-selector {
  position: absolute;
  top: 100%;
  left: 0;
  margin-top: var(--spacing-xs);
  min-width: 280px;
  max-width: 400px;
  max-height: 320px;
  background-color: var(--color-bg-elevated);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  box-shadow: var(--shadow-lg);
  overflow: hidden;
  z-index: 1000;
}

.command-selector__header {
  padding: var(--spacing-sm) var(--spacing-md);
  font-size: var(--font-size-xs);
  font-weight: 600;
  color: var(--color-text-muted);
  text-transform: uppercase;
  letter-spacing: 0.05em;
  background-color: var(--color-bg-tertiary);
  border-bottom: 1px solid var(--color-border);
}

.command-selector__list {
  max-height: 260px;
  overflow-y: auto;
  scrollbar-width: thin;
  scrollbar-color: var(--color-border) transparent;
}

.command-selector__list::-webkit-scrollbar {
  width: 6px;
}

.command-selector__list::-webkit-scrollbar-track {
  background: transparent;
}

.command-selector__list::-webkit-scrollbar-thumb {
  background-color: var(--color-border);
  border-radius: 3px;
}

.command-selector__item {
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  gap: 2px;
  width: 100%;
  padding: var(--spacing-sm) var(--spacing-md);
  background-color: transparent;
  border: none;
  border-bottom: 1px solid var(--color-border);
  text-align: left;
  cursor: pointer;
  transition: background-color var(--transition-fast);
}

.command-selector__item:last-child {
  border-bottom: none;
}

.command-selector__item:hover,
.command-selector__item--focused {
  background-color: var(--color-bg-primary);
}

.command-selector__item:focus {
  outline: none;
  background-color: var(--color-bg-primary);
}

.command-selector__name {
  font-size: var(--font-size-sm);
  font-weight: 500;
  color: var(--color-text-primary);
}

.command-selector__description {
  font-size: var(--font-size-xs);
  color: var(--color-text-muted);
  line-height: 1.4;
}

.command-selector__empty {
  padding: var(--spacing-lg) var(--spacing-md);
  text-align: center;
  font-size: var(--font-size-sm);
  color: var(--color-text-muted);
}

/* ============================================
   Status Indicators (MCE-003)
   ============================================ */

.status-indicator {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 16px;
  height: 16px;
  flex-shrink: 0;
}

/* Spinner for running/starting status */
.status-indicator--spinner {
  width: 14px;
  height: 14px;
}

.status-indicator__spinner {
  display: block;
  width: 14px;
  height: 14px;
  border: 2px solid var(--color-border);
  border-top-color: var(--color-accent-primary);
  border-radius: 50%;
  animation: status-spin 0.8s linear infinite;
}

@keyframes status-spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

/* Badge for waiting_input status */
.status-indicator--badge {
  position: relative;
  width: auto;
  min-width: 16px;
}

.status-indicator__badge {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-width: 16px;
  height: 16px;
  padding: 0 4px;
  background-color: var(--color-accent-warning);
  color: var(--color-bg-primary);
  font-size: 10px;
  font-weight: 600;
  border-radius: 8px;
  line-height: 1;
}

/* Completed status icon */
.status-indicator--completed {
  color: var(--color-accent-primary);
}

/* Failed status icon */
.status-indicator--failed {
  color: var(--color-accent-error);
}

/* Cancelled status icon */
.status-indicator--cancelled {
  color: var(--color-text-muted);
}

.status-indicator__icon {
  width: 14px;
  height: 14px;
}

/* ============================================
   Background Notifications (MCE-006)
   ============================================ */

/* Notification badge - positioned in top-right corner of tab */
.notification-badge {
  position: absolute;
  top: -4px;
  right: -4px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-width: 16px;
  height: 16px;
  font-size: 10px;
  font-weight: 600;
  line-height: 1;
  border-radius: 8px;
  z-index: 1;
}

/* Attention badge for pending questions - uses warning color */
.notification-badge--attention {
  padding: 0 4px;
  background-color: var(--color-accent-warning);
  color: var(--color-bg-primary);
  animation: badge-attention 1s ease-in-out infinite;
}

@keyframes badge-attention {
  0%, 100% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.1);
  }
}

/* Pulse dot for general unseen changes (completed/failed) */
.notification-badge--pulse {
  width: 8px;
  height: 8px;
  min-width: 8px;
  top: -2px;
  right: -2px;
  background-color: var(--color-accent-primary);
  animation: badge-pulse 1.5s ease-in-out infinite;
}

@keyframes badge-pulse {
  0%, 100% {
    opacity: 1;
    transform: scale(1);
  }
  50% {
    opacity: 0.6;
    transform: scale(0.9);
  }
}


/* Git Strategy Dialog (KSE-005) */
/* Styles are now inline in the component */

.git-strategy-dialog {
  background-color: var(--color-bg-secondary);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-xl);
  padding: var(--spacing-xl);
  max-width: 500px;
  width: 90%;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
}

.git-strategy-header {
  margin-bottom: var(--spacing-lg);
}

.git-strategy-title {
  font-size: var(--font-size-xl);
  font-weight: var(--font-weight-semibold);
  color: var(--color-text-primary);
  margin: 0 0 var(--spacing-sm) 0;
}

.git-strategy-subtitle {
  font-size: var(--font-size-sm);
  color: var(--color-text-secondary);
  margin: 0;
  line-height: var(--line-height-relaxed);
}

.git-strategy-options {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-md);
  margin-bottom: var(--spacing-xl);
}

.git-strategy-option {
  border: 2px solid var(--color-border);
  border-radius: var(--radius-lg);
  padding: var(--spacing-md);
  cursor: pointer;
  transition: all var(--transition-fast);
  background: transparent;
}

.git-strategy-option:hover {
  border-color: var(--color-accent-secondary);
  background: rgba(var(--color-accent-primary-rgb), 0.1);
}

.git-strategy-option.selected {
  border-color: var(--color-accent-secondary);
  background: rgba(var(--color-accent-primary-rgb), 0.15);
}

.git-strategy-option-header {
  display: flex;
  align-items: center;
  gap: var(--spacing-md);
  margin-bottom: var(--spacing-sm);
}

.git-strategy-radio {
  width: 20px;
  height: 20px;
  border: 2px solid var(--color-border);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  transition: all var(--transition-fast);
}

.git-strategy-option.selected .git-strategy-radio {
  border-color: var(--color-accent-secondary);
}

.git-strategy-option.selected .git-strategy-radio::after {
  content: '';
  width: 10px;
  height: 10px;
  background: var(--color-accent-secondary);
  border-radius: 50%;
}

.git-strategy-option-title {
  font-size: var(--font-size-base);
  font-weight: var(--font-weight-medium);
  color: var(--color-text-primary);
}

.git-strategy-badge {
  font-size: var(--font-size-xs);
  padding: 2px 8px;
  border-radius: var(--radius-sm);
  background: var(--color-accent-secondary);
  color: white;
  margin-left: auto;
}

.git-strategy-option-description {
  font-size: var(--font-size-sm);
  color: var(--color-text-secondary);
  margin: 0;
  margin-left: 32px;
  line-height: var(--line-height-relaxed);
}

.git-strategy-actions {
  display: flex;
  justify-content: flex-end;
  gap: var(--spacing-md);
}

/* ================================================================
   Project Add Modal (MPRO-002)
   ================================================================ */

.project-add-modal__overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: rgba(0, 0, 0, 0.6);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
  animation: fadeIn var(--transition-fast);
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

.project-add-modal {
  background-color: var(--color-bg-secondary);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-xl);
  max-width: 500px;
  width: 90%;
  max-height: 80vh;
  display: flex;
  flex-direction: column;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
  animation: slideUp var(--transition-fast);
}

@keyframes slideUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.project-add-modal__header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: var(--spacing-lg) var(--spacing-xl);
  border-bottom: 1px solid var(--color-border);
}

.project-add-modal__title {
  font-size: var(--font-size-xl);
  font-weight: var(--font-weight-semibold);
  color: var(--color-text-primary);
  margin: 0;
}

.project-add-modal__close {
  width: 32px;
  height: 32px;
  display: flex;
  align-items: center;
  justify-content: center;
  border: none;
  background: transparent;
  color: var(--color-text-secondary);
  font-size: 1.5rem;
  cursor: pointer;
  border-radius: var(--radius-md);
  transition: all var(--transition-fast);
}

.project-add-modal__close:hover {
  background-color: var(--color-bg-tertiary);
  color: var(--color-text-primary);
}

.project-add-modal__close:focus-visible {
  outline: 2px solid var(--color-accent-secondary);
  outline-offset: 2px;
}

.project-add-modal__content {
  flex: 1;
  overflow-y: auto;
  padding: var(--spacing-lg) var(--spacing-xl);
}

.project-add-modal__section {
  margin-bottom: var(--spacing-lg);
}

.project-add-modal__section-title {
  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-medium);
  color: var(--color-text-secondary);
  margin: 0 0 var(--spacing-md) 0;
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.project-add-modal__list {
  list-style: none;
  margin: 0;
  padding: 0;
  display: flex;
  flex-direction: column;
  gap: var(--spacing-xs);
}

.project-add-modal__item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: var(--spacing-md);
  background-color: var(--color-bg-tertiary);
  border-radius: var(--radius-md);
  cursor: pointer;
  transition: all var(--transition-fast);
}

.project-add-modal__item:hover:not(.project-add-modal__item--disabled) {
  background-color: rgba(var(--color-accent-primary-rgb), 0.1);
  border-color: var(--color-accent-secondary);
}

.project-add-modal__item:focus-visible {
  outline: 2px solid var(--color-accent-secondary);
  outline-offset: 2px;
}

.project-add-modal__item--disabled {
  opacity: 0.6;
  cursor: not-allowed;
}

.project-add-modal__item-info {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-xs);
  min-width: 0;
  flex: 1;
}

.project-add-modal__item-name {
  font-size: var(--font-size-base);
  font-weight: var(--font-weight-medium);
  color: var(--color-text-primary);
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.project-add-modal__item-path {
  font-size: var(--font-size-xs);
  color: var(--color-text-tertiary);
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.project-add-modal__item-meta {
  flex-shrink: 0;
  margin-left: var(--spacing-md);
  display: flex;
  align-items: center;
  gap: var(--spacing-xs);
}

.project-add-modal__item-date {
  font-size: var(--font-size-xs);
  color: var(--color-text-tertiary);
}

.project-add-modal__item-badge {
  font-size: var(--font-size-xs);
  font-weight: var(--font-weight-medium);
  color: var(--color-accent-secondary);
  background-color: rgba(var(--color-accent-primary-rgb), 0.15);
  padding: var(--spacing-xs) var(--spacing-sm);
  border-radius: var(--radius-sm);
}

.project-add-modal__item-remove {
  width: 24px;
  height: 24px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: transparent;
  border: none;
  border-radius: var(--radius-sm);
  color: var(--color-text-tertiary);
  font-size: var(--font-size-lg);
  cursor: pointer;
  opacity: 0;
  transition: all var(--transition-fast);
  margin-left: var(--spacing-sm);
}

.project-add-modal__item:hover .project-add-modal__item-remove {
  opacity: 1;
}

.project-add-modal__item-remove:hover {
  background-color: rgba(var(--color-accent-error-rgb), 0.15);
  color: var(--color-error);
}

.project-add-modal__item-remove:focus-visible {
  opacity: 1;
  outline: 2px solid var(--color-error);
  outline-offset: 2px;
}

.project-add-modal__empty {
  text-align: center;
  padding: var(--spacing-xl);
  color: var(--color-text-tertiary);
}

.project-add-modal__empty-text {
  font-size: var(--font-size-sm);
}

.project-add-modal__error {
  background-color: rgba(var(--color-accent-error-rgb), 0.15);
  border: 1px solid rgba(var(--color-accent-error-rgb), 0.3);
  color: var(--color-error);
  padding: var(--spacing-md);
  border-radius: var(--radius-md);
  font-size: var(--font-size-sm);
  margin-top: var(--spacing-md);
}

.project-add-modal__footer {
  padding: var(--spacing-lg) var(--spacing-xl);
  border-top: 1px solid var(--color-border);
}

.project-add-modal__folder-button {
  width: 100%;
  padding: var(--spacing-md) var(--spacing-lg);
  font-size: var(--font-size-base);
  font-weight: var(--font-weight-medium);
  color: var(--color-text-primary);
  background-color: var(--color-bg-tertiary);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  cursor: pointer;
  transition: all var(--transition-fast);
  display: flex;
  align-items: center;
  justify-content: center;
  gap: var(--spacing-sm);
}

.project-add-modal__folder-button:hover {
  background-color: var(--color-accent-secondary);
  border-color: var(--color-accent-secondary);
  color: white;
}

.project-add-modal__folder-button:focus-visible {
  outline: 2px solid var(--color-accent-secondary);
  outline-offset: 2px;
}

.project-add-modal__path-group {
  display: flex;
  gap: var(--spacing-sm);
  width: 100%;
}

.project-add-modal__path-input {
  flex: 1;
  padding: var(--spacing-md) var(--spacing-lg);
  font-size: var(--font-size-base);
  font-family: var(--font-family-mono);
  background-color: var(--color-bg-primary);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  color: var(--color-text-primary);
  transition: all var(--transition-fast);
}

.project-add-modal__path-input::placeholder {
  color: var(--color-text-tertiary);
}

.project-add-modal__path-input:focus {
  outline: none;
  border-color: var(--color-accent-secondary);
  box-shadow: 0 0 0 2px rgba(var(--color-accent-primary-rgb), 0.2);
}

.project-add-modal__path-input:disabled {
  opacity: 0.6;
  cursor: not-allowed;
}

.project-add-modal__open-button {
  padding: var(--spacing-md) var(--spacing-xl);
  font-size: var(--font-size-base);
  font-weight: var(--font-weight-medium);
  background-color: var(--color-accent-primary);
  border: 1px solid var(--color-accent-primary);
  border-radius: var(--radius-md);
  color: white;
  cursor: pointer;
  transition: all var(--transition-fast);
  white-space: nowrap;
}

.project-add-modal__open-button:hover:not(:disabled) {
  background-color: var(--color-accent-success);
  border-color: var(--color-accent-success);
}

.project-add-modal__open-button:focus-visible {
  outline: 2px solid var(--color-accent-primary);
  outline-offset: 2px;
}

.project-add-modal__open-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

/* ================================================================
   Installation Wizard Modal
   ================================================================ */

.installation-wizard__overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: rgba(0, 0, 0, 0.6);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
  animation: fadeIn var(--transition-fast);
}

.installation-wizard {
  background-color: var(--color-bg-secondary);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-xl);
  max-width: 900px;
  width: 90%;
  max-height: 90vh;
  display: flex;
  flex-direction: column;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
  animation: slideUp var(--transition-fast);
}

.installation-wizard__header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: var(--spacing-lg) var(--spacing-xl);
  border-bottom: 1px solid var(--color-border);
}

.installation-wizard__title {
  font-size: var(--font-size-xl);
  font-weight: var(--font-weight-semibold);
  color: var(--color-text-primary);
  margin: 0;
}

.installation-wizard__close {
  width: 32px;
  height: 32px;
  display: flex;
  align-items: center;
  justify-content: center;
  border: none;
  background: transparent;
  color: var(--color-text-secondary);
  font-size: 1.5rem;
  cursor: pointer;
  border-radius: var(--radius-md);
  transition: all var(--transition-fast);
}

.installation-wizard__close:hover {
  background-color: var(--color-bg-tertiary);
  color: var(--color-text-primary);
}

.installation-wizard__close:focus-visible {
  outline: 2px solid var(--color-accent-secondary);
  outline-offset: 2px;
}

/* Step indicator */

.installation-wizard__steps {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: var(--spacing-sm);
  padding: var(--spacing-md) var(--spacing-xl);
  border-bottom: 1px solid var(--color-border);
}

.installation-wizard__step-indicator {
  display: flex;
  align-items: center;
  gap: var(--spacing-xs);
  color: var(--color-text-muted);
  font-size: var(--font-size-sm);
}

.installation-wizard__step-indicator--active {
  color: var(--color-accent-primary);
}

.installation-wizard__step-indicator--completed {
  color: var(--color-accent-success);
}

.installation-wizard__step-number {
  width: 24px;
  height: 24px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: var(--radius-full);
  border: 2px solid currentColor;
  font-size: var(--font-size-xs);
  font-weight: var(--font-weight-semibold);
}

.installation-wizard__step-indicator--active .installation-wizard__step-number {
  background-color: var(--color-accent-primary);
  border-color: var(--color-accent-primary);
  color: var(--color-bg-primary);
}

.installation-wizard__step-indicator--completed .installation-wizard__step-number {
  background-color: var(--color-accent-success);
  border-color: var(--color-accent-success);
  color: var(--color-bg-primary);
}

.installation-wizard__step-label {
  font-weight: var(--font-weight-medium);
}

.installation-wizard__step-divider {
  width: 32px;
  height: 2px;
  background-color: var(--color-border);
  transition: background-color var(--transition-fast);
}

.installation-wizard__step-divider--active {
  background-color: var(--color-accent-success);
}

/* Content */

.installation-wizard__content {
  flex: 1;
  overflow-y: auto;
  padding: var(--spacing-xl);
}

/* Install step */

.installation-wizard__install-step {
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
  gap: var(--spacing-md);
}

.installation-wizard__install-icon {
  font-size: 3rem;
  line-height: 1;
}

.installation-wizard__install-title {
  font-size: var(--font-size-lg);
  font-weight: var(--font-weight-semibold);
  color: var(--color-text-primary);
  margin: 0;
}

.installation-wizard__install-desc {
  color: var(--color-text-secondary);
  font-size: var(--font-size-sm);
  margin: 0;
  max-width: 400px;
  line-height: 1.5;
}

.installation-wizard__install-button {
  display: inline-flex;
  align-items: center;
  gap: var(--spacing-sm);
  padding: var(--spacing-sm) var(--spacing-xl);
  background-color: var(--color-accent-primary);
  color: var(--color-bg-primary);
  border: none;
  border-radius: var(--radius-md);
  font-size: var(--font-size-base);
  font-weight: var(--font-weight-semibold);
  cursor: pointer;
  transition: all var(--transition-fast);
}

.installation-wizard__install-button:hover:not(:disabled) {
  opacity: 0.9;
}

.installation-wizard__install-button:focus-visible {
  outline: 2px solid var(--color-accent-secondary);
  outline-offset: 2px;
}

.installation-wizard__install-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.installation-wizard__install-hint {
  color: var(--color-text-muted);
  font-size: var(--font-size-xs);
  margin: 0;
}

.installation-wizard__install-hint code {
  background-color: var(--color-bg-tertiary);
  padding: 2px 6px;
  border-radius: var(--radius-sm);
  font-size: var(--font-size-xs);
}

.installation-wizard__error {
  background-color: rgba(var(--color-accent-error-rgb), 0.1);
  border: 1px solid var(--color-accent-error);
  color: var(--color-accent-error);
  padding: var(--spacing-sm) var(--spacing-md);
  border-radius: var(--radius-md);
  font-size: var(--font-size-sm);
  width: 100%;
  text-align: left;
}

.installation-wizard__success {
  background-color: rgba(var(--color-accent-success-rgb), 0.1);
  border: 1px solid var(--color-accent-success);
  color: var(--color-accent-success);
  padding: var(--spacing-sm) var(--spacing-md);
  border-radius: var(--radius-md);
  font-size: var(--font-size-sm);
  width: 100%;
  text-align: center;
}

.installation-wizard__spinner {
  display: inline-block;
  width: 16px;
  height: 16px;
  border: 2px solid rgba(255, 255, 255, 0.3);
  border-top-color: currentColor;
  border-radius: 50%;
  animation: spin 0.6s linear infinite;
}

@keyframes spin {
  to {
    transform: rotate(360deg);
  }
}

/* Selection step */

.installation-wizard__selection-step {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-md);
}

.installation-wizard__selection-title {
  font-size: var(--font-size-lg);
  font-weight: var(--font-weight-semibold);
  color: var(--color-text-primary);
  margin: 0;
}

.installation-wizard__selection-desc {
  color: var(--color-text-secondary);
  font-size: var(--font-size-sm);
  margin: 0;
}

.installation-wizard__existing-hint {
  display: flex;
  align-items: flex-start;
  gap: var(--spacing-sm);
  background-color: rgba(var(--color-accent-warning-rgb), 0.1);
  border: 1px solid rgba(var(--color-accent-warning-rgb), 0.3);
  padding: var(--spacing-sm) var(--spacing-md);
  border-radius: var(--radius-md);
  font-size: var(--font-size-sm);
  color: var(--color-text-secondary);
  line-height: 1.5;
}

.installation-wizard__existing-hint-icon {
  flex-shrink: 0;
  line-height: 1.5;
}

/* Command cards */

.installation-wizard__commands {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-sm);
}

.installation-wizard__command-card {
  display: flex;
  align-items: center;
  gap: var(--spacing-md);
  padding: var(--spacing-md);
  background-color: var(--color-bg-tertiary);
  border: 1px solid transparent;
  border-radius: var(--radius-md);
  cursor: pointer;
  transition: all var(--transition-fast);
}

.installation-wizard__command-card:hover {
  background-color: rgba(var(--color-accent-primary-rgb), 0.1);
  border-color: var(--color-accent-secondary);
}

.installation-wizard__command-card:focus-visible {
  outline: 2px solid var(--color-accent-secondary);
  outline-offset: 2px;
}

.installation-wizard__command-card--recommended {
  border-color: rgba(var(--color-accent-warning-rgb), 0.3);
}

.installation-wizard__command-card--recommended:hover {
  border-color: var(--color-accent-warning);
}

.installation-wizard__command-icon {
  font-size: 1.5rem;
  line-height: 1;
  flex-shrink: 0;
  width: 40px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: var(--color-bg-elevated);
  border-radius: var(--radius-md);
}

.installation-wizard__command-info {
  display: flex;
  flex-direction: column;
  gap: 2px;
  flex: 1;
  min-width: 0;
}

.installation-wizard__command-title {
  font-size: var(--font-size-base);
  font-weight: var(--font-weight-semibold);
  color: var(--color-text-primary);
}

.installation-wizard__command-desc {
  font-size: var(--font-size-sm);
  color: var(--color-text-secondary);
}

.installation-wizard__command-badge {
  font-size: var(--font-size-xs);
  font-weight: var(--font-weight-medium);
  color: var(--color-accent-warning);
  background-color: rgba(var(--color-accent-warning-rgb), 0.15);
  padding: 2px 8px;
  border-radius: var(--radius-full);
  flex-shrink: 0;
}

/* Footer */

.installation-wizard__footer {
  display: flex;
  align-items: center;
  justify-content: flex-end;
  gap: var(--spacing-sm);
  padding: var(--spacing-md) var(--spacing-xl);
  border-top: 1px solid var(--color-border);
}

.installation-wizard__cancel-button {
  padding: var(--spacing-xs) var(--spacing-lg);
  background: transparent;
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  color: var(--color-text-secondary);
  font-size: var(--font-size-sm);
  cursor: pointer;
  transition: all var(--transition-fast);
}

.installation-wizard__cancel-button:hover {
  background-color: var(--color-bg-tertiary);
  color: var(--color-text-primary);
}

.installation-wizard__cancel-button:focus-visible {
  outline: 2px solid var(--color-accent-secondary);
  outline-offset: 2px;
}

.installation-wizard__skip-button {
  padding: var(--spacing-xs) var(--spacing-lg);
  background: transparent;
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  color: var(--color-text-muted);
  font-size: var(--font-size-sm);
  cursor: pointer;
  transition: all var(--transition-fast);
}

.installation-wizard__skip-button:hover {
  background-color: var(--color-bg-tertiary);
  color: var(--color-text-secondary);
}

.installation-wizard__skip-button:focus-visible {
  outline: 2px solid var(--color-accent-secondary);
  outline-offset: 2px;
}

/* Cancel Confirmation Overlay */

.installation-wizard__cancel-overlay {
  position: absolute;
  inset: 0;
  background-color: rgba(0, 0, 0, 0.6);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 10;
  border-radius: inherit;
}

.installation-wizard__cancel-confirm {
  background-color: var(--color-bg-secondary);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-lg);
  padding: var(--spacing-xl);
  max-width: 400px;
  text-align: center;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.installation-wizard__cancel-icon {
  color: var(--color-accent-warning);
  margin-bottom: var(--spacing-md);
}

.installation-wizard__cancel-title {
  font-size: var(--font-size-lg);
  font-weight: var(--font-weight-semibold);
  color: var(--color-text-primary);
  margin-bottom: var(--spacing-sm);
}

.installation-wizard__cancel-message {
  font-size: var(--font-size-sm);
  color: var(--color-text-secondary);
  margin-bottom: var(--spacing-xs);
  line-height: var(--line-height-relaxed);
}

.installation-wizard__cancel-hint {
  font-size: var(--font-size-xs);
  color: var(--color-text-muted);
  margin-bottom: var(--spacing-lg);
}

.installation-wizard__cancel-actions {
  display: flex;
  gap: var(--spacing-md);
  justify-content: center;
}

.installation-wizard__cancel-stay,
.installation-wizard__cancel-leave {
  padding: var(--spacing-sm) var(--spacing-lg);
  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-medium);
  border-radius: var(--radius-md);
  cursor: pointer;
  transition: all var(--transition-fast);
  border: 1px solid transparent;
}

.installation-wizard__cancel-stay {
  background-color: var(--color-bg-primary);
  color: var(--color-text-secondary);
  border-color: var(--color-border);
}

.installation-wizard__cancel-stay:hover {
  background-color: var(--color-bg-elevated);
  color: var(--color-text-primary);
}

.installation-wizard__cancel-leave {
  background-color: var(--color-accent-error);
  color: white;
}

.installation-wizard__cancel-leave:hover {
  filter: brightness(1.1);
}

/* Terminal step (IW-003) */

.installation-wizard__content--terminal {
  padding: 0;
  display: flex;
  flex-direction: column;
  min-height: 400px;
}

.installation-wizard__terminal-step {
  display: flex;
  flex-direction: column;
  flex: 1;
  min-height: 0;
}

.installation-wizard__terminal-header {
  display: flex;
  align-items: center;
  gap: var(--spacing-sm);
  padding: var(--spacing-sm) var(--spacing-xl);
  border-bottom: 1px solid var(--color-border);
  color: var(--color-text-secondary);
  font-size: var(--font-size-sm);
}

.installation-wizard__terminal-title {
  font-weight: var(--font-weight-medium);
  color: var(--color-text-primary);
}

.installation-wizard__terminal-cmd {
  background-color: var(--color-bg-tertiary);
  padding: 2px 8px;
  border-radius: var(--radius-sm);
  font-size: var(--font-size-xs);
  color: var(--color-text-muted);
  margin-left: auto;
  max-width: 250px;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.installation-wizard__terminal-container {
  flex: 1;
  min-height: 300px;
  position: relative;
  overflow: hidden;
  background-color: var(--color-bg-primary);
  display: flex;
  flex-direction: column;
}

.installation-wizard__terminal-container aos-terminal-session {
  flex: 1;
  min-height: 0;
}

.installation-wizard__terminal-actions {
  display: flex;
  justify-content: center;
  padding: var(--spacing-sm) var(--spacing-xl);
}

/* ================================================================
   Settings View
   ================================================================ */

.settings-container {
  display: flex;
  gap: var(--spacing-xl);
  min-height: calc(100vh - var(--header-height) - var(--spacing-2xl) * 2);
}

.settings-nav {
  width: 200px;
  flex-shrink: 0;
}

.settings-nav-list {
  list-style: none;
  padding: 0;
  margin: 0;
}

.settings-nav-item {
  width: 100%;
  padding: var(--spacing-sm) var(--spacing-md);
  background: none;
  border: none;
  border-radius: var(--radius-md);
  color: var(--color-text-secondary);
  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-medium);
  text-align: left;
  cursor: pointer;
  transition: all var(--transition-fast);
  margin-bottom: var(--spacing-xs);
}

.settings-nav-item:hover:not(:disabled) {
  background-color: var(--color-bg-tertiary);
  color: var(--color-text-primary);
}

.settings-nav-item.active {
  background-color: var(--color-accent-primary);
  color: var(--color-bg-primary);
}

.settings-nav-item:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.settings-content {
  flex: 1;
  min-width: 0;
}

.models-section {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-lg);
}

.section-header {
  margin-bottom: var(--spacing-md);
}

.section-header h3 {
  font-size: var(--font-size-xl);
  font-weight: var(--font-weight-semibold);
  color: var(--color-text-primary);
  margin: 0 0 var(--spacing-xs) 0;
}

.section-description {
  color: var(--color-text-secondary);
  font-size: var(--font-size-sm);
  margin: 0;
}

.provider-card {
  background-color: var(--color-bg-secondary);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-lg);
  padding: var(--spacing-lg);
}

.provider-card.default-provider {
  border-color: var(--color-accent-primary);
}

.provider-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: var(--spacing-md);
}

.provider-title {
  display: flex;
  align-items: center;
  gap: var(--spacing-sm);
}

.provider-title h4 {
  font-size: var(--font-size-lg);
  font-weight: var(--font-weight-semibold);
  color: var(--color-text-primary);
  margin: 0;
}

.default-badge {
  font-size: var(--font-size-xs);
  font-weight: var(--font-weight-semibold);
  padding: var(--spacing-xs) var(--spacing-sm);
  background-color: rgba(var(--color-accent-success-rgb), 0.15);
  color: var(--color-accent-primary);
  border-radius: var(--radius-sm);
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.edit-btn,
.add-model-btn,
.edit-model-btn,
.remove-model-btn,
.set-default-btn {
  padding: var(--spacing-xs) var(--spacing-md);
  background-color: var(--color-bg-tertiary);
  color: var(--color-text-secondary);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  font-size: var(--font-size-sm);
  cursor: pointer;
  transition: all var(--transition-fast);
}

.edit-btn:hover:not(:disabled),
.add-model-btn:hover:not(:disabled),
.edit-model-btn:hover:not(:disabled),
.set-default-btn:hover:not(:disabled) {
  background-color: var(--color-bg-elevated);
  color: var(--color-text-primary);
  border-color: var(--color-border-hover);
}

.remove-model-btn:hover:not(:disabled) {
  background-color: rgba(var(--color-accent-error-rgb), 0.15);
  color: var(--color-accent-error);
  border-color: var(--color-accent-error);
}

.edit-btn:disabled,
.add-model-btn:disabled,
.edit-model-btn:disabled,
.remove-model-btn:disabled,
.set-default-btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.provider-info {
  background-color: var(--color-bg-primary);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  padding: var(--spacing-md);
  margin-bottom: var(--spacing-md);
}

.info-row {
  display: flex;
  align-items: center;
  gap: var(--spacing-sm);
  margin-bottom: var(--spacing-sm);
}

.info-row:last-child {
  margin-bottom: 0;
}

.info-label {
  font-size: var(--font-size-sm);
  color: var(--color-text-muted);
  min-width: 100px;
}

/* ================================================================
   Provider Management Styles
   ================================================================ */

.section-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: var(--spacing-md);
}

.add-provider-btn {
  padding: var(--spacing-sm) var(--spacing-md);
  background-color: var(--color-accent-primary);
  color: var(--color-bg-primary);
  border: none;
  border-radius: var(--radius-md);
  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-medium);
  cursor: pointer;
  transition: all var(--transition-fast);
  white-space: nowrap;
}

.add-provider-btn:hover:not(:disabled) {
  background-color: var(--color-accent-success);
}

.add-provider-btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

/* New Provider Form */
.new-provider-form {
  border: 2px dashed var(--color-border);
  background-color: rgba(var(--color-accent-success-rgb), 0.05);
}

.new-provider-form .form-fields {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-md);
}

.form-error {
  color: var(--color-accent-error);
  font-size: var(--font-size-xs);
  margin-top: var(--spacing-xs);
}

.required {
  color: var(--color-accent-error);
}

/* Provider Actions */
.provider-actions {
  display: flex;
  gap: var(--spacing-sm);
}

.remove-provider-btn {
  padding: var(--spacing-xs) var(--spacing-md);
  background-color: var(--color-bg-tertiary);
  color: var(--color-text-secondary);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  font-size: var(--font-size-sm);
  cursor: pointer;
  transition: all var(--transition-fast);
}

.remove-provider-btn:hover:not(:disabled) {
  background-color: rgba(var(--color-accent-error-rgb), 0.15);
  color: var(--color-accent-error);
  border-color: var(--color-accent-error);
}

.remove-provider-btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.info-value {
  font-family: var(--font-family-mono);
  font-size: var(--font-size-sm);
  background-color: var(--color-bg-tertiary);
  padding: var(--spacing-xs) var(--spacing-sm);
  border-radius: var(--radius-sm);
  color: var(--color-text-primary);
}

.provider-edit-form,
.model-edit-form {
  background-color: var(--color-bg-primary);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  padding: var(--spacing-md);
  margin-bottom: var(--spacing-md);
}

.form-field {
  margin-bottom: var(--spacing-md);
}

.form-field:last-child {
  margin-bottom: 0;
}

.form-field label {
  display: block;
  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-medium);
  color: var(--color-text-secondary);
  margin-bottom: var(--spacing-xs);
}

.form-field input {
  width: 100%;
  padding: var(--spacing-sm) var(--spacing-md);
  background-color: var(--color-bg-secondary);
  color: var(--color-text-primary);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  font-family: var(--font-family-mono);
  font-size: var(--font-size-sm);
  transition: border-color var(--transition-fast);
}

.form-field input:focus {
  outline: none;
  border-color: var(--color-accent-primary);
}

.form-field input:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.form-hint {
  display: block;
  font-size: var(--font-size-xs);
  color: var(--color-text-muted);
  margin-top: var(--spacing-xs);
}

.form-row {
  display: flex;
  gap: var(--spacing-md);
}

.form-row .form-field {
  flex: 1;
}

.form-actions {
  display: flex;
  justify-content: flex-end;
  gap: var(--spacing-sm);
  margin-top: var(--spacing-md);
  padding-top: var(--spacing-md);
  border-top: 1px solid var(--color-border);
}

.cancel-btn {
  padding: var(--spacing-sm) var(--spacing-md);
  background-color: var(--color-bg-tertiary);
  color: var(--color-text-secondary);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  font-size: var(--font-size-sm);
  cursor: pointer;
  transition: all var(--transition-fast);
}

.cancel-btn:hover:not(:disabled) {
  background-color: var(--color-bg-elevated);
  color: var(--color-text-primary);
}

.save-btn {
  padding: var(--spacing-sm) var(--spacing-md);
  background-color: var(--color-accent-primary);
  color: var(--color-bg-primary);
  border: none;
  border-radius: var(--radius-md);
  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-semibold);
  cursor: pointer;
  transition: all var(--transition-fast);
}

.save-btn:hover:not(:disabled) {
  background-color: var(--color-accent-success);
}

.save-btn:disabled,
.cancel-btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.models-list {
  margin-top: var(--spacing-md);
}

.models-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: var(--spacing-sm);
}

.models-header h5 {
  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-semibold);
  color: var(--color-text-secondary);
  text-transform: uppercase;
  letter-spacing: 0.05em;
  margin: 0;
}

.model-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: var(--spacing-sm) var(--spacing-md);
  background-color: var(--color-bg-primary);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  margin-bottom: var(--spacing-sm);
  transition: border-color var(--transition-fast);
}

.model-item:last-child {
  margin-bottom: 0;
}

.model-item.default-model {
  border-color: var(--color-accent-primary);
  background-color: rgba(var(--color-accent-success-rgb), 0.05);
}

.model-info {
  display: flex;
  align-items: center;
  gap: var(--spacing-sm);
  flex-wrap: wrap;
}

.model-id {
  font-family: var(--font-family-mono);
  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-semibold);
  color: var(--color-text-primary);
}

.model-name {
  font-size: var(--font-size-sm);
  color: var(--color-text-secondary);
}

.model-description {
  font-size: var(--font-size-xs);
  color: var(--color-text-muted);
}

.model-actions {
  display: flex;
  gap: var(--spacing-xs);
}

.coming-soon {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: var(--spacing-2xl);
  text-align: center;
}

.coming-soon h3 {
  font-size: var(--font-size-xl);
  font-weight: var(--font-weight-semibold);
  color: var(--color-text-primary);
  margin: 0 0 var(--spacing-sm) 0;
}

.coming-soon p {
  color: var(--color-text-muted);
  margin: 0;
}

/* Appearance Section */
.appearance-section {
  padding: var(--spacing-lg);
}

.appearance-section .section-header {
  margin-bottom: var(--spacing-xl);
}

.appearance-section .section-header h3 {
  font-size: var(--font-size-xl);
  font-weight: var(--font-weight-semibold);
  color: var(--color-text-primary);
  margin: 0 0 var(--spacing-xs) 0;
}

.appearance-section .section-description {
  color: var(--color-text-secondary);
  margin: 0;
}

.theme-options {
  display: flex;
  gap: var(--spacing-md);
}

.theme-option {
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: var(--spacing-sm);
  padding: var(--spacing-lg);
  background: var(--color-bg-secondary);
  border: 2px solid var(--color-border);
  border-radius: var(--radius-lg);
  cursor: pointer;
  transition: all var(--transition-fast);
  color: var(--color-text-primary);
  font-family: var(--font-family-sans);
}

.theme-option:hover {
  border-color: var(--color-border-hover);
  background: var(--color-bg-tertiary);
}

.theme-option.active {
  border-color: var(--color-accent-primary);
  background: rgba(var(--color-accent-primary-rgb), 0.1);
}

.theme-option-icon {
  font-size: 1.5rem;
}

.theme-option-label {
  font-size: var(--font-size-base);
  font-weight: var(--font-weight-semibold);
}

.theme-option-desc {
  font-size: var(--font-size-sm);
  color: var(--color-text-muted);
}

/* ================================================================
   Model Selector Styles (Header Dropdown)
   ================================================================ */

aos-model-selector {
  display: block;
  position: relative;
}

aos-model-selector .model-selector-button {
  display: flex;
  align-items: center;
  gap: var(--spacing-sm);
  padding: var(--spacing-sm) var(--spacing-md);
  background-color: var(--color-bg-tertiary);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  color: var(--color-text-primary);
  cursor: pointer;
  font-size: var(--font-size-sm);
  font-family: inherit;
  min-width: 140px;
  transition: all var(--transition-fast);
}

aos-model-selector .model-selector-button:hover {
  background-color: var(--color-bg-primary);
  border-color: var(--color-accent-primary);
}

aos-model-selector .model-selector-button:focus {
  outline: none;
  border-color: var(--color-accent-primary);
  box-shadow: 0 0 0 2px rgba(99, 102, 241, 0.2);
}

aos-model-selector .model-selector-button:disabled {
  opacity: 0.6;
  cursor: not-allowed;
}

aos-model-selector .model-info {
  flex: 1;
  text-align: left;
  overflow: hidden;
}

aos-model-selector .model-name {
  font-weight: var(--font-weight-medium);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

aos-model-selector .chevron {
  transition: transform var(--transition-fast);
  font-size: var(--font-size-xs);
  color: var(--color-text-muted);
}

aos-model-selector .chevron.open {
  transform: rotate(180deg);
}

aos-model-selector .model-dropdown {
  position: absolute;
  top: calc(100% + var(--spacing-xs));
  left: 0;
  min-width: 100%;
  background-color: var(--color-bg-secondary);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  box-shadow: var(--shadow-lg);
  z-index: 100;
  max-height: 300px;
  overflow-y: auto;
}

aos-model-selector .provider-group {
  padding: var(--spacing-xs) 0;
}

aos-model-selector .provider-group:not(:last-child) {
  border-bottom: 1px solid var(--color-border);
}

aos-model-selector .provider-label {
  padding: var(--spacing-xs) var(--spacing-md);
  font-size: var(--font-size-xs);
  font-weight: var(--font-weight-semibold);
  color: var(--color-text-muted);
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

aos-model-selector .model-option {
  display: flex;
  align-items: center;
  gap: var(--spacing-sm);
  padding: var(--spacing-sm) var(--spacing-md);
  cursor: pointer;
  transition: background-color var(--transition-fast);
}

aos-model-selector .model-option:hover {
  background-color: var(--color-bg-tertiary);
}

aos-model-selector .model-option.selected {
  background-color: var(--color-accent-primary);
  color: var(--color-bg-primary);
}

aos-model-selector .model-option.selected .model-name {
  color: var(--color-bg-primary);
}

/* ================================================================
   Create Spec Modal
   ================================================================ */

.create-spec-modal__overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: rgba(0, 0, 0, 0.7);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
  padding: var(--spacing-xl);
}

.create-spec-modal {
  background-color: var(--color-bg-secondary);
  border: 2px solid var(--color-accent-primary);
  border-radius: var(--radius-lg);
  width: 100%;
  max-width: 480px;
  display: flex;
  flex-direction: column;
  box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
}

.create-spec-modal__header {
  padding: var(--spacing-lg) var(--spacing-xl);
  border-bottom: 1px solid var(--color-border);
}

.create-spec-modal__title-row {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: var(--spacing-sm);
}

.create-spec-modal__title {
  font-size: var(--font-size-lg);
  font-weight: var(--font-weight-semibold);
  color: var(--color-text-primary);
  margin: 0;
}

.create-spec-modal__close-btn {
  background: transparent;
  border: none;
  color: var(--color-text-muted);
  font-size: var(--font-size-lg);
  cursor: pointer;
  padding: var(--spacing-xs);
  line-height: 1;
  transition: color var(--transition-fast);
}

.create-spec-modal__close-btn:hover {
  color: var(--color-text-primary);
}

.create-spec-modal__back-btn {
  padding: var(--spacing-sm) var(--spacing-md);
  background-color: transparent;
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  color: var(--color-text-muted);
  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-medium);
  cursor: pointer;
  transition: background-color var(--transition-fast), color var(--transition-fast), border-color var(--transition-fast);
  margin-right: auto;
}

.create-spec-modal__back-btn:hover {
  background-color: var(--color-bg-tertiary);
  color: var(--color-text-primary);
  border-color: var(--color-border-hover);
}

.create-spec-modal__command {
  font-family: var(--font-family-mono);
  font-size: var(--font-size-lg);
  font-weight: var(--font-weight-semibold);
  color: var(--color-accent-primary);
}

.create-spec-modal__icons {
  display: flex;
  align-items: center;
  gap: var(--spacing-sm);
}

.create-spec-modal__settings-icon {
  width: 28px;
  height: 28px;
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: var(--color-bg-primary);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-sm);
  color: var(--color-text-muted);
  font-size: var(--font-size-base);
}

.create-spec-modal__play-icon {
  color: var(--color-accent-primary);
  font-size: var(--font-size-base);
}

.create-spec-modal__description {
  font-size: var(--font-size-sm);
  color: var(--color-text-secondary);
  line-height: var(--line-height-relaxed);
  margin: 0;
}

.create-spec-modal__content {
  padding: var(--spacing-lg) var(--spacing-xl);
}

.create-spec-modal__textarea {
  width: 100%;
  min-height: 100px;
  padding: var(--spacing-md);
  background-color: var(--color-bg-primary);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  color: var(--color-text-primary);
  font-family: var(--font-family-base);
  font-size: var(--font-size-base);
  line-height: var(--line-height-normal);
  resize: vertical;
  transition: border-color var(--transition-fast);
  box-sizing: border-box;
}

.create-spec-modal__textarea::placeholder {
  color: var(--color-text-muted);
}

.create-spec-modal__textarea:focus {
  outline: none;
  border-color: var(--color-accent-primary);
  box-shadow: 0 0 0 2px rgba(var(--color-accent-success-rgb), 0.2);
}

.create-spec-modal__footer {
  display: flex;
  align-items: center;
  justify-content: flex-end;
  gap: var(--spacing-md);
  padding: var(--spacing-lg) var(--spacing-xl);
  border-top: 1px solid var(--color-border);
}

.create-spec-modal__cancel-btn {
  padding: var(--spacing-sm) var(--spacing-lg);
  background-color: transparent;
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  color: var(--color-text-secondary);
  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-medium);
  cursor: pointer;
  transition: all var(--transition-fast);
}

.create-spec-modal__cancel-btn:hover {
  background-color: var(--color-bg-tertiary);
  color: var(--color-text-primary);
  border-color: var(--color-border-hover);
}

.create-spec-modal__start-btn {
  padding: var(--spacing-sm) var(--spacing-xl);
  background-color: var(--color-accent-primary);
  border: 1px solid var(--color-accent-primary);
  border-radius: var(--radius-md);
  color: var(--color-bg-primary);
  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-semibold);
  cursor: pointer;
  transition: all var(--transition-fast);
}

.create-spec-modal__start-btn:hover {
  background-color: var(--color-accent-success);
  border-color: var(--color-accent-success);
}

.create-spec-modal__start-btn:focus-visible {
  outline: 2px solid var(--color-accent-primary);
  outline-offset: 2px;
}

/* Model Selection in Create Spec Modal (LLM-003) */
.create-spec-modal__model-select {
  margin-top: var(--spacing-md);
  display: flex;
  flex-direction: column;
  gap: var(--spacing-xs);
}

.create-spec-modal__model-label {
  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-medium);
  color: var(--color-text-secondary);
}

.create-spec-modal__model-select aos-model-selector {
  width: 100%;
}

/* ====================================================================
   Quick-To-Do Modal Component (QTD-001)
   ==================================================================== */

.quick-todo-modal__overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: rgba(0, 0, 0, 0.6);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1001;
  animation: modal-fade-in 0.2s ease-out;
}

.quick-todo-modal {
  position: relative;
  background-color: var(--color-bg-secondary);
  border: 2px solid var(--color-accent-secondary);
  border-radius: var(--radius-lg);
  box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
  max-width: 450px;
  width: 90vw;
  max-height: 90vh;
  overflow: hidden;
  display: flex;
  flex-direction: column;
}

.quick-todo-modal__header {
  padding: var(--spacing-lg) var(--spacing-xl);
  border-bottom: 1px solid var(--color-border);
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.quick-todo-modal__title-row {
  display: flex;
  align-items: center;
  gap: var(--spacing-sm);
}

.quick-todo-modal__icon {
  font-size: var(--font-size-xl);
}

.quick-todo-modal__title {
  font-size: var(--font-size-lg);
  font-weight: var(--font-weight-semibold);
  color: var(--color-text-primary);
  margin: 0;
}

.quick-todo-modal__close-btn {
  background: transparent;
  border: none;
  color: var(--color-text-muted);
  font-size: var(--font-size-xl);
  cursor: pointer;
  padding: var(--spacing-xs);
  line-height: 1;
  transition: color var(--transition-fast);
}

.quick-todo-modal__close-btn:hover {
  color: var(--color-text-primary);
}

.quick-todo-modal__content {
  padding: var(--spacing-lg) var(--spacing-xl);
  display: flex;
  flex-direction: column;
  gap: var(--spacing-md);
}

.quick-todo-modal__field {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-xs);
}

.quick-todo-modal__label {
  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-medium);
  color: var(--color-text-secondary);
}

.quick-todo-modal__required {
  color: var(--color-accent-error);
}

.quick-todo-modal__input {
  width: 100%;
  padding: var(--spacing-sm) var(--spacing-md);
  font-family: var(--font-family-sans);
  font-size: var(--font-size-base);
  color: var(--color-text-primary);
  background-color: var(--color-bg-primary);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  transition: border-color var(--transition-fast), box-shadow var(--transition-fast);
}

.quick-todo-modal__input::placeholder {
  color: var(--color-text-muted);
}

.quick-todo-modal__input:focus {
  outline: none;
  border-color: var(--color-accent-secondary);
  box-shadow: 0 0 0 2px rgba(139, 92, 246, 0.2);
}

.quick-todo-modal__textarea {
  width: 100%;
  min-height: 80px;
  padding: var(--spacing-sm) var(--spacing-md);
  font-family: var(--font-family-sans);
  font-size: var(--font-size-base);
  color: var(--color-text-primary);
  background-color: var(--color-bg-primary);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  resize: vertical;
  transition: border-color var(--transition-fast), box-shadow var(--transition-fast);
}

.quick-todo-modal__textarea::placeholder {
  color: var(--color-text-muted);
}

.quick-todo-modal__textarea:focus {
  outline: none;
  border-color: var(--color-accent-secondary);
  box-shadow: 0 0 0 2px rgba(139, 92, 246, 0.2);
}

.quick-todo-modal__select {
  width: 100%;
  padding: var(--spacing-sm) var(--spacing-md);
  font-family: var(--font-family-sans);
  font-size: var(--font-size-base);
  color: var(--color-text-primary);
  background-color: var(--color-bg-primary);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  cursor: pointer;
  transition: border-color var(--transition-fast), box-shadow var(--transition-fast);
}

.quick-todo-modal__select:focus {
  outline: none;
  border-color: var(--color-accent-secondary);
  box-shadow: 0 0 0 2px rgba(139, 92, 246, 0.2);
}

.quick-todo-modal__footer {
  display: flex;
  align-items: center;
  justify-content: flex-end;
  gap: var(--spacing-sm);
  padding: var(--spacing-md) var(--spacing-xl);
  border-top: 1px solid var(--color-border);
}

.quick-todo-modal__cancel-btn {
  padding: var(--spacing-sm) var(--spacing-lg);
  background-color: transparent;
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  font-family: var(--font-family-sans);
  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-medium);
  color: var(--color-text-secondary);
  cursor: pointer;
  transition: all var(--transition-fast);
}

.quick-todo-modal__cancel-btn:hover {
  background-color: var(--color-bg-tertiary);
  color: var(--color-text-primary);
  border-color: var(--color-border-hover);
}

.quick-todo-modal__save-btn {
  padding: var(--spacing-sm) var(--spacing-xl);
  background-color: var(--color-accent-secondary);
  border: 1px solid var(--color-accent-secondary);
  border-radius: var(--radius-md);
  font-family: var(--font-family-sans);
  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-medium);
  color: white;
  cursor: pointer;
  transition: all var(--transition-fast);
}

.quick-todo-modal__save-btn:hover:not(:disabled) {
  background-color: #7c3aed;
  border-color: #7c3aed;
}

.quick-todo-modal__save-btn:disabled {
  background-color: var(--color-bg-tertiary);
  color: var(--color-text-muted);
  border-color: var(--color-border);
  cursor: not-allowed;
  opacity: 0.6;
}

.quick-todo-modal__save-btn:focus-visible {
  outline: 2px solid var(--color-accent-secondary);
  outline-offset: 2px;
}

.quick-todo-modal__error {
  padding: var(--spacing-sm) var(--spacing-md);
  background-color: rgba(var(--color-accent-error-rgb), 0.1);
  border: 1px solid rgba(var(--color-accent-error-rgb), 0.3);
  border-radius: var(--radius-md);
  color: #ef4444;
  font-size: var(--font-size-sm);
}

/* Quick-To-Do Modal - Drag Over State */
.quick-todo-modal--drag-over {
  outline: 2px dashed var(--color-accent-primary);
  outline-offset: -4px;
}

.quick-todo-modal__image-count {
  font-size: var(--font-size-xs);
  color: var(--color-text-muted);
  font-weight: var(--font-weight-normal);
  margin-left: var(--spacing-xs);
}

.quick-todo-modal__attachment-actions {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-xs);
}

.quick-todo-modal__drop-hint {
  padding: var(--spacing-sm) var(--spacing-md);
  text-align: center;
  font-size: var(--font-size-xs);
  color: var(--color-text-muted);
  border: 1px dashed var(--color-border);
  border-radius: var(--radius-md);
  background-color: var(--color-bg-tertiary);
}

.quick-todo-modal__file-picker-btn {
  padding: var(--spacing-xs) var(--spacing-md);
  background-color: var(--color-bg-tertiary);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  font-family: var(--font-family-sans);
  font-size: var(--font-size-xs);
  color: var(--color-text-secondary);
  cursor: pointer;
  transition: all var(--transition-fast);
  align-self: flex-start;
}

.quick-todo-modal__file-picker-btn:hover:not(:disabled) {
  background-color: var(--color-bg-secondary);
  color: var(--color-text-primary);
  border-color: var(--color-border-hover);
}

.quick-todo-modal__file-picker-btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.quick-todo-modal__drop-overlay {
  position: absolute;
  inset: 0;
  background-color: rgba(var(--color-accent-success-rgb), 0.1);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 100;
  pointer-events: none;
  border-radius: var(--radius-xl);
}

.quick-todo-modal__drop-overlay-content {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: var(--spacing-lg) var(--spacing-xl);
  background-color: var(--color-bg-elevated);
  border: 2px dashed var(--color-accent-primary);
  border-radius: var(--radius-xl);
  color: var(--color-accent-primary);
  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-medium);
}

/* End Quick-To-Do Modal Styles */

/* ====================================================================
   Workflow Modal Component (CTX-003)
   ==================================================================== */

.workflow-modal__overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: rgba(0, 0, 0, 0.6);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1001;
  animation: modal-fade-in 0.2s ease-out;
}

@keyframes modal-fade-in {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

.workflow-modal {
  background-color: var(--color-bg-secondary);
  border: 2px solid var(--color-accent-primary);
  border-radius: var(--radius-lg);
  box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
  max-width: 500px;
  width: 90vw;
  max-height: 90vh;
  overflow: hidden;
  display: flex;
  flex-direction: column;
}

.workflow-modal__header {
  padding: var(--spacing-lg) var(--spacing-xl);
  border-bottom: 1px solid var(--color-border);
}

.workflow-modal__title {
  font-size: var(--font-size-lg);
  font-weight: var(--font-weight-semibold);
  color: var(--color-text-primary);
  margin: 0;
}

.workflow-modal__content {
  padding: var(--spacing-lg) var(--spacing-xl);
  overflow-y: auto;
}

.workflow-modal__close-btn {
  background: transparent;
  border: none;
  color: var(--color-text-muted);
  font-size: var(--font-size-lg);
  cursor: pointer;
  padding: var(--spacing-xs);
  line-height: 1;
  transition: color var(--transition-fast);
}

.workflow-modal__close-btn:hover {
  color: var(--color-text-primary);
}

.workflow-modal__header {
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.workflow-modal__header-left {
  display: flex;
  align-items: center;
  gap: var(--spacing-md);
}

.workflow-modal__back-btn {
  background: transparent;
  border: none;
  color: var(--color-text-muted);
  font-size: var(--font-size-lg);
  cursor: pointer;
  padding: var(--spacing-xs);
  line-height: 1;
  transition: color var(--transition-fast);
}

.workflow-modal__back-btn:hover {
  color: var(--color-accent-primary);
}
/* ====================================================================
   Confirm Dialog Component (CTX-003)
   ==================================================================== */

.confirm-dialog__overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: rgba(0, 0, 0, 0.7);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1002;
  animation: modal-fade-in 0.15s ease-out;
}

.confirm-dialog {
  background-color: var(--color-bg-secondary);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-lg);
  box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
  max-width: 400px;
  width: 90vw;
  display: flex;
  flex-direction: column;
}

.confirm-dialog__header {
  padding: var(--spacing-lg) var(--spacing-xl);
  border-bottom: 1px solid var(--color-border);
}

.confirm-dialog__title {
  font-size: var(--font-size-base);
  font-weight: var(--font-weight-semibold);
  color: var(--color-text-primary);
  margin: 0;
}

.confirm-dialog__body {
  padding: var(--spacing-lg) var(--spacing-xl);
}

.confirm-dialog__message {
  font-size: var(--font-size-sm);
  color: var(--color-text-secondary);
  line-height: var(--line-height-relaxed);
  margin: 0;
}

.confirm-dialog__footer {
  padding: var(--spacing-lg) var(--spacing-xl);
  border-top: 1px solid var(--color-border);
  display: flex;
  align-items: center;
  justify-content: flex-end;
  gap: var(--spacing-sm);
}

.confirm-dialog__cancel-btn {
  padding: var(--spacing-sm) var(--spacing-lg);
  background-color: transparent;
  border: 1px solid var(--color-border);
  color: var(--color-text-secondary);
  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-medium);
  cursor: pointer;
  transition: all var(--transition-fast);
}

.confirm-dialog__cancel-btn:hover {
  background-color: var(--color-bg-tertiary);
  color: var(--color-text-primary);
  border-color: var(--color-border-hover);
}

.confirm-dialog__destructive-btn {
  padding: var(--spacing-sm) var(--spacing-lg);
  background-color: var(--color-accent-error);
  border: 1px solid var(--color-accent-error);
  color: white;
  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-medium);
  cursor: pointer;
  transition: all var(--transition-fast);
}

.confirm-dialog__destructive-btn:hover {
  background-color: var(--color-accent-error);
  border-color: var(--color-accent-error);
}

.confirm-dialog__destructive-btn:focus-visible {
  outline: 2px solid var(--color-accent-error);
  outline-offset: 2px;
}

/* ====================================================================
   Context Menu Component
   ==================================================================== */

.context-menu {
  position: fixed;
  z-index: 1000;
  min-width: 220px;
  background-color: var(--color-bg-elevated);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-lg);
  animation: context-menu-fade-in 0.15s ease-out;
  overflow: hidden;
}

@keyframes context-menu-fade-in {
  from {
    opacity: 0;
    transform: scale(0.95);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

.context-menu__item {
  display: flex;
  align-items: center;
  gap: var(--spacing-md);
  padding: var(--spacing-sm) var(--spacing-md);
  color: var(--color-text-primary);
  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-medium);
  cursor: pointer;
  transition: background-color var(--transition-fast);
  user-select: none;
}

.context-menu__item:hover {
  background-color: var(--color-bg-tertiary);
}

.context-menu__item:focus {
  outline: 2px solid var(--color-accent-primary);
  outline-offset: -2px;
  background-color: var(--color-bg-tertiary);
}

.context-menu__icon {
  width: 20px;
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--color-text-secondary);
}

.context-menu__label {
  flex: 1;
}

/* ====================================================================
   Spec Selector Component
   ==================================================================== */

.spec-selector {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-md);
  width: 100%;
}

.spec-selector__search {
  padding: 0 var(--spacing-md);
}

.spec-selector__input {
  width: 100%;
  padding: var(--spacing-sm) var(--spacing-md);
  background-color: var(--color-bg-primary);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  color: var(--color-text-primary);
  font-size: var(--font-size-sm);
  outline: none;
  transition: border-color var(--transition-fast);
}

.spec-selector__input:focus {
  border-color: var(--color-accent-primary);
}

.spec-selector__input::placeholder {
  color: var(--color-text-tertiary);
}

.spec-selector__list {
  display: flex;
  flex-direction: column;
  max-height: 300px;
  overflow-y: auto;
}

.spec-selector__loading {
  display: flex;
  justify-content: center;
  align-items: center;
  padding: var(--spacing-xl);
}

.spec-selector__empty {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: var(--spacing-xs);
  padding: var(--spacing-xl);
  text-align: center;
}

.spec-selector__empty-title {
  color: var(--color-text-secondary);
  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-medium);
}

.spec-selector__empty-hint {
  color: var(--color-text-tertiary);
  font-size: var(--font-size-xs);
}

.spec-selector__item {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-2xs);
  padding: var(--spacing-sm) var(--spacing-md);
  cursor: pointer;
  transition: background-color var(--transition-fast);
}

.spec-selector__item:nth-child(even) {
  background-color: var(--color-bg-secondary);
}

.spec-selector__item:hover {
  background-color: var(--color-bg-tertiary);
}

.spec-selector__item--selected {
  background-color: var(--color-bg-tertiary);
  outline: 2px solid var(--color-accent-primary);
  outline-offset: -2px;
}

.spec-selector__item-name {
  color: var(--color-text-primary);
  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-medium);
}

.spec-selector__item-meta {
  display: flex;
  gap: var(--spacing-md);
  color: var(--color-text-tertiary);
  font-size: var(--font-size-xs);
}

.spec-selector__item-date {
  opacity: 0.8;
}

.spec-selector__item-count {
  opacity: 0.8;
}

/* Spec Selector Modal (CTX-004) */

.spec-selector__overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: rgba(0, 0, 0, 0.6);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1001;
  animation: modal-fade-in 0.2s ease-out;
}

/* When spec-selector is inside workflow-modal or create-spec-modal, don't use overlay */
.workflow-modal__content > aos-spec-selector .spec-selector__overlay,
.workflow-modal__content > .spec-selector__overlay,
.create-spec-modal__content > aos-spec-selector .spec-selector__overlay,
.create-spec-modal__content > .spec-selector__overlay {
  position: static;
  background-color: transparent;
  z-index: auto;
  animation: none;
}

.workflow-modal__content > aos-spec-selector .spec-selector,
.workflow-modal__content > .spec-selector,
.create-spec-modal__content > aos-spec-selector .spec-selector,
.create-spec-modal__content > .spec-selector {
  width: 100%;
  height: 100%;
  max-width: none;
  max-height: none;
  border: none;
  box-shadow: none;
  overflow: visible;
}

.spec-selector {
  background-color: var(--color-bg-secondary);
  border: 2px solid var(--color-accent-primary);
  border-radius: var(--radius-lg);
  box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
  max-width: 600px;
  width: 90vw;
  max-height: 85vh;
  overflow: hidden;
  display: flex;
  flex-direction: column;
}

.spec-selector__header {
  padding: var(--spacing-lg) var(--spacing-xl);
  border-bottom: 1px solid var(--color-border);
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: var(--spacing-md);
}

.spec-selector__title {
  font-size: var(--font-size-lg);
  font-weight: var(--font-weight-semibold);
  color: var(--color-text-primary);
  margin: 0;
}

.spec-selector__close-btn {
  background: transparent;
  border: none;
  color: var(--color-text-muted);
  font-size: var(--font-size-lg);
  cursor: pointer;
  padding: var(--spacing-xs);
  line-height: 1;
  transition: color var(--transition-fast);
}

.spec-selector__close-btn:hover {
  color: var(--color-text-primary);
}

.spec-selector__search {
  padding: var(--spacing-md) var(--spacing-xl);
  border-bottom: 1px solid var(--color-border);
}

.spec-selector__search-input {
  width: 100%;
  padding: var(--spacing-sm) var(--spacing-md);
  background-color: var(--color-bg-primary);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  color: var(--color-text-primary);
  font-size: var(--font-size-sm);
  outline: none;
  transition: border-color var(--transition-fast);
}

.spec-selector__search-input:focus {
  border-color: var(--color-accent-primary);
}

.spec-selector__search-input::placeholder {
  color: var(--color-text-tertiary);
}

.spec-selector__content {
  padding: 0;
  overflow-y: auto;
  max-height: calc(85vh - 140px);
}

.spec-selector__loading {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: var(--spacing-sm);
  padding: var(--spacing-xl);
  color: var(--color-text-secondary);
}

.spec-selector__spinner {
  width: 24px;
  height: 24px;
  border: 2px solid var(--color-border);
  border-top-color: var(--color-accent-primary);
  border-radius: 50%;
  animation: spin 1s linear infinite;
}

@keyframes spin {
  to {
    transform: rotate(360deg);
  }
}

.spec-selector__empty {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: var(--spacing-xs);
  padding: var(--spacing-xl);
  text-align: center;
}

.spec-selector__empty-text {
  color: var(--color-text-secondary);
  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-medium);
  margin: 0;
}

.spec-selector__empty-hint {
  color: var(--color-text-tertiary);
  font-size: var(--font-size-xs);
  margin: 0;
}

.spec-selector__list {
  display: flex;
  flex-direction: column;
}

.spec-selector__item {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-2xs);
  padding: var(--spacing-md) var(--spacing-xl);
  cursor: pointer;
  transition: background-color var(--transition-fast);
  border-bottom: 1px solid var(--color-border);
}

.spec-selector__item:last-child {
  border-bottom: none;
}

.spec-selector__item:hover {
  background-color: var(--color-bg-tertiary);
}

.spec-selector__item:focus {
  outline: 2px solid var(--color-accent-primary);
  outline-offset: -2px;
}

.spec-selector__item-main {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: var(--spacing-sm);
}

.spec-selector__item-name {
  color: var(--color-text-primary);
  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-medium);
}

.spec-selector__item-id {
  color: var(--color-text-tertiary);
  font-size: var(--font-size-xs);
  font-family: var(--font-family-mono);
}

.spec-selector__item-meta {
  display: flex;
  align-items: center;
  gap: var(--spacing-md);
  color: var(--color-text-tertiary);
  font-size: var(--font-size-xs);
}

.spec-selector__item-progress {
  font-weight: var(--font-weight-medium);
  color: var(--color-accent-primary);
}

.spec-selector__item-stories {
  opacity: 0.8;
}

.spec-selector__delete-btn {
  background: transparent;
  border: none;
  color: var(--color-text-muted);
  cursor: pointer;
  padding: var(--spacing-xs) var(--spacing-sm);
  border-radius: var(--radius-sm);
  font-size: var(--font-size-base);
  transition: color var(--transition-fast), background-color var(--transition-fast);
  opacity: 0.6;
}

.spec-selector__item:hover .spec-selector__delete-btn {
  opacity: 1;
}

.spec-selector__delete-btn:hover {
  color: var(--color-accent-error);
  background-color: var(--color-bg-tertiary);
}

.spec-selector__delete-btn:active {
  transform: scale(0.95);
}

/* Focus styles for accessibility */
.spec-selector__delete-btn:focus {
  opacity: 1;
  outline: 2px solid var(--color-accent-secondary);
  outline-offset: 2px;
}

/* ============================================
   Git Status Bar Component (GIT-002)
   ============================================ */

.git-status-bar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: var(--spacing-xs) var(--spacing-md);
  background-color: var(--color-bg-secondary);
  border-bottom: 1px solid var(--color-border);
  min-height: 36px;
  font-size: var(--font-size-sm);
  color: var(--color-text-secondary);
}

.git-status-bar--no-repo {
  justify-content: center;
  color: var(--color-text-muted);
  font-style: italic;
}

.git-status-bar--loading {
  justify-content: flex-start;
  color: var(--color-text-muted);
}

.git-status-bar__left {
  display: flex;
  align-items: center;
  gap: var(--spacing-md);
  flex: 1;
  min-width: 0;
}

.git-status-bar__info-text {
  color: var(--color-text-muted);
  font-size: var(--font-size-sm);
}

.git-status-bar__loading-text {
  color: var(--color-text-muted);
  font-size: var(--font-size-sm);
}

.git-status-bar__branch {
  display: flex;
  align-items: center;
  gap: var(--spacing-xs);
  color: var(--color-accent-primary);
  font-weight: var(--font-weight-medium);
  font-family: var(--font-family-mono);
  font-size: var(--font-size-sm);
  white-space: nowrap;
}

.git-status-bar__icon {
  width: 14px;
  height: 14px;
  flex-shrink: 0;
}

.git-status-bar__icon--spin {
  animation: git-status-spin 1s linear infinite;
}

@keyframes git-status-spin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

.git-status-bar__counter {
  display: flex;
  align-items: center;
  gap: 2px;
  font-family: var(--font-family-mono);
  font-size: var(--font-size-xs);
  white-space: nowrap;
}

.git-status-bar__counter--ahead {
  color: var(--color-accent-primary);
}

.git-status-bar__counter--behind {
  color: var(--color-accent-warning);
}

.git-status-bar__counter--changed {
  color: var(--color-accent-secondary);
}

.git-status-bar__actions {
  display: flex;
  align-items: center;
  gap: var(--spacing-xs);
  flex-shrink: 0;
}

.git-status-bar__btn {
  display: flex;
  align-items: center;
  gap: 4px;
  padding: 2px 8px;
  background: transparent;
  border: 1px solid var(--color-border);
  border-radius: var(--radius-sm);
  color: var(--color-text-secondary);
  font-family: var(--font-family-sans);
  font-size: var(--font-size-xs);
  cursor: pointer;
  transition: all var(--transition-fast);
  white-space: nowrap;
}

.git-status-bar__btn:hover:not(:disabled) {
  background: var(--color-bg-tertiary);
  border-color: var(--color-border-hover);
  color: var(--color-text-primary);
}

.git-status-bar__btn:disabled {
  opacity: 0.4;
  cursor: not-allowed;
}

.git-status-bar__btn--refresh {
  padding: 2px 6px;
}

.git-status-bar__btn--refresh .git-status-bar__icon {
  width: 14px;
  height: 14px;
}

/* Commit & Push Button (GITE-004) */

.git-status-bar__btn--commit-push {
  border-color: var(--color-accent-primary);
  color: var(--color-accent-primary);
}

.git-status-bar__btn--commit-push:hover:not(:disabled) {
  background: rgba(var(--color-accent-primary-rgb, 99, 102, 241), 0.15);
  border-color: var(--color-accent-primary);
  color: var(--color-accent-primary);
}

/* Branch Dropdown (GIT-003) */

.git-status-bar__branch--clickable {
  cursor: pointer;
  border-radius: var(--radius-sm);
  padding: 2px 4px;
  transition: background-color var(--transition-fast);
  position: relative;
}

.git-status-bar__branch--clickable:hover {
  background-color: var(--color-bg-tertiary);
}

.git-status-bar__chevron {
  width: 12px;
  height: 12px;
  transition: transform var(--transition-fast);
}

.git-status-bar__chevron--open {
  transform: rotate(180deg);
}

.git-status-bar__branch-dropdown {
  position: absolute;
  top: 100%;
  left: 0;
  margin-top: 4px;
  min-width: 220px;
  max-height: 300px;
  overflow-y: auto;
  background-color: var(--color-bg-secondary);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
  z-index: 100;
  padding: var(--spacing-xs) 0;
}

.git-status-bar__branch-item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  width: 100%;
  padding: 6px 12px;
  background: none;
  border: none;
  color: var(--color-text-secondary);
  font-family: var(--font-family-mono);
  font-size: var(--font-size-sm);
  cursor: pointer;
  text-align: left;
  transition: background-color var(--transition-fast);
}

.git-status-bar__branch-item:hover:not(:disabled) {
  background-color: var(--color-bg-tertiary);
  color: var(--color-text-primary);
}

.git-status-bar__branch-item--current {
  color: var(--color-accent-primary);
  font-weight: var(--font-weight-medium);
  cursor: default;
}

.git-status-bar__branch-item:disabled {
  cursor: default;
}

.git-status-bar__branch-name {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.git-status-bar__branch-current-badge {
  font-size: var(--font-size-xs);
  color: var(--color-text-muted);
  background-color: var(--color-bg-tertiary);
  padding: 1px 6px;
  border-radius: var(--radius-sm);
  flex-shrink: 0;
  margin-left: var(--spacing-sm);
}

/* Pull Split Button (GIT-005) */

.git-status-bar__pull-group {
  display: flex;
  align-items: center;
  position: relative;
}

.git-status-bar__pull-group > .git-status-bar__btn:first-child {
  border-top-right-radius: 0;
  border-bottom-right-radius: 0;
  border-right: none;
}

.git-status-bar__btn--pull-chevron {
  padding: 2px 4px;
  border-top-left-radius: 0 !important;
  border-bottom-left-radius: 0 !important;
}

.git-status-bar__btn--pull-chevron .git-status-bar__icon {
  width: 10px;
  height: 10px;
}

.git-status-bar__pull-dropdown {
  position: absolute;
  top: 100%;
  right: 0;
  margin-top: 4px;
  background-color: var(--color-bg-elevated);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-sm);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);
  z-index: 100;
  min-width: 140px;
}

.git-status-bar__pull-option {
  display: block;
  width: 100%;
  padding: 6px 12px;
  background: transparent;
  border: none;
  color: var(--color-text-secondary);
  font-family: var(--font-family-sans);
  font-size: var(--font-size-xs);
  text-align: left;
  cursor: pointer;
  transition: background-color var(--transition-fast);
}

.git-status-bar__pull-option:hover {
  background-color: var(--color-bg-tertiary);
  color: var(--color-text-primary);
}

.git-status-bar__pr-badge {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  padding: 2px 8px;
  border-radius: 10px;
  font-size: var(--font-size-xs);
  font-weight: 600;
  text-decoration: none;
  cursor: pointer;
  transition: opacity var(--transition-fast);
  white-space: nowrap;
}

.git-status-bar__pr-badge:hover {
  opacity: 0.8;
}

.git-status-bar__pr-badge--open {
  background-color: rgba(63, 185, 80, 0.15);
  color: #3fb950;
}

.git-status-bar__pr-badge--merged {
  background-color: rgba(163, 113, 247, 0.15);
  color: #a371f7;
}

.git-status-bar__pr-badge--closed {
  background-color: rgba(248, 81, 73, 0.15);
  color: #f85149;
}

/* ============================================
   Git Commit Dialog (GIT-004)
   ============================================ */

.git-commit-dialog__overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: rgba(0, 0, 0, 0.7);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1002;
  animation: modal-fade-in 0.15s ease-out;
}

.git-commit-dialog {
  background-color: var(--color-bg-secondary);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-lg);
  box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
  max-width: 560px;
  width: 90vw;
  max-height: 80vh;
  display: flex;
  flex-direction: column;
}

.git-commit-dialog__header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: var(--spacing-lg) var(--spacing-xl);
  border-bottom: 1px solid var(--color-border);
}

.git-commit-dialog__title {
  font-size: var(--font-size-base);
  font-weight: var(--font-weight-semibold);
  color: var(--color-text-primary);
  margin: 0;
}

.git-commit-dialog__close-btn {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 28px;
  height: 28px;
  background: none;
  border: none;
  color: var(--color-text-muted);
  cursor: pointer;
  border-radius: var(--radius-sm);
  transition: all var(--transition-fast);
}

.git-commit-dialog__close-btn:hover {
  color: var(--color-text-primary);
  background-color: var(--color-bg-tertiary);
}

.git-commit-dialog__body {
  padding: var(--spacing-lg) var(--spacing-xl);
  overflow-y: auto;
  flex: 1;
}

.git-commit-dialog__label {
  display: block;
  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-medium);
  color: var(--color-text-secondary);
  margin-bottom: var(--spacing-xs);
}

.git-commit-dialog__message-section {
  margin-bottom: var(--spacing-lg);
}

.git-commit-dialog__textarea {
  width: 100%;
  padding: var(--spacing-sm) var(--spacing-md);
  background-color: var(--color-bg-primary);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  color: var(--color-text-primary);
  font-family: var(--font-family-sans);
  font-size: var(--font-size-sm);
  line-height: var(--line-height-relaxed);
  resize: vertical;
  box-sizing: border-box;
  transition: border-color var(--transition-fast);
}

.git-commit-dialog__textarea:focus {
  outline: none;
  border-color: var(--color-accent-primary);
}

.git-commit-dialog__textarea::placeholder {
  color: var(--color-text-muted);
}

.git-commit-dialog__files-section {
  margin-bottom: var(--spacing-md);
}

.git-commit-dialog__files-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: var(--spacing-xs);
}

.git-commit-dialog__select-all-btn {
  background: none;
  border: none;
  color: var(--color-accent-primary);
  font-size: var(--font-size-xs);
  cursor: pointer;
  padding: 2px 4px;
  border-radius: var(--radius-sm);
  transition: background-color var(--transition-fast);
}

.git-commit-dialog__select-all-btn:hover {
  background-color: var(--color-bg-tertiary);
}

.git-commit-dialog__file-list {
  max-height: 240px;
  overflow-y: auto;
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  background-color: var(--color-bg-primary);
}

.git-commit-dialog__empty {
  padding: var(--spacing-lg);
  text-align: center;
  color: var(--color-text-muted);
  font-size: var(--font-size-sm);
}

.git-commit-dialog__file-item {
  display: flex;
  align-items: center;
  gap: var(--spacing-sm);
  padding: 6px var(--spacing-md);
  cursor: pointer;
  transition: background-color var(--transition-fast);
  border-bottom: 1px solid var(--color-border);
}

.git-commit-dialog__file-item:last-child {
  border-bottom: none;
}

.git-commit-dialog__file-item:hover {
  background-color: var(--color-bg-tertiary);
}

.git-commit-dialog__checkbox {
  flex-shrink: 0;
  accent-color: var(--color-accent-primary);
}

.git-commit-dialog__file-path {
  flex: 1;
  font-family: var(--font-family-mono);
  font-size: var(--font-size-xs);
  color: var(--color-text-primary);
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.git-commit-dialog__file-status {
  flex-shrink: 0;
  font-size: 10px;
  font-weight: var(--font-weight-medium);
  text-transform: uppercase;
  padding: 1px 6px;
  border-radius: var(--radius-sm);
  letter-spacing: 0.5px;
}

.git-commit-dialog__file-status--modified {
  color: var(--color-accent-warning);
  background-color: rgba(245, 158, 11, 0.1);
}

.git-commit-dialog__file-status--added {
  color: var(--color-accent-success);
  background-color: rgba(16, 185, 129, 0.1);
}

.git-commit-dialog__file-status--deleted {
  color: var(--color-accent-error);
  background-color: rgba(var(--color-accent-error-rgb), 0.1);
}

.git-commit-dialog__file-status--untracked {
  color: var(--color-text-muted);
  background-color: var(--color-bg-tertiary);
}

.git-commit-dialog__file-status--renamed {
  color: var(--color-accent-primary);
  background-color: rgba(var(--color-accent-primary-rgb), 0.1);
}

.git-commit-dialog__error {
  display: flex;
  align-items: center;
  gap: var(--spacing-sm);
  padding: var(--spacing-sm) var(--spacing-md);
  background-color: rgba(var(--color-accent-error-rgb), 0.1);
  border: 1px solid rgba(var(--color-accent-error-rgb), 0.3);
  border-radius: var(--radius-md);
  color: var(--color-accent-error);
  font-size: var(--font-size-sm);
  margin-top: var(--spacing-md);
}

.git-commit-dialog__footer {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: var(--spacing-md) var(--spacing-xl);
  border-top: 1px solid var(--color-border);
}

.git-commit-dialog__hint {
  font-size: var(--font-size-xs);
  color: var(--color-text-muted);
}

.git-commit-dialog__footer-actions {
  display: flex;
  align-items: center;
  gap: var(--spacing-sm);
}

.git-commit-dialog__cancel-btn {
  padding: var(--spacing-sm) var(--spacing-lg);
  background-color: transparent;
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  color: var(--color-text-secondary);
  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-medium);
  cursor: pointer;
  transition: all var(--transition-fast);
}

.git-commit-dialog__cancel-btn:hover {
  background-color: var(--color-bg-tertiary);
  color: var(--color-text-primary);
  border-color: var(--color-border-hover);
}

.git-commit-dialog__commit-btn {
  padding: var(--spacing-sm) var(--spacing-lg);
  background-color: var(--color-accent-primary);
  border: 1px solid var(--color-accent-primary);
  border-radius: var(--radius-md);
  color: white;
  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-medium);
  cursor: pointer;
  transition: all var(--transition-fast);
}

.git-commit-dialog__commit-btn:hover:not(:disabled) {
  filter: brightness(1.1);
}

.git-commit-dialog__commit-btn:disabled {
  opacity: 0.4;
  cursor: not-allowed;
}

.git-commit-dialog__commit-btn:focus-visible {
  outline: 2px solid var(--color-accent-primary);
  outline-offset: 2px;
}

/* File action buttons (revert/delete per file) */
.git-commit-dialog__action-btn {
  flex-shrink: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 24px;
  height: 24px;
  background: none;
  border: none;
  border-radius: var(--radius-sm);
  cursor: pointer;
  opacity: 0;
  transition: all var(--transition-fast);
}

.git-commit-dialog__file-item:hover .git-commit-dialog__action-btn {
  opacity: 1;
}

.git-commit-dialog__action-btn:disabled {
  opacity: 0.4;
  cursor: not-allowed;
}

.git-commit-dialog__action-btn--revert {
  color: var(--color-accent-warning);
}

.git-commit-dialog__action-btn--revert:hover:not(:disabled) {
  background-color: rgba(245, 158, 11, 0.15);
}

.git-commit-dialog__action-btn--delete {
  color: var(--color-accent-error);
}

.git-commit-dialog__action-btn--delete:hover:not(:disabled) {
  background-color: rgba(var(--color-accent-error-rgb), 0.15);
}

/* Files header actions wrapper */
.git-commit-dialog__files-header-actions {
  display: flex;
  align-items: center;
  gap: var(--spacing-sm);
}

/* Revert all button */
.git-commit-dialog__revert-all-btn {
  background: none;
  border: none;
  color: var(--color-accent-warning);
  font-size: var(--font-size-xs);
  cursor: pointer;
  padding: 2px 4px;
  border-radius: var(--radius-sm);
  transition: background-color var(--transition-fast);
}

.git-commit-dialog__revert-all-btn:hover:not(:disabled) {
  background-color: rgba(245, 158, 11, 0.15);
}

.git-commit-dialog__revert-all-btn:disabled {
  opacity: 0.4;
  cursor: not-allowed;
}

/* ===== Setup Wizard ===== */

.setup-wizard {
  max-width: 720px;
  margin: 0 auto;
  padding: var(--spacing-xl);
}

.setup-wizard-header {
  margin-bottom: var(--spacing-xl);
}

.setup-wizard-header h2 {
  font-size: var(--font-size-2xl);
  font-weight: var(--font-weight-bold);
  color: var(--color-text-primary);
  margin: 0 0 var(--spacing-xs) 0;
}

.setup-wizard-desc {
  color: var(--color-text-secondary);
  font-size: var(--font-size-sm);
  margin: 0;
}

/* Steps container */
.setup-steps {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-sm);
}

/* Single step card */
.setup-step {
  display: flex;
  align-items: center;
  gap: var(--spacing-md);
  background-color: var(--color-bg-secondary);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-lg);
  padding: var(--spacing-md) var(--spacing-lg);
  transition: border-color var(--transition-fast);
}

.setup-step--installed {
  border-color: rgba(var(--color-accent-success-rgb), 0.3);
}

.setup-step--running {
  border-color: rgba(var(--color-accent-primary-rgb), 0.4);
  background-color: var(--color-bg-tertiary);
}

.setup-step--error {
  border-color: rgba(var(--color-accent-error-rgb), 0.4);
}

/* Status icon column */
.setup-step-status {
  flex-shrink: 0;
  width: 28px;
  height: 28px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.setup-status-icon {
  font-size: 1.1rem;
  line-height: 1;
}

.setup-status-icon--installed {
  color: var(--color-accent-primary);
}

.setup-status-icon--not-installed {
  color: var(--color-text-muted);
  font-size: 0.9rem;
}

.setup-status-icon--error {
  color: var(--color-accent-error);
}

/* Step content (name + details) */
.setup-step-content {
  flex: 1;
  min-width: 0;
}

.setup-step-name {
  font-size: var(--font-size-base);
  font-weight: var(--font-weight-semibold);
  color: var(--color-text-primary);
}

.setup-step-details {
  font-size: var(--font-size-sm);
  color: var(--color-text-muted);
  margin-top: 2px;
}

.setup-step-error {
  font-size: var(--font-size-sm);
  color: var(--color-accent-error);
  margin-top: 4px;
}

/* Step action column */
.setup-step-action {
  flex-shrink: 0;
}

.setup-step-done {
  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-medium);
  color: var(--color-accent-primary);
}

/* Buttons */
.setup-btn {
  font-family: var(--font-family-sans);
  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-medium);
  padding: var(--spacing-sm) var(--spacing-md);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  background-color: var(--color-bg-tertiary);
  color: var(--color-text-primary);
  cursor: pointer;
  transition: all var(--transition-fast);
}

.setup-btn:hover:not(:disabled) {
  border-color: var(--color-border-hover);
  background-color: var(--color-bg-elevated);
}

.setup-btn:disabled {
  opacity: 0.4;
  cursor: not-allowed;
}

.setup-btn-primary {
  background-color: var(--color-accent-primary);
  color: var(--color-bg-primary);
  border-color: var(--color-accent-primary);
  font-weight: var(--font-weight-semibold);
}

.setup-btn-primary:hover:not(:disabled) {
  background-color: var(--color-accent-success);
  border-color: var(--color-accent-success);
}

.setup-btn-retry {
  background-color: transparent;
  color: var(--color-accent-warning);
  border-color: var(--color-accent-warning);
}

.setup-btn-retry:hover:not(:disabled) {
  background-color: rgba(245, 158, 11, 0.15);
}

.setup-btn-sm {
  padding: var(--spacing-xs) var(--spacing-sm);
  font-size: var(--font-size-xs);
}

/* Spinner */
.setup-spinner {
  display: inline-block;
  width: 20px;
  height: 20px;
  border: 2px solid var(--color-border);
  border-top-color: var(--color-accent-secondary);
  border-radius: 50%;
  animation: setup-spin 0.8s linear infinite;
}

.setup-spinner--sm {
  width: 18px;
  height: 18px;
}

@keyframes setup-spin {
  to { transform: rotate(360deg); }
}

/* Loading state */
.setup-loading {
  display: flex;
  justify-content: center;
  padding: var(--spacing-2xl);
}

/* Banners */
.setup-complete-banner {
  display: flex;
  align-items: center;
  gap: var(--spacing-sm);
  padding: var(--spacing-md) var(--spacing-lg);
  background-color: rgba(var(--color-accent-success-rgb), 0.1);
  border: 1px solid rgba(var(--color-accent-success-rgb), 0.3);
  border-radius: var(--radius-lg);
  color: var(--color-accent-primary);
  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-medium);
  margin-bottom: var(--spacing-lg);
}

.setup-complete-icon {
  font-size: 1.1rem;
}

.setup-error-banner {
  display: flex;
  align-items: center;
  gap: var(--spacing-sm);
  padding: var(--spacing-md) var(--spacing-lg);
  background-color: rgba(var(--color-accent-error-rgb), 0.1);
  border: 1px solid rgba(var(--color-accent-error-rgb), 0.3);
  border-radius: var(--radius-lg);
  color: var(--color-accent-error);
  font-size: var(--font-size-sm);
  margin-bottom: var(--spacing-lg);
}

.setup-error-icon {
  font-weight: var(--font-weight-bold);
  font-size: 1.1rem;
}

/* Output terminal */
.setup-output-container {
  margin-top: var(--spacing-lg);
  background-color: var(--color-bg-primary);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-lg);
  overflow: hidden;
}

.setup-output-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: var(--spacing-sm) var(--spacing-md);
  background-color: var(--color-bg-secondary);
  border-bottom: 1px solid var(--color-border);
  font-size: var(--font-size-sm);
  color: var(--color-text-secondary);
}

.setup-output {
  margin: 0;
  padding: var(--spacing-md);
  font-family: var(--font-family-mono);
  font-size: var(--font-size-xs);
  color: var(--color-text-secondary);
  max-height: 300px;
  overflow-y: auto;
  white-space: pre-wrap;
  word-break: break-all;
}

/* DevTeam hint */
.setup-devteam-hint {
  margin-top: var(--spacing-md);
  padding: var(--spacing-md) var(--spacing-lg);
  background-color: rgba(var(--color-accent-primary-rgb), 0.1);
  border: 1px solid rgba(var(--color-accent-primary-rgb), 0.3);
  border-radius: var(--radius-lg);
  color: var(--color-accent-primary);
  font-size: var(--font-size-sm);
}

/* ============================================
   Installation Wizard Modal (IW-002)
   ============================================ */

.installation-wizard__overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: rgba(0, 0, 0, 0.6);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
}

.installation-wizard {
  background-color: var(--color-bg-secondary);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-xl);
  width: 90%;
  max-width: 900px;
  max-height: 90vh;
  display: flex;
  flex-direction: column;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
}

/* Header */
.installation-wizard__header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: var(--spacing-lg);
  border-bottom: 1px solid var(--color-border);
}

.installation-wizard__title {
  font-size: var(--font-size-xl);
  font-weight: var(--font-weight-semibold);
  color: var(--color-text-primary);
  margin: 0;
}

.installation-wizard__close {
  width: 32px;
  height: 32px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: transparent;
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  color: var(--color-text-secondary);
  font-size: var(--font-size-xl);
  cursor: pointer;
  transition: all var(--transition-fast);
}

.installation-wizard__close:hover {
  background-color: var(--color-bg-tertiary);
  border-color: var(--color-border-hover);
  color: var(--color-text-primary);
}

.installation-wizard__close:focus {
  outline: none;
  box-shadow: 0 0 0 2px var(--color-accent-primary);
}

/* Step Indicator */
.installation-wizard__steps {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: var(--spacing-md) var(--spacing-lg);
  border-bottom: 1px solid var(--color-border);
  gap: var(--spacing-sm);
}

.installation-wizard__step-indicator {
  display: flex;
  align-items: center;
  gap: var(--spacing-sm);
}

.installation-wizard__step-number {
  width: 28px;
  height: 28px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-semibold);
  background-color: var(--color-bg-tertiary);
  color: var(--color-text-muted);
  border: 1px solid var(--color-border);
  transition: all var(--transition-fast);
}

.installation-wizard__step-indicator--active .installation-wizard__step-number {
  background-color: var(--color-accent-primary);
  color: var(--color-bg-primary);
  border-color: var(--color-accent-primary);
}

.installation-wizard__step-indicator--completed .installation-wizard__step-number {
  background-color: var(--color-accent-success);
  color: var(--color-bg-primary);
  border-color: var(--color-accent-success);
}

.installation-wizard__step-label {
  font-size: var(--font-size-sm);
  color: var(--color-text-muted);
}

.installation-wizard__step-indicator--active .installation-wizard__step-label {
  color: var(--color-text-primary);
  font-weight: var(--font-weight-medium);
}

.installation-wizard__step-indicator--completed .installation-wizard__step-label {
  color: var(--color-accent-success);
}

.installation-wizard__step-divider {
  width: 40px;
  height: 2px;
  background-color: var(--color-border);
  transition: background-color var(--transition-fast);
}

.installation-wizard__step-divider--active {
  background-color: var(--color-accent-success);
}

/* Content */
.installation-wizard__content {
  flex: 1;
  overflow-y: auto;
  padding: var(--spacing-lg);
}

.installation-wizard__content--terminal {
  padding: 0;
  overflow-y: hidden;
  display: flex;
  flex-direction: column;
}

/* Install Step */
.installation-wizard__install-step {
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
  gap: var(--spacing-md);
}

.installation-wizard__install-icon {
  color: var(--color-accent-primary);
  margin-bottom: var(--spacing-sm);
}

.installation-wizard__install-title {
  font-size: var(--font-size-lg);
  font-weight: var(--font-weight-semibold);
  color: var(--color-text-primary);
  margin: 0;
}

.installation-wizard__install-desc {
  font-size: var(--font-size-sm);
  color: var(--color-text-secondary);
  margin: 0;
  max-width: 400px;
  line-height: 1.5;
}

.installation-wizard__install-button {
  display: inline-flex;
  align-items: center;
  gap: var(--spacing-sm);
  padding: var(--spacing-sm) var(--spacing-xl);
  background-color: var(--color-accent-primary);
  color: var(--color-bg-primary);
  font-weight: var(--font-weight-medium);
  font-size: var(--font-size-base);
  border: none;
  border-radius: var(--radius-md);
  cursor: pointer;
  transition: all var(--transition-fast);
}

.installation-wizard__install-button:hover:not(:disabled) {
  filter: brightness(1.1);
}

.installation-wizard__install-button:focus {
  outline: none;
  box-shadow: 0 0 0 2px var(--color-accent-primary);
}

.installation-wizard__install-button:disabled {
  opacity: 0.6;
  cursor: not-allowed;
}

.installation-wizard__install-hint {
  font-size: var(--font-size-xs);
  color: var(--color-text-muted);
  margin: 0;
}

.installation-wizard__install-hint code {
  font-family: var(--font-family-mono);
  background-color: var(--color-bg-tertiary);
  padding: 2px 6px;
  border-radius: var(--radius-sm);
}

.installation-wizard__error {
  width: 100%;
  padding: var(--spacing-md);
  background-color: rgba(var(--color-accent-error-rgb), 0.1);
  border: 1px solid var(--color-accent-error);
  border-radius: var(--radius-md);
  color: var(--color-accent-error);
  font-size: var(--font-size-sm);
}

.installation-wizard__success {
  display: flex;
  align-items: center;
  gap: var(--spacing-sm);
  width: 100%;
  padding: var(--spacing-md);
  background-color: rgba(var(--color-accent-success-rgb), 0.1);
  border: 1px solid var(--color-accent-success);
  border-radius: var(--radius-md);
  color: var(--color-accent-success);
  font-size: var(--font-size-sm);
}

.installation-wizard__spinner {
  display: inline-block;
  width: 16px;
  height: 16px;
  border: 2px solid rgba(255, 255, 255, 0.3);
  border-top-color: currentColor;
  border-radius: 50%;
  animation: installation-wizard-spin 0.6s linear infinite;
}

@keyframes installation-wizard-spin {
  to { transform: rotate(360deg); }
}

/* Selection Step */
.installation-wizard__selection-step {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-md);
}

.installation-wizard__selection-title {
  font-size: var(--font-size-lg);
  font-weight: var(--font-weight-semibold);
  color: var(--color-text-primary);
  margin: 0;
}

.installation-wizard__selection-desc {
  font-size: var(--font-size-sm);
  color: var(--color-text-secondary);
  margin: 0;
}

.installation-wizard__existing-hint {
  display: flex;
  align-items: flex-start;
  gap: var(--spacing-sm);
  padding: var(--spacing-md);
  background-color: rgba(var(--color-accent-warning-rgb, 234, 179, 8), 0.1);
  border: 1px solid rgba(var(--color-accent-warning-rgb, 234, 179, 8), 0.3);
  border-radius: var(--radius-md);
  font-size: var(--font-size-sm);
  color: var(--color-text-secondary);
  line-height: 1.5;
}

.installation-wizard__existing-hint svg {
  flex-shrink: 0;
  margin-top: 2px;
  color: var(--color-accent-warning, #eab308);
}

.installation-wizard__existing-hint strong {
  color: var(--color-text-primary);
}

/* Command Cards */
.installation-wizard__commands {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-sm);
}

.installation-wizard__command-card {
  display: flex;
  align-items: center;
  gap: var(--spacing-md);
  padding: var(--spacing-md);
  background-color: var(--color-bg-tertiary);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  cursor: pointer;
  transition: all var(--transition-fast);
}

.installation-wizard__command-card:hover {
  background-color: var(--color-bg-elevated);
  border-color: var(--color-accent-primary);
}

.installation-wizard__command-card:focus {
  outline: none;
  box-shadow: 0 0 0 2px var(--color-accent-primary);
}

.installation-wizard__command-card--recommended {
  border-color: rgba(var(--color-accent-success-rgb), 0.4);
}

.installation-wizard__command-card--recommended:hover {
  border-color: var(--color-accent-success);
}

.installation-wizard__command-icon {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 40px;
  height: 40px;
  flex-shrink: 0;
  background-color: rgba(var(--color-accent-primary-rgb), 0.1);
  border-radius: var(--radius-md);
  color: var(--color-accent-primary);
}

.installation-wizard__command-card--recommended .installation-wizard__command-icon {
  background-color: rgba(var(--color-accent-success-rgb), 0.1);
  color: var(--color-accent-success);
}

.installation-wizard__command-info {
  display: flex;
  flex-direction: column;
  gap: 2px;
  flex: 1;
  min-width: 0;
}

.installation-wizard__command-title {
  font-size: var(--font-size-base);
  font-weight: var(--font-weight-medium);
  color: var(--color-text-primary);
}

.installation-wizard__command-desc {
  font-size: var(--font-size-sm);
  color: var(--color-text-muted);
}

.installation-wizard__command-badge {
  flex-shrink: 0;
  font-size: var(--font-size-xs);
  font-weight: var(--font-weight-medium);
  color: var(--color-accent-success);
  background-color: rgba(var(--color-accent-success-rgb), 0.15);
  padding: 2px var(--spacing-sm);
  border-radius: var(--radius-sm);
}

/* Footer */
.installation-wizard__footer {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: var(--spacing-md) var(--spacing-lg);
  border-top: 1px solid var(--color-border);
}

.installation-wizard__cancel-button {
  padding: var(--spacing-sm) var(--spacing-lg);
  background: transparent;
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  color: var(--color-text-secondary);
  font-size: var(--font-size-sm);
  cursor: pointer;
  transition: all var(--transition-fast);
}

.installation-wizard__cancel-button:hover {
  background-color: var(--color-bg-tertiary);
  border-color: var(--color-border-hover);
  color: var(--color-text-primary);
}

.installation-wizard__cancel-button:focus {
  outline: none;
  box-shadow: 0 0 0 2px var(--color-accent-primary);
}

.installation-wizard__skip-button {
  padding: var(--spacing-sm) var(--spacing-lg);
  background: transparent;
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  color: var(--color-text-secondary);
  font-size: var(--font-size-sm);
  cursor: pointer;
  transition: all var(--transition-fast);
}

.installation-wizard__skip-button:hover {
  background-color: var(--color-bg-tertiary);
  border-color: var(--color-border-hover);
  color: var(--color-text-primary);
}

.installation-wizard__skip-button:focus {
  outline: none;
  box-shadow: 0 0 0 2px var(--color-accent-primary);
}

/* ========================================
   Getting Started View (IW-005)
   ======================================== */

.getting-started-container {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-xl);
  max-width: 800px;
  margin: 0 auto;
  padding: var(--spacing-2xl) var(--spacing-lg);
}

.getting-started-header {
  text-align: center;
}

.getting-started-title {
  font-size: var(--font-size-2xl);
  font-weight: var(--font-weight-bold);
  color: var(--color-text-primary);
  margin: 0 0 var(--spacing-sm) 0;
}

.getting-started-subtitle {
  font-size: var(--font-size-base);
  color: var(--color-text-secondary);
  margin: 0;
  line-height: var(--line-height-relaxed);
}

/* Hint Banners */
.getting-started-hint {
  display: flex;
  align-items: center;
  gap: var(--spacing-md);
  padding: var(--spacing-md) var(--spacing-lg);
  background-color: var(--color-bg-secondary);
  border: 1px solid var(--color-accent-warning);
  border-radius: var(--radius-lg);
  font-size: var(--font-size-sm);
  color: var(--color-text-secondary);
  line-height: var(--line-height-relaxed);
}

.getting-started-hint--info {
  border-color: var(--color-accent-primary);
}

.getting-started-hint--info svg {
  flex-shrink: 0;
  color: var(--color-accent-primary);
}

.getting-started-hint svg {
  flex-shrink: 0;
  color: var(--color-accent-warning);
}

.getting-started-hint__icon {
  display: flex;
  align-items: center;
  flex-shrink: 0;
}

.getting-started-hint__content {
  flex: 1;
}

.getting-started-hint__title {
  font-weight: var(--font-weight-semibold);
  color: var(--color-text-primary);
  margin: 0 0 var(--spacing-xs) 0;
}

.getting-started-hint__description {
  margin: 0;
}

.getting-started-hint__action {
  margin-top: var(--spacing-sm);
  padding: var(--spacing-xs) var(--spacing-md);
  background: var(--color-accent-primary);
  color: var(--color-bg-primary);
  border: none;
  border-radius: var(--radius-sm);
  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-semibold);
  cursor: pointer;
  transition: opacity 0.15s ease;
}

.getting-started-hint__action:hover {
  opacity: 0.85;
}

/* Action Cards Grid */
.getting-started-cards {
  display: grid;
  grid-template-columns: 1fr;
  gap: var(--spacing-sm);
}

.getting-started-cards--disabled {
  opacity: 0.5;
  pointer-events: none;
}

/* Card */
.getting-started-card {
  display: flex;
  align-items: center;
  gap: var(--spacing-md);
  padding: var(--spacing-md) var(--spacing-lg);
  background-color: var(--color-bg-secondary);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-lg);
  cursor: pointer;
  transition: all var(--transition-fast);
  text-align: left;
  font-family: inherit;
  font-size: inherit;
  color: inherit;
  width: 100%;
}

.getting-started-card:hover {
  background-color: var(--color-bg-tertiary);
  border-color: var(--color-accent-primary);
  box-shadow: var(--shadow-sm);
}

.getting-started-card:focus-visible {
  outline: none;
  box-shadow: 0 0 0 2px var(--color-accent-primary);
}

.getting-started-card--disabled {
  cursor: not-allowed;
  opacity: 0.6;
}

.getting-started-card--disabled:hover {
  background-color: var(--color-bg-secondary);
  border-color: var(--color-border);
  box-shadow: none;
}

.getting-started-card--skeleton {
  min-height: 160px;
  background: linear-gradient(
    90deg,
    var(--color-bg-secondary) 25%,
    var(--color-bg-elevated) 50%,
    var(--color-bg-secondary) 75%
  );
  background-size: 200% 100%;
  animation: skeleton-shimmer 1.5s ease-in-out infinite;
  border: 1px solid var(--color-border);
  border-radius: var(--radius-lg);
  cursor: default;
}

@keyframes skeleton-shimmer {
  0% { background-position: 200% 0; }
  100% { background-position: -200% 0; }
}

.getting-started-card__icon {
  color: var(--color-accent-primary);
  display: flex;
  align-items: center;
  justify-content: center;
  width: 40px;
  height: 40px;
  flex-shrink: 0;
  background-color: rgba(var(--color-accent-primary-rgb), 0.1);
  border-radius: var(--radius-md);
}

.getting-started-card__icon svg {
  width: 20px;
  height: 20px;
}

.getting-started-card__title {
  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-semibold);
  color: var(--color-text-primary);
  margin: 0 0 var(--spacing-xs) 0;
}

.getting-started-card__description {
  font-size: var(--font-size-xs);
  color: var(--color-text-secondary);
  margin: 0;
  line-height: var(--line-height-relaxed);
}
